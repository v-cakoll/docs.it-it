---
title: Architettura di applicazioni basate su contenitori e microservizi
description: Architettura di microservizi .NET per le applicazioni .NET incluse in contenitori | Architettura di applicazioni .NET basate su contenitori e microservizi
keywords: Docker, microservizi, ASP.NET, contenitore
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 05/26/2017
ms.prod: .net-core
ms.technology: dotnet-docker
ms.topic: article
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 9b3088d93ead589c0b295bc3d2807fc98ee8ea75
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/23/2017
---
# <a name="architecting-container--and-microservice-based-applications"></a><span data-ttu-id="5e27e-104">Architettura di applicazioni basate su contenitori e microservizi</span><span class="sxs-lookup"><span data-stu-id="5e27e-104">Architecting Container- and Microservice-Based Applications</span></span>

<span data-ttu-id="5e27e-105">*I microservizi offrono notevoli vantaggi, ma generano anche nuove problematiche importanti. I modelli di architettura di microservizi sono fondamentali per la creazione di un'applicazione basata su microservizi.*</span><span class="sxs-lookup"><span data-stu-id="5e27e-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="5e27e-106">Negli argomenti precedenti di questa Guida sono stati spiegati i concetti di base sui contenitori e Docker.</span><span class="sxs-lookup"><span data-stu-id="5e27e-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="5e27e-107">Le informazioni fornite sono il minimo necessario per iniziare a usare i contenitori.</span><span class="sxs-lookup"><span data-stu-id="5e27e-107">That was the minimum information you need in order to get started with containers.</span></span> <span data-ttu-id="5e27e-108">Anche nei casi in cui i contenitori hanno la funzione di abilitatori e sebbene siano adatti per i microservizi, non sono obbligatori per un'architettura di microservizi e molti concetti relativi all'architettura presentati in questa sezione potrebbero essere applicati anche senza i contenitori.</span><span class="sxs-lookup"><span data-stu-id="5e27e-108">Although, even when containers are enablers and a great fit for microservices, they are not mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="5e27e-109">Queste istruzioni si concentrano tuttavia sulla combinazione di questi elementi, data l'importanza già descritta dei contenitori.</span><span class="sxs-lookup"><span data-stu-id="5e27e-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="5e27e-110">Le applicazioni aziendali possono essere complesse e spesso sono composte da più servizi anziché da una singola applicazione basata su servizi.</span><span class="sxs-lookup"><span data-stu-id="5e27e-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="5e27e-111">In questi casi, è necessario comprendere altri approcci per la creazione dell'architettura, ad esempio i microservizi e alcuni schemi di progettazione basata su domini, oltre ai concetti di orchestrazione dei contenitori.</span><span class="sxs-lookup"><span data-stu-id="5e27e-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="5e27e-112">Questo capitolo riguarda non solo i microservizi su contenitori, ma anche qualsiasi applicazione inclusa in un contenitore.</span><span class="sxs-lookup"><span data-stu-id="5e27e-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="5e27e-113">Principi di progettazione dei contenitori</span><span class="sxs-lookup"><span data-stu-id="5e27e-113">Container design principles</span></span>

<span data-ttu-id="5e27e-114">Nel modello di contenitore, un'istanza dell'immagine del contenitore rappresenta un singolo processo.</span><span class="sxs-lookup"><span data-stu-id="5e27e-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="5e27e-115">Definendo l'immagine di un contenitore come limite del processo, è possibile creare le primitive che possono essere usate per ridimensionare il processo o suddividerlo in batch.</span><span class="sxs-lookup"><span data-stu-id="5e27e-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="5e27e-116">Quando si progetta un'immagine del contenitore, Dockerfile conterrà una definizione [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/).</span><span class="sxs-lookup"><span data-stu-id="5e27e-116">When you design a container image, you will see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/) definition in the Dockerfile.</span></span> <span data-ttu-id="5e27e-117">In questo modo viene definito il processo il cui ciclo di vita controlla il ciclo di vita del contenitore.</span><span class="sxs-lookup"><span data-stu-id="5e27e-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="5e27e-118">Al completamento del processo, termina il ciclo di vita del contenitore.</span><span class="sxs-lookup"><span data-stu-id="5e27e-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="5e27e-119">I contenitori potrebbero rappresentare processi a esecuzione prolungata come i server Web, ma possono anche rappresentare i processi di breve durata, come i processi batch, che in precedenza potrebbero essere stati implementati come [processi Web](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources) di Azure.</span><span class="sxs-lookup"><span data-stu-id="5e27e-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://docs.microsoft.com/azure/app-service-web/websites-webjobs-resources).</span></span>

<span data-ttu-id="5e27e-120">Se il processo ha esito negativo, il ciclo di vita del contenitore termina e subentra l'agente di orchestrazione.</span><span class="sxs-lookup"><span data-stu-id="5e27e-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="5e27e-121">Se l'agente di orchestrazione è stato configurato per mantenere cinque istanze in esecuzione e una non riesce, crea un'altra istanza del contenitore per sostituire il processo non riuscito.</span><span class="sxs-lookup"><span data-stu-id="5e27e-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="5e27e-122">In un processo batch, il processo viene avviato con parametri.</span><span class="sxs-lookup"><span data-stu-id="5e27e-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="5e27e-123">Al termine del processo, il lavoro risulta completato.</span><span class="sxs-lookup"><span data-stu-id="5e27e-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="5e27e-124">Più avanti in questo materiale sussidiario viene eseguito il drill-down degli agenti di orchestrazione.</span><span class="sxs-lookup"><span data-stu-id="5e27e-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="5e27e-125">In alcune situazioni occorre che più processi vengano eseguiti in un singolo contenitore.</span><span class="sxs-lookup"><span data-stu-id="5e27e-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="5e27e-126">In questi casi, poiché può esserci un solo punto di ingresso per ogni contenitore, è possibile eseguire uno script all'interno del contenitore per avviare tutti i programmi necessari.</span><span class="sxs-lookup"><span data-stu-id="5e27e-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="5e27e-127">È ad esempio possibile usare [Supervisor](http://supervisord.org/) o uno strumento simile per avviare più processi in un solo contenitore.</span><span class="sxs-lookup"><span data-stu-id="5e27e-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="5e27e-128">Anche se è possibile trovare architetture che supportano più processi per ogni contenitore, questo approccio non è tuttavia molto comune.</span><span class="sxs-lookup"><span data-stu-id="5e27e-128">However, even though you can find architectures that hold multiple processes per container, that approach it is not very common.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="5e27e-129">[Precedente] (../net-core-net-framework-containers/official-net-docker-images.md) [Successivo] (containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="5e27e-129">[Previous] (../net-core-net-framework-containers/official-net-docker-images.md) [Next] (containerize-monolithic-applications.md)</span></span>
