---
title: Scelta tra DateTime, DateTimeOffset, TimeSpan e TimeZoneInfo
ms.date: 04/10/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DateTimeOffset structure
- TimeZoneInfo class
- time zones [.NET Framework], common uses
- date and time classes [.NET Framework]
- time zones [.NET Framework], type options
- DateTime structure
ms.assetid: 07f17aad-3571-4014-9ef3-b695a86f3800
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 54392ce12ca93d3a7979b1d0bbc78132773f88ce
ms.sourcegitcommit: 64f4baed249341e5bf64d1385bf48e3f2e1a0211
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/08/2018
ms.locfileid: "44176108"
---
# <a name="choosing-between-datetime-datetimeoffset-timespan-and-timezoneinfo"></a><span data-ttu-id="fd1ae-102">Scelta tra DateTime, DateTimeOffset, TimeSpan e TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="fd1ae-102">Choosing between DateTime, DateTimeOffset, TimeSpan, and TimeZoneInfo</span></span>

<span data-ttu-id="fd1ae-103">Le applicazioni .NET che usano informazioni su data e ora sono molto diversificate e possono usare tali informazioni in modi diversi.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-103">.NET applications that use date and time information are very diverse and can use that information in several ways.</span></span> <span data-ttu-id="fd1ae-104">Gli utilizzi più comuni delle informazioni su data e ora includono uno o più dei seguenti:</span><span class="sxs-lookup"><span data-stu-id="fd1ae-104">The more common uses of date and time information include one or more of the following:</span></span>

* <span data-ttu-id="fd1ae-105">Indicare solo una data, perché le informazioni sull'ora non sono importanti.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-105">To reflect a date only, so that time information is not important.</span></span>

* <span data-ttu-id="fd1ae-106">Indicare solo un'ora, perché le informazioni sulla data non sono importanti.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-106">To reflect a time only, so that date information is not important.</span></span>

* <span data-ttu-id="fd1ae-107">Indicare una data e un'ora astratte e non associate a un momento e un luogo specifici. Ad esempio, la maggior parte dei negozi di una catena internazionale apre alle 9.00 di ogni giorno feriale.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-107">To reflect an abstract date and time that is not tied to a specific time and place (for example, most stores in an international chain open on weekdays at 9:00 A.M.).</span></span>

* <span data-ttu-id="fd1ae-108">Per recuperare informazioni su data e ora da origini esterne .NET, in genere in cui le informazioni di data e ora sono archiviate in un semplice tipo di dati.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-108">To retrieve date and time information from sources outside of .NET, typically where date and time information is stored in a simple data type.</span></span>

* <span data-ttu-id="fd1ae-109">Identificare in modo univoco e senza ambiguità un singolo momento.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-109">To uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="fd1ae-110">In alcune applicazioni è necessario che la data e l'ora siano non ambigue solo nel sistema host, in altre devono non esserlo in tutti i sistemi (ovvero, una data serializzata in un sistema può essere deserializzata in modo significativo e usata in un altro sistema in qualsiasi parte del mondo).</span><span class="sxs-lookup"><span data-stu-id="fd1ae-110">Some applications require that a date and time be unambiguous only on the host system; others require that it be unambiguous across systems (that is, a date serialized on one system can be meaningfully deserialized and used on another system anywhere in the world).</span></span>

* <span data-ttu-id="fd1ae-111">Mantenere più ore correlate, ad esempio l'ora locale del richiedente e l'ora di ricezione di una richiesta Web nel server.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-111">To preserve multiple related times (such as the requestor's local time and the server's time of receipt for a Web request).</span></span>

* <span data-ttu-id="fd1ae-112">Eseguire operazioni aritmetiche per date e ore, possibilmente con un risultato che identifichi in modo univoco e senza ambiguità una singolo momento.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-112">To perform date and time arithmetic, possibly with a result that uniquely and unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="fd1ae-113">.NET include i <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, e <xref:System.TimeZoneInfo> tipi, ognuno dei quali può essere utilizzato per compilare applicazioni che funzionano con date e ore.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-113">.NET includes the <xref:System.DateTime>, <xref:System.DateTimeOffset>, <xref:System.TimeSpan>, and <xref:System.TimeZoneInfo> types, all of which can be used to build applications that work with dates and times.</span></span>

> [!NOTE]
> <span data-ttu-id="fd1ae-114">Questo argomento non descrive un quarto tipo, <xref:System.TimeZone>, la cui funzionalità è quasi interamente integrata nella classe <xref:System.TimeZoneInfo> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-114">This topic does not discuss a fourth type, <xref:System.TimeZone>, because its functionality is almost entirely incorporated in the <xref:System.TimeZoneInfo> class.</span></span> <span data-ttu-id="fd1ae-115">Quando è possibile, gli sviluppatori devono usare la classe <xref:System.TimeZoneInfo> invece della classe <xref:System.TimeZone> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-115">Whenever possible, developers should use the <xref:System.TimeZoneInfo> class instead of the <xref:System.TimeZone> class.</span></span>

## <a name="the-datetime-structure"></a><span data-ttu-id="fd1ae-116">Struttura DateTime</span><span class="sxs-lookup"><span data-stu-id="fd1ae-116">The DateTime structure</span></span>

<span data-ttu-id="fd1ae-117">Un valore <xref:System.DateTime> definisce una data e un'ora specifiche.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-117">A <xref:System.DateTime> value defines a particular date and time.</span></span> <span data-ttu-id="fd1ae-118">Include un <xref:System.DateTime.Kind%2A> proprietà che fornisce informazioni limitate sul fuso orario in cui tale data e ora a cui appartiene.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-118">It includes a <xref:System.DateTime.Kind%2A> property that provides limited information about the time zone to which that date and time belongs.</span></span> <span data-ttu-id="fd1ae-119">Il <xref:System.DateTimeKind> valore restituito dal <xref:System.DateTime.Kind%2A> proprietà indica se il <xref:System.DateTime> valore rappresenta l'ora locale (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), Coordinated Universal Time (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>), o un'ora non specificata (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="fd1ae-119">The <xref:System.DateTimeKind> value returned by the <xref:System.DateTime.Kind%2A> property indicates whether the <xref:System.DateTime> value represents the local time (<xref:System.DateTimeKind.Local?displayProperty=nameWithType>), Coordinated Universal Time (UTC) (<xref:System.DateTimeKind.Utc?displayProperty=nameWithType>), or an unspecified time (<xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>).</span></span>

<span data-ttu-id="fd1ae-120">La struttura <xref:System.DateTime> è adatta per le applicazioni che hanno le caratteristiche seguenti:</span><span class="sxs-lookup"><span data-stu-id="fd1ae-120">The <xref:System.DateTime> structure is suitable for applications that do the following:</span></span>

* <span data-ttu-id="fd1ae-121">Usano solo date.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-121">Work with dates only.</span></span>

* <span data-ttu-id="fd1ae-122">Usano solo ore.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-122">Work with times only.</span></span>

* <span data-ttu-id="fd1ae-123">Usano date e ore astratte.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-123">Work with abstract dates and times.</span></span>

* <span data-ttu-id="fd1ae-124">Usano date e ore per le quali mancano informazioni sul fuso orario.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-124">Work with dates and times for which time zone information is missing.</span></span>

* <span data-ttu-id="fd1ae-125">Usano solo date e ore UTC.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-125">Work with UTC dates and times only.</span></span>

* <span data-ttu-id="fd1ae-126">Recuperare informazioni su data e ora da origini esterne .NET, ad esempio i database SQL.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-126">Retrieve date and time information from sources outside of .NET, such as SQL databases.</span></span> <span data-ttu-id="fd1ae-127">In genere, queste origini archiviano le informazioni su data e ora in un formato semplice, compatibile con la struttura <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-127">Typically, these sources store date and time information in a simple format that is compatible with the <xref:System.DateTime> structure.</span></span>

* <span data-ttu-id="fd1ae-128">Eseguono operazioni aritmetiche su date e ore, ma con particolare attenzione ai risultati generali.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-128">Perform date and time arithmetic, but are concerned with general results.</span></span> <span data-ttu-id="fd1ae-129">Ad esempio, in un'operazione di addizione che aggiunge sei mesi a una data e un'ora specifiche, spesso non è importante se il risultato viene adattato per l'ora legale.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-129">For example, in an addition operation that adds six months to a particular date and time, it is often not important whether the result is adjusted for daylight saving time.</span></span>

<span data-ttu-id="fd1ae-130">A meno che un determinato valore <xref:System.DateTime> non rappresenti un'ora UTC, il valore di data e ora è spesso ambiguo e limitato in fatto di portabilità.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-130">Unless a particular <xref:System.DateTime> value represents UTC, that date and time value is often ambiguous or limited in its portability.</span></span> <span data-ttu-id="fd1ae-131">Ad esempio, se un valore <xref:System.DateTime> rappresenta l'ora locale, è portabile solo all'interno del fuso orario locale. Di conseguenza, se il valore viene deserializzato in un altro sistema con lo stesso fuso orario, identifica comunque un singolo momento senza ambiguità.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-131">For example, if a <xref:System.DateTime> value represents the local time, it is portable within that local time zone (that is, if the value is deserialized on another system in the same time zone, that value still unambiguously identifies a single point in time).</span></span> <span data-ttu-id="fd1ae-132">Al di fuori del fuso orario locale, tale valore <xref:System.DateTime> è soggetto a più interpretazioni.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-132">Outside the local time zone, that <xref:System.DateTime> value can have multiple interpretations.</span></span> <span data-ttu-id="fd1ae-133">Se la proprietà <xref:System.DateTime.Kind%2A> del valore è <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, il valore è ancora meno portabile, in quanto è ora ambiguo all'interno dello stesso fuso orario e probabilmente anche nello stesso sistema in cui è stato inizialmente serializzato.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-133">If the value's <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind.Unspecified?displayProperty=nameWithType>, it is even less portable: it is now ambiguous within the same time zone and possibly even on the same system on which it was first serialized.</span></span> <span data-ttu-id="fd1ae-134">Solo se un valore <xref:System.DateTime> rappresenta un'ora UTC, identifica senza ambiguità un singolo momento, indipendentemente dal sistema o dal fuso orario in cui viene usato.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-134">Only if a <xref:System.DateTime> value represents UTC does that value unambiguously identify a single point in time regardless of the system or time zone in which the value is used.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="fd1ae-135">Quando si salvano o condividono dati <xref:System.DateTime>, è consigliabile usare UTC e la proprietà <xref:System.DateTime.Kind%2A> del valore <xref:System.DateTime> deve essere impostata su <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-135">When saving or sharing <xref:System.DateTime> data, UTC should be used and the <xref:System.DateTime> value's <xref:System.DateTime.Kind%2A> property should be set to <xref:System.DateTimeKind.Utc?displayProperty=nameWithType>.</span></span>

## <a name="the-datetimeoffset-structure"></a><span data-ttu-id="fd1ae-136">Struttura DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="fd1ae-136">The DateTimeOffset structure</span></span>

<span data-ttu-id="fd1ae-137">La struttura <xref:System.DateTimeOffset> rappresenta un valore di data e ora, insieme a un offset che indica la differenza di tale valore rispetto all'ora UTC.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-137">The <xref:System.DateTimeOffset> structure represents a date and time value, together with an offset that indicates how much that value differs from UTC.</span></span> <span data-ttu-id="fd1ae-138">In questo modo, il valore identifica sempre senza ambiguità un singolo momento.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-138">Thus, the value always unambiguously identifies a single point in time.</span></span>

<span data-ttu-id="fd1ae-139">Il tipo <xref:System.DateTimeOffset> include tutte le funzionalità del tipo <xref:System.DateTime> insieme alla compatibilità del fuso orario.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-139">The <xref:System.DateTimeOffset> type includes all of the functionality of the <xref:System.DateTime> type along with time zone awareness.</span></span> <span data-ttu-id="fd1ae-140">Ciò rende ideale per le applicazioni di cui eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="fd1ae-140">This makes it suitable for applications that do the following:</span></span>

* <span data-ttu-id="fd1ae-141">Identificano in modo univoco e non ambiguo un singolo momento.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-141">Uniquely and unambiguously identify a single point in time.</span></span> <span data-ttu-id="fd1ae-142">Il tipo <xref:System.DateTimeOffset> può essere usato per definire senza ambiguità il significato di "adesso", per registrare data e ora delle transazioni, del sistema o degli eventi delle applicazioni, nonché registrare data e ora di creazione e modifica dei file.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-142">The <xref:System.DateTimeOffset> type can be used to unambiguously define the meaning of "now", to log transaction times, to log the times of system or application events, and to record file creation and modification times.</span></span>

* <span data-ttu-id="fd1ae-143">Eseguono operazioni aritmetiche su data e ora.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-143">Perform general date and time arithmetic.</span></span>

* <span data-ttu-id="fd1ae-144">Mantengono più date e ore correlate, purché vengano archiviate come due valori separati o due membri di una struttura.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-144">Preserve multiple related times, as long as those times are stored as two separate values or as two members of a structure.</span></span>

> [!NOTE]
> <span data-ttu-id="fd1ae-145">Questi utilizzi per i valori <xref:System.DateTimeOffset> sono molto più comuni di quelli per i valori <xref:System.DateTime> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-145">These uses for <xref:System.DateTimeOffset> values are much more common than those for <xref:System.DateTime> values.</span></span> <span data-ttu-id="fd1ae-146">Di conseguenza, <xref:System.DateTimeOffset> deve essere considerato il tipo di data e ora predefinito per lo sviluppo di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-146">As a result, <xref:System.DateTimeOffset> should be considered the default date and time type for application development.</span></span>

<span data-ttu-id="fd1ae-147">Un valore <xref:System.DateTimeOffset> non è associato a un determinato fuso orario, ma può derivare da svariati fusi orari diversi.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-147">A <xref:System.DateTimeOffset> value is not tied to a particular time zone, but can originate from any of a variety of time zones.</span></span> <span data-ttu-id="fd1ae-148">Per illustrare questo concetto, l'esempio seguente elenca i fusi orari cui può appartenere un certo numero di valori <xref:System.DateTimeOffset> (incluso un valore con ora solare Pacifico locale).</span><span class="sxs-lookup"><span data-stu-id="fd1ae-148">To illustrate this, the following example lists the time zones to which a number of <xref:System.DateTimeOffset> values (including a local Pacific Standard Time) can belong.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/cs/Conceptual1.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual/vb/Conceptual1.vb#1)]

<span data-ttu-id="fd1ae-149">L'output mostra che ogni valore di data e ora nell'esempio può appartenere almeno a tre fusi orari diversi.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-149">The output shows that each date and time value in this example can belong to at least three different time zones.</span></span> <span data-ttu-id="fd1ae-150">Il valore <xref:System.DateTimeOffset> 6/10/2007 mostra che se un valore di data e ora rappresenta un orario con ora legale, il suo offset dall'ora UTC non corrisponde necessariamente all'offset UTC di base del fuso orario di origine o all'offset dall'ora UTC indicato nel nome visualizzato.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-150">The <xref:System.DateTimeOffset> value of 6/10/2007 shows that if a date and time value represents a daylight saving time, its offset from UTC does not even necessarily correspond to the originating time zone's base UTC offset or to the offset from UTC found in its display name.</span></span> <span data-ttu-id="fd1ae-151">Questo significa che poiché un singolo valore <xref:System.DateTimeOffset> non è strettamente collegato al proprio fuso orario, non può indicare la transizione di un fuso orario da e verso l'ora legale.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-151">This means that, because a single <xref:System.DateTimeOffset> value is not tightly coupled with its time zone, it cannot reflect a time zone's transition to and from daylight saving time.</span></span> <span data-ttu-id="fd1ae-152">Questo comportamento può rivelarsi particolarmente problematico quando vengono usate operazioni aritmetiche per date e ore per modificare un valore <xref:System.DateTimeOffset> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-152">This can be particularly problematic when date and time arithmetic is used to manipulate a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="fd1ae-153">Per informazioni su come eseguire operazioni aritmetiche per date e ore che tengano conto delle regole di adeguamento del fuso orario, vedere [Performing arithmetic operations with dates and times](../../../docs/standard/datetime/performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="fd1ae-153">(For a discussion of how to perform date and time arithmetic in a way that takes account of a time zone's adjustment rules, see [Performing arithmetic operations with dates and times](../../../docs/standard/datetime/performing-arithmetic-operations.md).)</span></span>

## <a name="the-timespan-structure"></a><span data-ttu-id="fd1ae-154">Struttura TimeSpan</span><span class="sxs-lookup"><span data-stu-id="fd1ae-154">The TimeSpan structure</span></span>

<span data-ttu-id="fd1ae-155">La struttura <xref:System.TimeSpan> rappresenta un intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-155">The <xref:System.TimeSpan> structure represents a time interval.</span></span> <span data-ttu-id="fd1ae-156">Ecco i due utilizzi tipici:</span><span class="sxs-lookup"><span data-stu-id="fd1ae-156">Its two typical uses are:</span></span>

* <span data-ttu-id="fd1ae-157">Indicare l'intervallo di tempo tra due valori di data e ora.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-157">Reflecting the time interval between two date and time values.</span></span> <span data-ttu-id="fd1ae-158">Ad esempio, la sottrazione di un valore <xref:System.DateTime> da un altro restituisce un valore <xref:System.TimeSpan> .</span><span class="sxs-lookup"><span data-stu-id="fd1ae-158">For example, subtracting one <xref:System.DateTime> value from another returns a <xref:System.TimeSpan> value.</span></span>

* <span data-ttu-id="fd1ae-159">Misurare il tempo trascorso.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-159">Measuring elapsed time.</span></span> <span data-ttu-id="fd1ae-160">Ad esempio, il <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> proprietà restituisce un <xref:System.TimeSpan> valore che indica l'intervallo di tempo trascorso dalla chiamata a uno del <xref:System.Diagnostics.Stopwatch> metodi che inizia a misurare il tempo trascorso.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-160">For example, the <xref:System.Diagnostics.Stopwatch.Elapsed%2A?displayProperty=nameWithType> property returns a <xref:System.TimeSpan> value that reflects the time interval that has elapsed since the call to one of the <xref:System.Diagnostics.Stopwatch> methods that begins to measure elapsed time.</span></span>

<span data-ttu-id="fd1ae-161">Un valore <xref:System.TimeSpan> può essere usato anche come sostituzione per un valore <xref:System.DateTime> quando tale valore indica un momento senza riferimento a una determinata ora del giorno.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-161">A <xref:System.TimeSpan> value can also be used as a replacement for a <xref:System.DateTime> value when that value reflects a time without reference to a particular time of day.</span></span> <span data-ttu-id="fd1ae-162">Questo utilizzo è simile al <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> e <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> delle proprietà, che restituiscono un <xref:System.TimeSpan> valore che rappresenta l'ora senza riferimento a una data.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-162">This usage is similar to the <xref:System.DateTime.TimeOfDay%2A?displayProperty=nameWithType> and <xref:System.DateTimeOffset.TimeOfDay%2A?displayProperty=nameWithType> properties, which return a <xref:System.TimeSpan> value that represents the time without reference to a date.</span></span> <span data-ttu-id="fd1ae-163">Ad esempio, la struttura <xref:System.TimeSpan> può essere usata per indicare l'ora di apertura o di chiusura di un negozio oppure per rappresentare l'ora a cui si verifica un evento regolare.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-163">For example, the <xref:System.TimeSpan> structure can be used to reflect a store's daily opening or closing time, or it can be used to represent the time at which any regular event occurs.</span></span>

<span data-ttu-id="fd1ae-164">L'esempio seguente definisce una struttura `StoreInfo` che include oggetti <xref:System.TimeSpan> per le ore di apertura e di chiusura di un negozio, nonché un oggetto <xref:System.TimeZoneInfo> che rappresenta il fuso orario del negozio.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-164">The following example defines a `StoreInfo` structure that includes <xref:System.TimeSpan> objects for store opening and closing times, as well as a <xref:System.TimeZoneInfo> object that represents the store's time zone.</span></span> <span data-ttu-id="fd1ae-165">La struttura include anche due metodi, `IsOpenNow` e `IsOpenAt`, che indicano se il negozio è aperto a un'ora specificata dall'utente, che si suppone si trovi nel fuso orario locale.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-165">The structure also includes two methods, `IsOpenNow` and `IsOpenAt`, that indicates whether the store is open at a time specified by the user, who is assumed to be in the local time zone.</span></span>

[!code-csharp[Conceptual.ChoosingDates#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#1)]
[!code-vb[Conceptual.ChoosingDates#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#1)]

<span data-ttu-id="fd1ae-166">La struttura `StoreInfo` può quindi essere usata da codice client simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-166">The `StoreInfo` structure can then be used by client code like the following.</span></span>

[!code-csharp[Conceptual.ChoosingDates#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.choosingdates/cs/datetimereplacement1.cs#2)]
[!code-vb[Conceptual.ChoosingDates#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.choosingdates/vb/datetimereplacement1.vb#2)]

## <a name="the-timezoneinfo-class"></a><span data-ttu-id="fd1ae-167">Classe TimeZoneInfo</span><span class="sxs-lookup"><span data-stu-id="fd1ae-167">The TimeZoneInfo class</span></span>

<span data-ttu-id="fd1ae-168">La classe <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-168">The <xref:System.TimeZoneInfo> class represents any of the Earth's time zones, and enables the conversion of any date and time in one time zone to its equivalent in another time zone.</span></span> <span data-ttu-id="fd1ae-169">La classe <xref:System.TimeZoneInfo> permette di usare date e ore in modo che qualsiasi valore di data e ora identifichi un singolo momento senza ambiguità.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-169">The <xref:System.TimeZoneInfo> class makes it possible to work with dates and times so that any date and time value unambiguously identifies a single point in time.</span></span> <span data-ttu-id="fd1ae-170">La classe <xref:System.TimeZoneInfo> può anche essere estesa.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-170">The <xref:System.TimeZoneInfo> class is also extensible.</span></span> <span data-ttu-id="fd1ae-171">Benché dipenda dalle informazioni sul fuso orario fornite per i sistemi Windows e definite nel Registro di sistema, questa classe supporta la creazione di fusi orari personalizzati.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-171">Although it depends on time zone information provided for Windows systems and defined in the registry, it supports the creation of custom time zones.</span></span> <span data-ttu-id="fd1ae-172">Supporta anche la serializzazione e la deserializzazione delle informazioni sul fuso orario.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-172">It also supports the serialization and deserialization of time zone information.</span></span>

<span data-ttu-id="fd1ae-173">In alcuni casi, per sfruttare tutti i vantaggi della classe <xref:System.TimeZoneInfo> possono essere necessarie attività aggiuntive di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-173">In some cases, taking full advantage of the <xref:System.TimeZoneInfo> class may require further development work.</span></span> <span data-ttu-id="fd1ae-174">Se i valori di data e ora non sono strettamente collegati ai fusi orari a cui appartengono, un'ulteriore lavoro è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-174">If date and time values are not tightly coupled with the time zones to which they belong, further work is required.</span></span> <span data-ttu-id="fd1ae-175">A meno che l'applicazione fornisca un meccanismo per collegare una data e ora con il fuso orario associato, è facile per un determinato valore data e ora non risultino proprio fuso orario.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-175">Unless your application provides some mechanism for linking a date and time with its associated time zone, it's easy for a particular date and time value to become disassociated from its time zone.</span></span> <span data-ttu-id="fd1ae-176">Un metodo per collegare queste informazioni consiste nel definire una classe o una struttura che contiene sia i valori di data e ora sia l'oggetto fuso orario associato.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-176">One method of linking this information is to define a class or structure that contains both the date and time value and its associated time zone object.</span></span>

<span data-ttu-id="fd1ae-177">L'uso del supporto per i fusi orari in .NET è possibile solo se il fuso orario cui appartengono la data e l'ora è noto quando viene creata un'istanza dell'oggetto data e ora.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-177">Taking advantage of time zone support in .NET is possible only if the time zone to which a date and time value belongs is known when that date and time object is instantiated.</span></span> <span data-ttu-id="fd1ae-178">Questo è un caso piuttosto raro, in particolare nelle applicazioni Web o di rete.</span><span class="sxs-lookup"><span data-stu-id="fd1ae-178">This is often not the case, particularly in Web or network applications.</span></span>

## <a name="see-also"></a><span data-ttu-id="fd1ae-179">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="fd1ae-179">See also</span></span>

* [<span data-ttu-id="fd1ae-180">Date, ore e fusi orari</span><span class="sxs-lookup"><span data-stu-id="fd1ae-180">Dates, times, and time zones</span></span>](../../../docs/standard/datetime/index.md)
