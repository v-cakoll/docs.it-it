---
title: Parallelismo dei dati (Task Parallel Library)
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parallelism, data
ms.assetid: 3f05f33f-f1da-4b16-81c2-9ceff1bef449
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 3450908cadff453df79ab8fcf10285c25dfa50a7
ms.sourcegitcommit: 40364ded04fa6cdcb2b6beca7f68412e2e12f633
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/28/2019
ms.locfileid: "56976226"
---
# <a name="data-parallelism-task-parallel-library"></a><span data-ttu-id="0a902-102">Parallelismo dei dati (Task Parallel Library)</span><span class="sxs-lookup"><span data-stu-id="0a902-102">Data Parallelism (Task Parallel Library)</span></span>
<span data-ttu-id="0a902-103">Con l'espressione *parallelismo dei dati* ci si riferisce a scenari in cui la stessa operazione viene eseguita contemporaneamente (ovvero in parallelo) sugli elementi di una matrice o una raccolta di origine.</span><span class="sxs-lookup"><span data-stu-id="0a902-103">*Data parallelism* refers to scenarios in which the same operation is performed concurrently (that is, in parallel) on elements in a source collection or array.</span></span> <span data-ttu-id="0a902-104">Nelle operazioni in parallelo su dati la raccolta di origine viene suddivisa in partizioni in modo che più thread possano agire simultaneamente su segmenti diversi.</span><span class="sxs-lookup"><span data-stu-id="0a902-104">In data parallel operations, the source collection is partitioned so that multiple threads can operate on different segments concurrently.</span></span>  
  
 <span data-ttu-id="0a902-105">La libreria Task Parallel Library (TPL) supporta il parallelismo dei dati tramite la classe <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0a902-105">The Task Parallel Library (TPL) supports data parallelism through the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="0a902-106">Questa classe fornisce le implementazioni in parallelo basate su metodo dei cicli [for](~/docs/csharp/language-reference/keywords/for.md) e [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) (`For` e `For Each` in Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="0a902-106">This class provides method-based parallel implementations of [for](~/docs/csharp/language-reference/keywords/for.md) and [foreach](~/docs/csharp/language-reference/keywords/foreach-in.md) loops (`For` and `For Each` in Visual Basic).</span></span> <span data-ttu-id="0a902-107">La scrittura della logica di un ciclo <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> o <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> è molto simile a quella della logica di un ciclo sequenziale.</span><span class="sxs-lookup"><span data-stu-id="0a902-107">You write the loop logic for a <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop much as you would write a sequential loop.</span></span> <span data-ttu-id="0a902-108">Non è necessario creare thread o accodare elementi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="0a902-108">You do not have to create threads or queue work items.</span></span> <span data-ttu-id="0a902-109">Nei cicli di base non è necessario acquisire blocchi.</span><span class="sxs-lookup"><span data-stu-id="0a902-109">In basic loops, you do not have to take locks.</span></span> <span data-ttu-id="0a902-110">La libreria TPL gestisce automaticamente tutto il lavoro di basso livello.</span><span class="sxs-lookup"><span data-stu-id="0a902-110">The TPL handles all the low-level work for you.</span></span> <span data-ttu-id="0a902-111">Per informazioni approfondite sull'uso di <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> e <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, scaricare il documento [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222) (Criteri di programmazione parallela: comprensione e applicazione di criteri paralleli con .NET Framework 4).</span><span class="sxs-lookup"><span data-stu-id="0a902-111">For in-depth information about the use of <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, download the document [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span> <span data-ttu-id="0a902-112">L'esempio di codice seguente mostra un ciclo `foreach` semplice e il relativo equivalente parallelo.</span><span class="sxs-lookup"><span data-stu-id="0a902-112">The following code example shows a simple `foreach` loop and its parallel equivalent.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a902-113">Questa documentazione usa espressioni lambda per definire delegati in TPL.</span><span class="sxs-lookup"><span data-stu-id="0a902-113">This documentation uses lambda expressions to define delegates in TPL.</span></span> <span data-ttu-id="0a902-114">Se non si ha familiarità con le espressioni lambda in C# o Visual Basic, vedere [Espressioni lambda in PLINQ e TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="0a902-114">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span></span>  
  
 [!code-csharp[TPL#20](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl/cs/tpl.cs#20)]
 [!code-vb[TPL#20](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl/vb/tpl_vb.vb#20)]  
  
 <span data-ttu-id="0a902-115">Quando viene eseguito un ciclo parallelo, la libreria TPL esegue il partizionamento dell'origine dati in modo che il ciclo possa agire simultaneamente su più parti.</span><span class="sxs-lookup"><span data-stu-id="0a902-115">When a parallel loop runs, the TPL partitions the data source so that the loop can operate on multiple parts concurrently.</span></span> <span data-ttu-id="0a902-116">L'utilità di pianificazione esegue automaticamente il partizionamento dell'attività in base alle risorse di sistema e al carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="0a902-116">Behind the scenes, the Task Scheduler partitions the task based on system resources and workload.</span></span> <span data-ttu-id="0a902-117">Quando risulta possibile, se si verifica uno sbilanciamento del carico di lavoro, l'utilità di pianificazione ridistribuisce il lavoro fra più thread e processori.</span><span class="sxs-lookup"><span data-stu-id="0a902-117">When possible, the scheduler redistributes work among multiple threads and processors if the workload becomes unbalanced.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="0a902-118">È anche possibile fornire un partitioner o un'utilità di pianificazione personalizzata,</span><span class="sxs-lookup"><span data-stu-id="0a902-118">You can also supply your own custom partitioner or scheduler.</span></span> <span data-ttu-id="0a902-119">Per altre informazioni, vedere [Partitioner personalizzati per PLINQ e TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) e [Utilità di pianificazione delle attività](xref:System.Threading.Tasks.TaskScheduler).</span><span class="sxs-lookup"><span data-stu-id="0a902-119">For more information, see [Custom Partitioners for PLINQ and TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md) and [Task Schedulers](xref:System.Threading.Tasks.TaskScheduler).</span></span>  
  
 <span data-ttu-id="0a902-120">Sia il metodo <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> sia il metodo <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> presentano vari overload che consentono di arrestare o interrompere l'esecuzione del ciclo, monitorare lo stato del ciclo in altri thread, gestire lo stato di thread locale, completare gli oggetti di thread locali, controllare il livello di concorrenza e così via.</span><span class="sxs-lookup"><span data-stu-id="0a902-120">Both the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> methods have several overloads that let you stop or break loop execution, monitor the state of the loop on other threads, maintain thread-local state, finalize thread-local objects, control the degree of concurrency, and so on.</span></span> <span data-ttu-id="0a902-121">I tipi di supporto che consentono di utilizzare queste funzionalità prevedono <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken> e <xref:System.Threading.CancellationTokenSource>.</span><span class="sxs-lookup"><span data-stu-id="0a902-121">The helper types that enable this functionality include <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, and <xref:System.Threading.CancellationTokenSource>.</span></span>  
  
 <span data-ttu-id="0a902-122">Per altre informazioni, vedere [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222) (Criteri di programmazione parallela: comprensione e applicazione di criteri paralleli con .NET Framework 4).</span><span class="sxs-lookup"><span data-stu-id="0a902-122">For more information, see [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span>  
  
 <span data-ttu-id="0a902-123">Il parallelismo dei dati con sintassi dichiarativa o di tipo query è supportato da PLINQ.</span><span class="sxs-lookup"><span data-stu-id="0a902-123">Data parallelism with declarative, or query-like, syntax is supported by PLINQ.</span></span> <span data-ttu-id="0a902-124">Per altre informazioni, vedere [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="0a902-124">For more information, see [Parallel LINQ (PLINQ)](../../../docs/standard/parallel-programming/parallel-linq-plinq.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="0a902-125">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="0a902-125">Related Topics</span></span>  
  
|<span data-ttu-id="0a902-126">Titolo</span><span class="sxs-lookup"><span data-stu-id="0a902-126">Title</span></span>|<span data-ttu-id="0a902-127">Description</span><span class="sxs-lookup"><span data-stu-id="0a902-127">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="0a902-128">Procedura: Scrivere un ciclo Parallel.For semplice</span><span class="sxs-lookup"><span data-stu-id="0a902-128">How to: Write a Simple Parallel.For Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-for-loop.md)|<span data-ttu-id="0a902-129">Descrive come scrivere un ciclo <xref:System.Threading.Tasks.Parallel.For%2A> su qualsiasi matrice o raccolta dell'origine <xref:System.Collections.Generic.IEnumerable%601> indicizzabile.</span><span class="sxs-lookup"><span data-stu-id="0a902-129">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop over any array or indexable <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="0a902-130">Procedura: Scrivere un ciclo Parallel.ForEach semplice</span><span class="sxs-lookup"><span data-stu-id="0a902-130">How to: Write a Simple Parallel.ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-simple-parallel-foreach-loop.md)|<span data-ttu-id="0a902-131">Descrive come scrivere un ciclo <xref:System.Threading.Tasks.Parallel.ForEach%2A> su qualsiasi raccolta di origine <xref:System.Collections.Generic.IEnumerable%601>.</span><span class="sxs-lookup"><span data-stu-id="0a902-131">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop over any <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|<span data-ttu-id="0a902-132">[Procedura: Arrestare o interrompere un ciclo Parallel.For](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="0a902-132">[How to: Stop or Break from a Parallel.For Loop](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span></span>|<span data-ttu-id="0a902-133">Descrive come arrestare o interrompere un ciclo parallelo in modo che tutti i thread siano informati dell'azione.</span><span class="sxs-lookup"><span data-stu-id="0a902-133">Describes how to stop or break from a parallel loop so that all threads are informed of the action.</span></span>|  
|[<span data-ttu-id="0a902-134">Procedura: Scrivere un ciclo Parallel.For con variabili di thread locali</span><span class="sxs-lookup"><span data-stu-id="0a902-134">How to: Write a Parallel.For Loop with Thread-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-for-loop-with-thread-local-variables.md)|<span data-ttu-id="0a902-135">Descrive come scrivere un ciclo <xref:System.Threading.Tasks.Parallel.For%2A> in cui ogni thread gestisce una variabile privata che non è visibile a qualsiasi altro thread e come sincronizzare i risultati di tutti i thread quando il ciclo viene completato.</span><span class="sxs-lookup"><span data-stu-id="0a902-135">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="0a902-136">Procedura: Scrivere un ciclo Parallel.ForEach con variabili partition-local</span><span class="sxs-lookup"><span data-stu-id="0a902-136">How to: Write a Parallel.ForEach Loop with Partition-Local Variables</span></span>](../../../docs/standard/parallel-programming/how-to-write-a-parallel-foreach-loop-with-partition-local-variables.md)|<span data-ttu-id="0a902-137">Descrive come scrivere un ciclo <xref:System.Threading.Tasks.Parallel.ForEach%2A> in cui ogni thread gestisce una variabile privata che non è visibile a qualsiasi altro thread e come sincronizzare i risultati di tutti i thread quando il ciclo viene completato.</span><span class="sxs-lookup"><span data-stu-id="0a902-137">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="0a902-138">Procedura: Annullare un ciclo Parallel.For o ForEach</span><span class="sxs-lookup"><span data-stu-id="0a902-138">How to: Cancel a Parallel.For or ForEach Loop</span></span>](../../../docs/standard/parallel-programming/how-to-cancel-a-parallel-for-or-foreach-loop.md)|<span data-ttu-id="0a902-139">Descrive come annullare un ciclo parallelo tramite un oggetto <xref:System.Threading.CancellationToken?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="0a902-139">Describes how to cancel a parallel loop by using a <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span></span>|  
|[<span data-ttu-id="0a902-140">Procedura: Aumentare la velocità di corpi di ciclo di dimensioni ridotte</span><span class="sxs-lookup"><span data-stu-id="0a902-140">How to: Speed Up Small Loop Bodies</span></span>](../../../docs/standard/parallel-programming/how-to-speed-up-small-loop-bodies.md)|<span data-ttu-id="0a902-141">Descrive come aumentare la velocità di esecuzione nel caso di un corpo di ciclo molto piccolo.</span><span class="sxs-lookup"><span data-stu-id="0a902-141">Describes one way to speed up execution when a loop body is very small.</span></span>|  
|[<span data-ttu-id="0a902-142">Task Parallel Library (TPL)</span><span class="sxs-lookup"><span data-stu-id="0a902-142">Task Parallel Library (TPL)</span></span>](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md)|<span data-ttu-id="0a902-143">Contiene la panoramica di Task Parallel Library.</span><span class="sxs-lookup"><span data-stu-id="0a902-143">Provides an overview of the Task Parallel Library.</span></span>|  
|[<span data-ttu-id="0a902-144">Programmazione parallela</span><span class="sxs-lookup"><span data-stu-id="0a902-144">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)|<span data-ttu-id="0a902-145">Introduce la Programmazione parallela in .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0a902-145">Introduces Parallel Programming in the .NET Framework.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="0a902-146">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="0a902-146">See also</span></span>

- [<span data-ttu-id="0a902-147">Programmazione parallela</span><span class="sxs-lookup"><span data-stu-id="0a902-147">Parallel Programming</span></span>](../../../docs/standard/parallel-programming/index.md)
