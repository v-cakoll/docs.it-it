---
title: Serializzazione (C#)
ms.date: 01/02/2020
ms.openlocfilehash: d914298a370b09307e84c88959542b4823cf37ce
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/15/2020
ms.locfileid: "79167595"
---
# <a name="serialization-c"></a><span data-ttu-id="50055-102">Serializzazione (C#)</span><span class="sxs-lookup"><span data-stu-id="50055-102">Serialization (C#)</span></span>

<span data-ttu-id="50055-103">Il termine serializzazione indica il processo di conversione di un oggetto in un flusso di byte, allo scopo di archiviare tale oggetto o trasmetterlo alla memoria, a un database o a un file.</span><span class="sxs-lookup"><span data-stu-id="50055-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="50055-104">Il fine principale della serializzazione è salvare lo stato di un oggetto per consentirne la ricreazione in caso di necessità.</span><span class="sxs-lookup"><span data-stu-id="50055-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="50055-105">Il processo inverso è denominato deserializzazione.</span><span class="sxs-lookup"><span data-stu-id="50055-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="50055-106">Funzionamento della serializzazione</span><span class="sxs-lookup"><span data-stu-id="50055-106">How serialization works</span></span>

<span data-ttu-id="50055-107">La figura seguente illustra il processo complessivo di serializzazione:</span><span class="sxs-lookup"><span data-stu-id="50055-107">This illustration shows the overall process of serialization:</span></span>

![Rappresentazione grafica della serializzazione](./media/index/serialization-process.gif)

<span data-ttu-id="50055-109">L'oggetto viene serializzato in un flusso che contiene i dati.</span><span class="sxs-lookup"><span data-stu-id="50055-109">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="50055-110">Il flusso può anche avere informazioni sul tipo dell'oggetto, ad esempio la versione, le impostazioni cultura e il nome dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="50055-110">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="50055-111">Da tale flusso, l'oggetto può essere archiviato in un database, un file o memoria.</span><span class="sxs-lookup"><span data-stu-id="50055-111">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="50055-112">Usi della serializzazione</span><span class="sxs-lookup"><span data-stu-id="50055-112">Uses for serialization</span></span>

<span data-ttu-id="50055-113">La serializzazione consente allo sviluppatore di salvare lo stato di un oggetto e ricrearlo in base alle esigenze, fornendo l'archiviazione degli oggetti e lo scambio di dati.</span><span class="sxs-lookup"><span data-stu-id="50055-113">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="50055-114">Tramite la serializzazione, uno sviluppatore può eseguire azioni quali:T serialization, a developer can perform actions such as:</span><span class="sxs-lookup"><span data-stu-id="50055-114">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="50055-115">Invio dell'oggetto a un'applicazione remota tramite un servizio Web</span><span class="sxs-lookup"><span data-stu-id="50055-115">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="50055-116">Passaggio di un oggetto da un dominio a un altroPassing an object from one domain to another</span><span class="sxs-lookup"><span data-stu-id="50055-116">Passing an object from one domain to another</span></span>
* <span data-ttu-id="50055-117">Passaggio di un oggetto attraverso un firewall come stringa JSON o XMLPassing an object through a firewall as a JSON or XML string</span><span class="sxs-lookup"><span data-stu-id="50055-117">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="50055-118">Gestione della sicurezza o delle informazioni specifiche dell'utente tra le applicazioni</span><span class="sxs-lookup"><span data-stu-id="50055-118">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="50055-119">Serializzazione JSON</span><span class="sxs-lookup"><span data-stu-id="50055-119">JSON serialization</span></span>

<span data-ttu-id="50055-120">Lo <xref:System.Text.Json> spazio dei nomi contiene classi per la serializzazione e deserializzazione JSON (JavaScript Object Notation).</span><span class="sxs-lookup"><span data-stu-id="50055-120">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="50055-121">JSON è uno standard aperto comunemente usato per la condivisione di dati sul Web.</span><span class="sxs-lookup"><span data-stu-id="50055-121">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="50055-122">La serializzazione JSON serializza le proprietà pubbliche di un oggetto in una stringa, una matrice di byte o un flusso conforme alla [specifica JSON RFC 8259.](https://tools.ietf.org/html/rfc8259)</span><span class="sxs-lookup"><span data-stu-id="50055-122">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="50055-123">Per controllare <xref:System.Text.Json.JsonSerializer> il modo in cui serializza o deserializza un'istanza della classe:</span><span class="sxs-lookup"><span data-stu-id="50055-123">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="50055-124">Utilizzare <xref:System.Text.Json.JsonSerializerOptions> un oggetto</span><span class="sxs-lookup"><span data-stu-id="50055-124">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="50055-125">Applicare attributi <xref:System.Text.Json.Serialization> dallo spazio dei nomi a classi o proprietà</span><span class="sxs-lookup"><span data-stu-id="50055-125">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* [<span data-ttu-id="50055-126">Implementare convertitori personalizzati</span><span class="sxs-lookup"><span data-stu-id="50055-126">Implement custom converters</span></span>](../../../../standard/serialization/system-text-json-converters-how-to.md)

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="50055-127">Serializzazione in formato binario e XML</span><span class="sxs-lookup"><span data-stu-id="50055-127">Binary and XML serialization</span></span>

<span data-ttu-id="50055-128">Lo <xref:System.Runtime.Serialization> spazio dei nomi contiene classi per la serializzazione e deserializzazione binaria e XML.</span><span class="sxs-lookup"><span data-stu-id="50055-128">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="50055-129">La serializzazione binaria usa la codifica binaria per generare una serializzazione compatta per usi quali l'archiviazione o i flussi di rete basati sui socket.</span><span class="sxs-lookup"><span data-stu-id="50055-129">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="50055-130">Nella serializzazione binaria vengono serializzati tutti i membri, anche quelli di sola lettura, e le prestazioni risultano migliorate.</span><span class="sxs-lookup"><span data-stu-id="50055-130">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span>

<span data-ttu-id="50055-131">La serializzazione XML serializza le proprietà e i campi pubblici di un oggetto, o i parametri e i valori restituiti dei metodi, in un flusso XML conforme a uno specifico documento in linguaggio XSD (XML Schema Definition).</span><span class="sxs-lookup"><span data-stu-id="50055-131">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="50055-132">La serializzazione XML genera classi fortemente tipizzate con proprietà e campi pubblici convertiti in XML.</span><span class="sxs-lookup"><span data-stu-id="50055-132">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="50055-133"><xref:System.Xml.Serialization>contiene classi per la serializzazione e la deserializzazione di XML.</span><span class="sxs-lookup"><span data-stu-id="50055-133"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="50055-134">È possibile applicare attributi alle classi e ai membri delle classi per controllare il modo in cui <xref:System.Xml.Serialization.XmlSerializer> serializza o deserializza un'istanza della classe.</span><span class="sxs-lookup"><span data-stu-id="50055-134">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="50055-135">Rendere un oggetto serializzabile</span><span class="sxs-lookup"><span data-stu-id="50055-135">Making an object serializable</span></span>

<span data-ttu-id="50055-136">Per la serializzazione binaria o XML, è necessario:For binary or XML serialization, you need:</span><span class="sxs-lookup"><span data-stu-id="50055-136">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="50055-137">Oggetto da serializzare</span><span class="sxs-lookup"><span data-stu-id="50055-137">The object to be serialized</span></span>
* <span data-ttu-id="50055-138">Flusso per contenere l'oggetto serializzato</span><span class="sxs-lookup"><span data-stu-id="50055-138">A stream to contain the serialized object</span></span>
* <span data-ttu-id="50055-139">Un'istanza <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="50055-139">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="50055-140">Applicare <xref:System.SerializableAttribute> l'attributo a un tipo per indicare che le istanze del tipo possono essere serializzate.</span><span class="sxs-lookup"><span data-stu-id="50055-140">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="50055-141">Se si prova a serializzare ma il tipo non ha l'attributo <xref:System.SerializableAttribute> viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="50055-141">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="50055-142">Per impedire la serializzazione di <xref:System.NonSerializedAttribute> un campo, applicare l'attributo.</span><span class="sxs-lookup"><span data-stu-id="50055-142">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="50055-143">Se un campo di un tipo serializzabile contiene un puntatore, un handle o un'altra struttura di dati specifica di un particolare ambiente e tale campo non può essere ricostituito in modo corretto in un ambiente diverso, è necessario renderlo non serializzabile.</span><span class="sxs-lookup"><span data-stu-id="50055-143">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="50055-144">Se una classe serializzata contiene riferimenti a oggetti di altre classi contrassegnate con <xref:System.SerializableAttribute>, verranno serializzati anche tali oggetti.</span><span class="sxs-lookup"><span data-stu-id="50055-144">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="50055-145">Serializzazione di base e personalizzata</span><span class="sxs-lookup"><span data-stu-id="50055-145">Basic and custom serialization</span></span>

<span data-ttu-id="50055-146">La serializzazione binaria e XML può essere eseguita in due modi, di base e personalizzata.</span><span class="sxs-lookup"><span data-stu-id="50055-146">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="50055-147">La serializzazione di base usa .NET Framework per serializzare l'oggetto in modo automatico.</span><span class="sxs-lookup"><span data-stu-id="50055-147">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span> <span data-ttu-id="50055-148">L'unico requisito è <xref:System.SerializableAttribute> che alla classe sia applicato l'attributo.</span><span class="sxs-lookup"><span data-stu-id="50055-148">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="50055-149">È possibile usare l'attributo <xref:System.NonSerializedAttribute> per evitare la serializzazione di campi specifici.</span><span class="sxs-lookup"><span data-stu-id="50055-149">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="50055-150">Quando si usa la serializzazione di base, il controllo delle versioni degli oggetti può creare problemi.</span><span class="sxs-lookup"><span data-stu-id="50055-150">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="50055-151">Usare la serializzazione personalizzata quando gli aspetti di controllo delle versioni sono importanti.</span><span class="sxs-lookup"><span data-stu-id="50055-151">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="50055-152">La serializzazione di base è il modo più semplice per eseguire la serializzazione, ma non assicura il controllo completo del processo.</span><span class="sxs-lookup"><span data-stu-id="50055-152">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="50055-153">Con la serializzazione personalizzata è possibile specificare esattamente quali oggetti verranno serializzati e il modo in cui verrà eseguita la serializzazione.</span><span class="sxs-lookup"><span data-stu-id="50055-153">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="50055-154">La classe deve essere contrassegnata con <xref:System.SerializableAttribute> e implementare l'interfaccia <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="50055-154">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="50055-155">Se si desidera che l'oggetto venga deserializzato anche in modo personalizzato, utilizzare un costruttore personalizzato.</span><span class="sxs-lookup"><span data-stu-id="50055-155">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="50055-156">Serializzazione della finestra di progettazione</span><span class="sxs-lookup"><span data-stu-id="50055-156">Designer serialization</span></span>

<span data-ttu-id="50055-157">La serializzazione della finestra di progettazione è una forma speciale di serializzazione che interessa il tipo di persistenza dell'oggetto associato agli strumenti di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="50055-157">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="50055-158">La serializzazione della finestra di progettazione è il processo di conversione di un oggetto grafico in un file di origine che può essere usato in seguito per recuperare l'oggetto grafico stesso.</span><span class="sxs-lookup"><span data-stu-id="50055-158">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="50055-159">Un file di origine può contenere codice, markup o anche informazioni su tabelle SQL.</span><span class="sxs-lookup"><span data-stu-id="50055-159">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="BKMK_RelatedTopics"></a> <span data-ttu-id="50055-160">Argomenti correlati ed esempi</span><span class="sxs-lookup"><span data-stu-id="50055-160">Related Topics and Examples</span></span>  

<span data-ttu-id="50055-161">[Panoramica di System.Text.Json](../../../../standard/serialization/system-text-json-overview.md) Viene illustrato come `System.Text.Json` ottenere la libreria.</span><span class="sxs-lookup"><span data-stu-id="50055-161">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="50055-162">[Come serializzare e deserializzare JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="50055-162">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span>
<span data-ttu-id="50055-163">Viene illustrato come leggere e scrivere dati <xref:System.Text.Json.JsonSerializer> oggetto da e verso JSON usando la classe .</span><span class="sxs-lookup"><span data-stu-id="50055-163">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="50055-164">Procedura dettagliata: Persistenza di un oggetto in Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="50055-164">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="50055-165">Dimostra in che modo è possibile usare la serializzazione per rendere persistenti i dati di un oggetto tra le istanze, consentendo di archiviare i valori e di recuperarli alla successiva creazione di un'istanza dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="50055-165">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="50055-166">Come leggere i dati dell'oggetto da un file XML (C</span><span class="sxs-lookup"><span data-stu-id="50055-166">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="50055-167">Spiega come leggere i dati della classe precedentemente scritti in un file XML usando la classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="50055-167">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="50055-168">Come scrivere i dati dell'oggetto in un file XML (C</span><span class="sxs-lookup"><span data-stu-id="50055-168">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="50055-169">Spiega come scrivere l'oggetto da una classe in un file XML usando la classe <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="50055-169">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
