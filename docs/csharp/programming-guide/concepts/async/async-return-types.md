---
title: Tipi restituiti async (C#)
description: Informazioni sui tipi restituiti che i metodi asincroni possono avere in C# con esempi di codice per ogni tipo e risorse aggiuntive.
ms.date: 04/14/2020
ms.assetid: ddb2539c-c898-48c1-ad92-245e4a996df8
ms.openlocfilehash: 954e449356819595a3a974a6dece5349e53ec88a
ms.sourcegitcommit: 40de8df14289e1e05b40d6e5c1daabd3c286d70c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/22/2020
ms.locfileid: "86925384"
---
# <a name="async-return-types-c"></a><span data-ttu-id="4d0da-103">Tipi restituiti async (C#)</span><span class="sxs-lookup"><span data-stu-id="4d0da-103">Async Return Types (C#)</span></span>

<span data-ttu-id="4d0da-104">I metodi asincroni possono avere i seguenti tipi restituiti:</span><span class="sxs-lookup"><span data-stu-id="4d0da-104">Async methods can have the following return types:</span></span>

- <span data-ttu-id="4d0da-105"><xref:System.Threading.Tasks.Task%601>, per un metodo asincrono che restituisce un valore.</span><span class="sxs-lookup"><span data-stu-id="4d0da-105"><xref:System.Threading.Tasks.Task%601>, for an async method that returns a value.</span></span>
- <span data-ttu-id="4d0da-106"><xref:System.Threading.Tasks.Task>, per un metodo asincrono che esegue un'operazione ma non restituisce alcun valore.</span><span class="sxs-lookup"><span data-stu-id="4d0da-106"><xref:System.Threading.Tasks.Task>, for an async method that performs an operation but returns no value.</span></span>
- <span data-ttu-id="4d0da-107">`void` per un gestore eventi.</span><span class="sxs-lookup"><span data-stu-id="4d0da-107">`void`, for an event handler.</span></span>
- <span data-ttu-id="4d0da-108">A partire da C# 7.0, qualsiasi tipo con un metodo `GetAwaiter` accessibile.</span><span class="sxs-lookup"><span data-stu-id="4d0da-108">Starting with C# 7.0, any type that has an accessible `GetAwaiter` method.</span></span> <span data-ttu-id="4d0da-109">L'oggetto restituito dal metodo `GetAwaiter` deve implementare l'interfaccia <xref:System.Runtime.CompilerServices.ICriticalNotifyCompletion?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="4d0da-109">The object returned by the `GetAwaiter` method must implement the <xref:System.Runtime.CompilerServices.ICriticalNotifyCompletion?displayProperty=nameWithType> interface.</span></span>
- <span data-ttu-id="4d0da-110">A partire da C# 8,0, <xref:System.Collections.Generic.IAsyncEnumerable%601> , per un metodo asincrono che restituisce un *flusso asincrono*.</span><span class="sxs-lookup"><span data-stu-id="4d0da-110">Starting with C# 8.0, <xref:System.Collections.Generic.IAsyncEnumerable%601>, for an async method that returns an *async stream*.</span></span>

<span data-ttu-id="4d0da-111">Per altre informazioni sulla funzionalità dei metodi asincroni, vedere [Asynchronous Programming with async and await (C#)](./index.md) (Programmazione asincrona con async e await (C#)).</span><span class="sxs-lookup"><span data-stu-id="4d0da-111">For more information about async methods, see [Asynchronous Programming with async and await (C#)](./index.md).</span></span>  
  
## <a name="tasktresult-return-type"></a><span data-ttu-id="4d0da-112">\<TResult\>Tipo restituito dell'attività</span><span class="sxs-lookup"><span data-stu-id="4d0da-112">Task\<TResult\> Return Type</span></span>  
<span data-ttu-id="4d0da-113">Il <xref:System.Threading.Tasks.Task%601> tipo restituito viene usato per un metodo asincrono che contiene un'istruzione [Return](../../../language-reference/keywords/return.md) (C#) in cui l'operando è `TResult` .</span><span class="sxs-lookup"><span data-stu-id="4d0da-113">The <xref:System.Threading.Tasks.Task%601> return type is used for an async method that contains a [return](../../../language-reference/keywords/return.md) (C#) statement in which the operand is `TResult`.</span></span>  
  
<span data-ttu-id="4d0da-114">Nell'esempio seguente il metodo asincrono `GetLeisureHours` contiene un'istruzione `return` che restituisce un valore intero.</span><span class="sxs-lookup"><span data-stu-id="4d0da-114">In the following example, the `GetLeisureHours` async method contains a `return` statement that returns an integer.</span></span> <span data-ttu-id="4d0da-115">La dichiarazione del metodo deve quindi specificare un tipo restituito di `Task<int>`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-115">Therefore, the method declaration must specify a return type of `Task<int>`.</span></span>  <span data-ttu-id="4d0da-116">Il metodo asincrono <xref:System.Threading.Tasks.Task.FromResult%2A> è un segnaposto per un'operazione che restituisce una stringa.</span><span class="sxs-lookup"><span data-stu-id="4d0da-116">The <xref:System.Threading.Tasks.Task.FromResult%2A> async method is a placeholder for an operation that returns a string.</span></span>
  
:::code language="csharp" source="./snippets/async-return-types/async-returns1.cs" id="SnippetFirstExample":::

<span data-ttu-id="4d0da-117">Quando `GetLeisureHours` viene chiamato da un'espressione await nel metodo `ShowTodaysInfo`, l'espressione recupera il valore intero (valore di `leisureHours`) archiviato nell'attività restituita dal metodo `GetLeisureHours`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-117">When `GetLeisureHours` is called from within an await expression in the `ShowTodaysInfo` method, the await expression retrieves the integer value (the value of `leisureHours`) that's stored in the task returned by the `GetLeisureHours` method.</span></span> <span data-ttu-id="4d0da-118">Per altre informazioni sulle espressioni await, vedere [await](../../../language-reference/operators/await.md).</span><span class="sxs-lookup"><span data-stu-id="4d0da-118">For more information about await expressions, see [await](../../../language-reference/operators/await.md).</span></span>  
  
<span data-ttu-id="4d0da-119">È possibile comprendere meglio il modo in cui `await` Recupera il risultato da un oggetto `Task<T>` separando la chiamata a `GetLeisureHours` dall'applicazione di `await` , come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="4d0da-119">You can better understand how `await` retrieves the result from a `Task<T>` by separating the call to `GetLeisureHours` from the application of `await`, as the following code shows.</span></span> <span data-ttu-id="4d0da-120">Una chiamata al metodo `GetLeisureHours` che non viene immediatamente attesa restituisce un tipo `Task<int>`, come ci si aspetterebbe dalla dichiarazione del metodo.</span><span class="sxs-lookup"><span data-stu-id="4d0da-120">A call to method `GetLeisureHours` that isn't immediately awaited returns a `Task<int>`, as you would expect from the declaration of the method.</span></span> <span data-ttu-id="4d0da-121">Nell'esempio, l'attività viene assegnata alla variabile `integerTask`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-121">The task is assigned to the `integerTask` variable in the example.</span></span> <span data-ttu-id="4d0da-122">Poiché `integerTask` è un <xref:System.Threading.Tasks.Task%601>, contiene una proprietà <xref:System.Threading.Tasks.Task%601.Result> di tipo `TResult`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-122">Because `integerTask` is a <xref:System.Threading.Tasks.Task%601>, it contains a <xref:System.Threading.Tasks.Task%601.Result> property of type `TResult`.</span></span> <span data-ttu-id="4d0da-123">In questo caso, `TResult` rappresenta un tipo Integer.</span><span class="sxs-lookup"><span data-stu-id="4d0da-123">In this case, `TResult` represents an integer type.</span></span> <span data-ttu-id="4d0da-124">Quando si applica `await` a `integerTask`, l'espressione await restituisce il contenuto della proprietà <xref:System.Threading.Tasks.Task%601.Result%2A> di `integerTask`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-124">When `await` is applied to `integerTask`, the await expression evaluates to the contents of the <xref:System.Threading.Tasks.Task%601.Result%2A> property of `integerTask`.</span></span> <span data-ttu-id="4d0da-125">Il valore viene assegnato alla variabile `ret`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-125">The value is assigned to the `ret` variable.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="4d0da-126">La proprietà <xref:System.Threading.Tasks.Task%601.Result%2A> è una proprietà di blocco.</span><span class="sxs-lookup"><span data-stu-id="4d0da-126">The <xref:System.Threading.Tasks.Task%601.Result%2A> property is a blocking property.</span></span> <span data-ttu-id="4d0da-127">Se si prova ad accedervi prima del completamento dell'attività, il thread attualmente attivo viene bloccato fino a quando l'attività non viene completata e il valore non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="4d0da-127">If you try to access it before its task is finished, the thread that's currently active is blocked until the task completes and the value is available.</span></span> <span data-ttu-id="4d0da-128">Nella maggior parte dei casi, è consigliabile accedere al valore usando `await` invece di accedere direttamente alla proprietà.</span><span class="sxs-lookup"><span data-stu-id="4d0da-128">In most cases, you should access the value by using `await` instead of accessing the property directly.</span></span> <br/> <span data-ttu-id="4d0da-129">Nell'esempio precedente viene recuperato il valore della proprietà <xref:System.Threading.Tasks.Task%601.Result%2A> per bloccare il thread principale in modo che il metodo `ShowTodaysInfo` possa completare l'esecuzione prima del termine dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4d0da-129">The previous example retrieved the value of the <xref:System.Threading.Tasks.Task%601.Result%2A> property to block the main thread so that the `ShowTodaysInfo` method could finish execution before the application ended.</span></span>  

:::code language="csharp" source="./snippets/async-return-types/async-returns1a.cs" id="SnippetSecondVersion":::

## <a name="task-return-type"></a><span data-ttu-id="4d0da-130">Tipo restituito Task</span><span class="sxs-lookup"><span data-stu-id="4d0da-130">Task Return Type</span></span>  
<span data-ttu-id="4d0da-131">I metodi asincroni che non contengono un'istruzione `return` o che contengono un'istruzione `return` che non restituisce un operando hanno in genere il tipo restituito <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="4d0da-131">Async methods that don't contain a `return` statement or that contain a `return` statement that doesn't return an operand usually have a return type of <xref:System.Threading.Tasks.Task>.</span></span> <span data-ttu-id="4d0da-132">Questi metodi restituiscono `void` se eseguiti in modo sincrono.</span><span class="sxs-lookup"><span data-stu-id="4d0da-132">Such methods return `void` if they run synchronously.</span></span> <span data-ttu-id="4d0da-133">Se si usa un tipo restituito <xref:System.Threading.Tasks.Task> per un metodo asincrono, un metodo chiamante può usare un operatore `await` per sospendere il completamento del chiamante fino a quando il metodo asincrono chiamato non abbia terminato l'operazione.</span><span class="sxs-lookup"><span data-stu-id="4d0da-133">If you use a <xref:System.Threading.Tasks.Task> return type for an async method, a calling method can use an `await` operator to suspend the caller's completion until the called async method has finished.</span></span>  
  
<span data-ttu-id="4d0da-134">Nell'esempio seguente il metodo asincrono `WaitAndApologize` non contiene un'istruzione `return`, quindi il metodo restituisce un oggetto <xref:System.Threading.Tasks.Task>.</span><span class="sxs-lookup"><span data-stu-id="4d0da-134">In the following example, the `WaitAndApologize` async method doesn't contain a `return` statement, so the method returns a <xref:System.Threading.Tasks.Task> object.</span></span> <span data-ttu-id="4d0da-135">La restituzione di un oggetto `Task` consente `WaitAndApologize` a di essere atteso.</span><span class="sxs-lookup"><span data-stu-id="4d0da-135">Returning a `Task` enables `WaitAndApologize` to be awaited.</span></span> <span data-ttu-id="4d0da-136">Il <xref:System.Threading.Tasks.Task> tipo non include una `Result` proprietà perché non ha alcun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="4d0da-136">The <xref:System.Threading.Tasks.Task> type doesn't include a `Result` property because it has no return value.</span></span>  

:::code language="csharp" source="./snippets/async-return-types/async-returns2.cs" id="SnippetTaskReturn":::

<span data-ttu-id="4d0da-137">L'attesa per `WaitAndApologize` viene impostata usando un'istruzione await invece di un'espressione await, in modo simile all'istruzione di chiamata per un metodo sincrono che restituisce void.</span><span class="sxs-lookup"><span data-stu-id="4d0da-137">`WaitAndApologize` is awaited by using an await statement instead of an await expression, similar to the calling statement for a synchronous void-returning method.</span></span> <span data-ttu-id="4d0da-138">L'applicazione di un operatore await in questo caso non produce un valore.</span><span class="sxs-lookup"><span data-stu-id="4d0da-138">The application of an await operator in this case doesn't produce a value.</span></span>  
  
<span data-ttu-id="4d0da-139">Come nell'esempio di <xref:System.Threading.Tasks.Task%601> precedente, è possibile separare la chiamata a `WaitAndApologize` dall'applicazione di un operatore await, come illustrato dal codice seguente.</span><span class="sxs-lookup"><span data-stu-id="4d0da-139">As in the previous <xref:System.Threading.Tasks.Task%601> example, you can separate the call to `WaitAndApologize` from the application of an await operator, as the following code shows.</span></span> <span data-ttu-id="4d0da-140">Tuttavia, si noti che un tipo `Task` non ha una proprietà `Result` e che quando viene applicato un operatore await a un tipo `Task` non viene prodotto alcun valore.</span><span class="sxs-lookup"><span data-stu-id="4d0da-140">However, remember that a `Task` doesn't have a `Result` property, and that no value is produced when an await operator is applied to a `Task`.</span></span>  
  
<span data-ttu-id="4d0da-141">Il codice seguente separa la chiamata del metodo `WaitAndApologize` dall'attesa dell'attività restituita dal metodo.</span><span class="sxs-lookup"><span data-stu-id="4d0da-141">The following code separates calling the `WaitAndApologize` method from awaiting the task that the method returns.</span></span>  

:::code language="csharp" source="./snippets/async-return-types/async-returns2a.cs" id="SnippetAwaitTask":::

## <a name="void-return-type"></a><span data-ttu-id="4d0da-142">Tipo restituito void</span><span class="sxs-lookup"><span data-stu-id="4d0da-142">Void return type</span></span>

<span data-ttu-id="4d0da-143">Usare il tipo restituito `void` nei gestori eventi asincroni, che richiedono un tipo restituito `void`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-143">You use the `void` return type in asynchronous event handlers, which require a `void` return type.</span></span> <span data-ttu-id="4d0da-144">Per i metodi diversi dai gestori eventi che non restituiscono un valore, è invece necessario restituire <xref:System.Threading.Tasks.Task>, perché non è possibile impostare l'attesa per un metodo asincrono che restituisce `void`.</span><span class="sxs-lookup"><span data-stu-id="4d0da-144">For methods other than event handlers that don't return a value, you should return a <xref:System.Threading.Tasks.Task> instead, because an async method that returns `void` can't be awaited.</span></span> <span data-ttu-id="4d0da-145">Qualsiasi chiamante di un metodo di questo tipo deve continuare a completare senza attendere il completamento del metodo asincrono chiamato.</span><span class="sxs-lookup"><span data-stu-id="4d0da-145">Any caller of such a method must continue to completion without waiting for the called async method to finish.</span></span> <span data-ttu-id="4d0da-146">Il chiamante deve essere indipendente dai valori o dalle eccezioni generate dal metodo asincrono.</span><span class="sxs-lookup"><span data-stu-id="4d0da-146">The caller must be independent of any values or exceptions that the async method generates.</span></span>  
  
<span data-ttu-id="4d0da-147">Il chiamante di un metodo asincrono che restituisce void non può intercettare le eccezioni generate dal metodo ed è probabile che le eccezioni non gestite provochino un errore dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4d0da-147">The caller of a void-returning async method can't catch exceptions thrown from the method, and such unhandled exceptions are likely to cause your application to fail.</span></span> <span data-ttu-id="4d0da-148">Se un metodo che restituisce <xref:System.Threading.Tasks.Task> o <xref:System.Threading.Tasks.Task%601> genera un'eccezione, l'eccezione viene archiviata nell'attività restituita.</span><span class="sxs-lookup"><span data-stu-id="4d0da-148">If a method that returns a <xref:System.Threading.Tasks.Task> or <xref:System.Threading.Tasks.Task%601> throws an exception, the exception is stored in the returned task.</span></span> <span data-ttu-id="4d0da-149">L'eccezione viene generata nuovamente quando l'attività è in attesa.</span><span class="sxs-lookup"><span data-stu-id="4d0da-149">The exception is rethrown when the task is awaited.</span></span> <span data-ttu-id="4d0da-150">Di conseguenza, verificare che qualsiasi metodo asincrono in grado di produrre un'eccezione abbia un tipo restituito <xref:System.Threading.Tasks.Task> o <xref:System.Threading.Tasks.Task%601> e che sia impostata l'attesa per le chiamate al metodo.</span><span class="sxs-lookup"><span data-stu-id="4d0da-150">Therefore, make sure that any async method that can produce an exception has a return type of <xref:System.Threading.Tasks.Task> or <xref:System.Threading.Tasks.Task%601> and that calls to the method are awaited.</span></span>  
  
<span data-ttu-id="4d0da-151">Per altre informazioni su come intercettare le eccezioni nei metodi asincroni, vedere la sezione [Exceptions in async methods](../../../language-reference/keywords/try-catch.md#exceptions-in-async-methods) dell'articolo [try-catch](../../../language-reference/keywords/try-catch.md) .</span><span class="sxs-lookup"><span data-stu-id="4d0da-151">For more information about how to catch exceptions in async methods, see the [Exceptions in Async Methods](../../../language-reference/keywords/try-catch.md#exceptions-in-async-methods) section of the [try-catch](../../../language-reference/keywords/try-catch.md) article.</span></span>  
  
<span data-ttu-id="4d0da-152">L'esempio seguente mostra il comportamento di un gestore dell'evento asincrono.</span><span class="sxs-lookup"><span data-stu-id="4d0da-152">The following example shows the behavior of an async event handler.</span></span> <span data-ttu-id="4d0da-153">Nel codice di esempio, un gestore eventi asincrono deve consentire al thread principale di stabilire quando viene completato.</span><span class="sxs-lookup"><span data-stu-id="4d0da-153">In the example code, an async event handler must let the main thread know when it finishes.</span></span> <span data-ttu-id="4d0da-154">Il thread principale può attendere quindi che un gestore dell'evento asincrono venga completato prima di uscire dal programma.</span><span class="sxs-lookup"><span data-stu-id="4d0da-154">Then the main thread can wait for an async event handler to complete before exiting the program.</span></span>

:::code language="csharp" source="./snippets/async-return-types/async-returns3.cs":::

## <a name="generalized-async-return-types-and-valuetasktresult"></a><span data-ttu-id="4d0da-155">Tipi restituiti asincroni generalizzati e ValueTask\<TResult\></span><span class="sxs-lookup"><span data-stu-id="4d0da-155">Generalized async return types and ValueTask\<TResult\></span></span>

<span data-ttu-id="4d0da-156">A partire da C# 7.0, un metodo asincrono può restituire qualsiasi tipo con un metodo `GetAwaiter` accessibile.</span><span class="sxs-lookup"><span data-stu-id="4d0da-156">Starting with C# 7.0, an async method can return any type that has an accessible `GetAwaiter` method.</span></span>

<span data-ttu-id="4d0da-157">Dato che <xref:System.Threading.Tasks.Task> e <xref:System.Threading.Tasks.Task%601> sono tipi riferimento, l'allocazione della memoria in percorsi critici per le prestazioni, in particolare quando le allocazioni si verificano in cicli ravvicinati, può influire negativamente sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4d0da-157">Because <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601> are reference types, memory allocation in performance-critical paths, particularly when allocations occur in tight loops, can adversely affect performance.</span></span> <span data-ttu-id="4d0da-158">Il supporto dei tipi restituiti generalizzati implica la possibilità di restituire un tipo valore leggero anziché un tipo riferimento per evitare allocazioni di memoria aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="4d0da-158">Support for generalized return types means that you can return a lightweight value type instead of a reference type to avoid additional memory allocations.</span></span>

<span data-ttu-id="4d0da-159">.NET offre la struttura <xref:System.Threading.Tasks.ValueTask%601?displayProperty=nameWithType> come implementazione leggera di un valore generalizzato per la restituzione di attività.</span><span class="sxs-lookup"><span data-stu-id="4d0da-159">.NET provides the <xref:System.Threading.Tasks.ValueTask%601?displayProperty=nameWithType> structure as a lightweight implementation of a generalized task-returning value.</span></span> <span data-ttu-id="4d0da-160">Per usare il tipo <xref:System.Threading.Tasks.ValueTask%601?displayProperty=nameWithType>, è necessario aggiungere il pacchetto NuGet `System.Threading.Tasks.Extensions` al progetto.</span><span class="sxs-lookup"><span data-stu-id="4d0da-160">To use the <xref:System.Threading.Tasks.ValueTask%601?displayProperty=nameWithType> type, you must add the `System.Threading.Tasks.Extensions` NuGet package to your project.</span></span> <span data-ttu-id="4d0da-161">L'esempio seguente usa la struttura <xref:System.Threading.Tasks.ValueTask%601> per recuperare il valore di due tiri di dadi.</span><span class="sxs-lookup"><span data-stu-id="4d0da-161">The following example uses the <xref:System.Threading.Tasks.ValueTask%601> structure to retrieve the value of two dice rolls.</span></span>
  
:::code language="csharp" source="./snippets/async-return-types/async-valuetask.cs":::

## <a name="async-streams-with-iasyncenumerablet"></a><span data-ttu-id="4d0da-162">Flussi asincroni con IAsyncEnumerable\<T\></span><span class="sxs-lookup"><span data-stu-id="4d0da-162">Async streams with IAsyncEnumerable\<T\></span></span>

<span data-ttu-id="4d0da-163">A partire da C# 8,0, un metodo asincrono può restituire un *flusso asincrono*, rappresentato da <xref:System.Collections.Generic.IAsyncEnumerable%601> .</span><span class="sxs-lookup"><span data-stu-id="4d0da-163">Starting with C# 8.0, an async method may return an *async stream*, represented by <xref:System.Collections.Generic.IAsyncEnumerable%601>.</span></span> <span data-ttu-id="4d0da-164">Un flusso asincrono fornisce un modo per enumerare gli elementi letti da un flusso quando gli elementi vengono generati in blocchi con chiamate asincrone ripetute.</span><span class="sxs-lookup"><span data-stu-id="4d0da-164">An async stream provides a way to enumerate items read from a stream when elements are generated in chunks with repeated asynchronous calls.</span></span> <span data-ttu-id="4d0da-165">Nell'esempio seguente viene illustrato un metodo asincrono che genera un flusso asincrono:</span><span class="sxs-lookup"><span data-stu-id="4d0da-165">The following example shows an async method that generates an async stream:</span></span>

:::code language="csharp" source="./snippets/async-return-types/AsyncStreams.cs" id="SnippetGenerateAsyncStream":::

<span data-ttu-id="4d0da-166">Nell'esempio precedente le righe vengono lette da una stringa in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="4d0da-166">The preceding example reads lines from a string asynchronously.</span></span> <span data-ttu-id="4d0da-167">Una volta letta ogni riga, il codice enumera ogni parola nella stringa.</span><span class="sxs-lookup"><span data-stu-id="4d0da-167">Once each line is read, the code enumerates each word in the string.</span></span> <span data-ttu-id="4d0da-168">I chiamanti enumerano ogni parola utilizzando l' `await foreach` istruzione.</span><span class="sxs-lookup"><span data-stu-id="4d0da-168">Callers would enumerate each word using the `await foreach` statement.</span></span> <span data-ttu-id="4d0da-169">Il metodo attende quando è necessario leggere in modo asincrono la riga successiva dalla stringa di origine.</span><span class="sxs-lookup"><span data-stu-id="4d0da-169">The method awaits when it needs to asynchronously read the next line from the source string.</span></span>

## <a name="see-also"></a><span data-ttu-id="4d0da-170">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="4d0da-170">See also</span></span>

- <xref:System.Threading.Tasks.Task.FromResult%2A>
- [<span data-ttu-id="4d0da-171">Procedura dettagliata: accesso al Web tramite async e await (C#)</span><span class="sxs-lookup"><span data-stu-id="4d0da-171">Walkthrough: Accessing the Web by Using async and await (C#)</span></span>](./walkthrough-accessing-the-web-by-using-async-and-await.md)
- [<span data-ttu-id="4d0da-172">Flusso di controllo nei programmi asincroni (C#)</span><span class="sxs-lookup"><span data-stu-id="4d0da-172">Control Flow in Async Programs (C#)</span></span>](./control-flow-in-async-programs.md)
- [<span data-ttu-id="4d0da-173">Async</span><span class="sxs-lookup"><span data-stu-id="4d0da-173">async</span></span>](../../../language-reference/keywords/async.md)
- [<span data-ttu-id="4d0da-174">await</span><span class="sxs-lookup"><span data-stu-id="4d0da-174">await</span></span>](../../../language-reference/operators/await.md)
