---
title: Estensione dei client
ms.date: 03/30/2017
helpviewer_keywords:
- proxy extensions [WCF]
ms.assetid: 1328c61c-06e5-455f-9ebd-ceefb59d3867
ms.openlocfilehash: 95340a9ae6ac5a3face81d5fe6f61ea134fb6ad2
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/07/2018
---
# <a name="extending-clients"></a><span data-ttu-id="9ca4e-102">Estensione dei client</span><span class="sxs-lookup"><span data-stu-id="9ca4e-102">Extending Clients</span></span>
<span data-ttu-id="9ca4e-103">In un'applicazione chiamante, il livello del modello di servizio è responsabile della conversione delle chiamate ai metodi contenute nel codice dell'applicazione in messaggi in uscita, del loro inserimento nei canali sottostanti, della conversione dei risultati in valori restituiti e parametri out nel codice dell'applicazione e della restituzione dei risultati al chiamante.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-103">In a calling application, the service model layer is responsible for translating method invocations in application code into outbound messages, pushing them to the underlying channels, translating results back into return values and out parameters in application code, and returning the results back to the caller.</span></span> <span data-ttu-id="9ca4e-104">Le estensioni del modello di servizi modificano o implementano il comportamento e le funzionalità dell'esecuzione o della comunicazione relativamente a funzionalità del client o del dispatcher, comportamenti personalizzati, intercettazione di messaggi e parametri e altre funzionalità di estendibilità.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-104">Service model extensions modify or implement execution or communication behavior and features involving client or dispatcher functionality, custom behaviors, message and parameter interception, and other extensibility functionality.</span></span>  
  
 <span data-ttu-id="9ca4e-105">In questo argomento viene descritto come utilizzare il <xref:System.ServiceModel.Dispatcher.ClientRuntime> e <xref:System.ServiceModel.Dispatcher.ClientOperation> classi in un'applicazione client Windows Communication Foundation (WCF) per modificare il comportamento di esecuzione predefinito di un client WCF o per intercettare o modificare messaggi, parametri o valori restituiti prima o dopo il loro invio o recupero dal livello del canale.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-105">This topic describes how to use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes in a Windows Communication Foundation (WCF) client application to modify the default execution behavior of a WCF client or to intercept or modify messages, parameters, or return values prior to or subsequent to sending or retrieving them from the channel layer.</span></span> <span data-ttu-id="9ca4e-106">Per ulteriori informazioni sull'estensione di runtime del servizio, vedere [estensione dispatcher](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-106">For more information about extending the service runtime, see [Extending Dispatchers](../../../../docs/framework/wcf/extending/extending-dispatchers.md).</span></span> <span data-ttu-id="9ca4e-107">Per ulteriori informazioni sui comportamenti che modificano e inserire oggetti di personalizzazione in fase di esecuzione il client, vedere [la configurazione e l'estensione del Runtime con i comportamenti](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-107">For more information about the behaviors that modify and insert customization objects into the client runtime, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="clients"></a><span data-ttu-id="9ca4e-108">Client</span><span class="sxs-lookup"><span data-stu-id="9ca4e-108">Clients</span></span>  
 <span data-ttu-id="9ca4e-109">In un client, un canale client o di oggetto client WCF converte le chiamate dei metodi in messaggi in uscita e messaggi in ingresso a risultati dell'operazione che vengono restituiti all'applicazione chiamante.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-109">On a client, a WCF client object or client channel converts method invocations into outgoing messages and incoming messages to operation results that are returned to the calling application.</span></span> <span data-ttu-id="9ca4e-110">(Per ulteriori informazioni sui tipi di client, vedere [architettura Client WCF](../../../../docs/framework/wcf/feature-details/client-architecture.md).)</span><span class="sxs-lookup"><span data-stu-id="9ca4e-110">(For more information about client types, see [WCF Client Architecture](../../../../docs/framework/wcf/feature-details/client-architecture.md).)</span></span>  
  
 <span data-ttu-id="9ca4e-111">Tipi di client WCF hanno tipi di runtime che gestiscono questa funzionalità a livello di endpoint e di operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-111">WCF client types have runtime types that handle this endpoint- and operation-level functionality.</span></span> <span data-ttu-id="9ca4e-112">Quando in un'applicazione viene eseguita una chiamata a un'operazione, la classe <xref:System.ServiceModel.Dispatcher.ClientOperation> converte gli oggetti in uscita in un messaggio, elabora gli intercettori, conferma che la chiamata in uscita è conforme al contratto di destinazione e passa il messaggio in uscita alla classe <xref:System.ServiceModel.Dispatcher.ClientRuntime>, che è responsabile della creazione e della gestione dei canali in uscita (e dei canali in ingresso in caso di servizi duplex), della gestione dell'elaborazione supplementare dei messaggi in uscita (ad esempio la modifica dell'intestazione), dell'elaborazione degli intercettori del messaggio in entrambe le direzioni e dell'instradamento delle chiamate duplex in ingresso all'oggetto <xref:System.ServiceModel.Dispatcher.DispatchRuntime> sul lato client appropriato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-112">When an application calls an operation, the <xref:System.ServiceModel.Dispatcher.ClientOperation> translates the outbound objects into a message, processes interceptors, confirms that the outbound call conforms to the target contract, and hands the outbound message to the <xref:System.ServiceModel.Dispatcher.ClientRuntime>, which is responsible for creating and managing outbound channels (and inbound channels in the case of duplex services), handling extra outbound message processing (such as header modification), processing message interceptors in both directions, and routing inbound duplex calls to the appropriate client-side <xref:System.ServiceModel.Dispatcher.DispatchRuntime> object.</span></span> <span data-ttu-id="9ca4e-113">Le classi <xref:System.ServiceModel.Dispatcher.ClientOperation> e <xref:System.ServiceModel.Dispatcher.ClientRuntime> forniscono servizi simili quando i messaggi (compresi gli errori) vengono restituiti al client.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-113">Both the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.ClientRuntime> provide similar services when messages (including faults) are returned to the client.</span></span>  
  
 <span data-ttu-id="9ca4e-114">Queste due classi di runtime costituiscono l'estensione principale per personalizzare l'elaborazione dei canali e oggetti client WCF.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-114">These two runtime classes are the main extension to customize the processing of WCF client objects and channels.</span></span> <span data-ttu-id="9ca4e-115">La classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> consente agli utenti di intercettare ed estendere l'esecuzione del client in tutti i messaggi del contratto.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-115">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class allows users to intercept and extend client execution across all messages in the contract.</span></span> <span data-ttu-id="9ca4e-116">La classe <xref:System.ServiceModel.Dispatcher.ClientOperation> consente agli utenti di intercettare ed estendere l'esecuzione del client per tutti i messaggi di una determinata operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-116">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class allows users to intercept and extend client execution for all messages in a given operation.</span></span>  
  
 <span data-ttu-id="9ca4e-117">Per la modifica delle proprietà o l'inserimento di personalizzazioni, si utilizzano i comportamenti del contratto, dell'endpoint e dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-117">Modifying the properties or inserting customizations are done by using contract, endpoint, and operation behaviors.</span></span> <span data-ttu-id="9ca4e-118">Per ulteriori informazioni su come utilizzare questi tipi di comportamenti per eseguire le personalizzazioni di runtime client, vedere [la configurazione e l'estensione del Runtime con i comportamenti](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-118">For more information about how to use these types of behaviors to perform client runtime customizations, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="9ca4e-119">Scenari</span><span class="sxs-lookup"><span data-stu-id="9ca4e-119">Scenarios</span></span>  
 <span data-ttu-id="9ca4e-120">Esistono vari motivi per estendere il sistema client, tra cui:</span><span class="sxs-lookup"><span data-stu-id="9ca4e-120">There a number of reasons to extend the client system, including:</span></span>  
  
-   <span data-ttu-id="9ca4e-121">Convalida di messaggi personalizzata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-121">Custom Message Validation.</span></span> <span data-ttu-id="9ca4e-122">È possibile che un utente desideri imporre che un messaggio sia valido per un certo schema.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-122">A user may want to enforce that a message is valid for a certain schema.</span></span> <span data-ttu-id="9ca4e-123">A tale scopo, implementare l'interfaccia <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> e assegnare l'implementazione alla proprietà <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-123">This can be done by implementing the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> interface and assigning the implementation to the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A> property.</span></span> <span data-ttu-id="9ca4e-124">Per esempi, vedere [procedura: controllare o modificare i messaggi sul Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md) e [procedura: controllare o modificare i messaggi sul Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-124">For examples, see [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md) and [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
-   <span data-ttu-id="9ca4e-125">Registrazione di messaggi personalizzata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-125">Custom Message Logging.</span></span> <span data-ttu-id="9ca4e-126">È possibile che un utente desideri controllare e registrare un set di messaggi dell'applicazione che passano attraverso un endpoint.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-126">A user may want to inspect and log some set of application messages that flow through an endpoint.</span></span> <span data-ttu-id="9ca4e-127">Questa operazione può essere eseguita anche con le interfacce degli intercettori di messaggi.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-127">This can also be accomplished with the message interceptor interfaces.</span></span>  
  
-   <span data-ttu-id="9ca4e-128">Trasformazioni di messaggi personalizzate.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-128">Custom Message Transformations.</span></span> <span data-ttu-id="9ca4e-129">Anziché modificare il codice dell'applicazione, è possibile che l'utente desideri applicare determinate trasformazioni al messaggio nel runtime (ad esempio per il controllo delle versioni).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-129">Rather than modifying application code, the user may want to apply certain transformations to the message in the runtime (for example, for versioning).</span></span> <span data-ttu-id="9ca4e-130">Anche in questo caso, l'operazione può essere eseguita con le interfacce degli intercettori di messaggi.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-130">This can be accomplished, again, with the message interceptor interfaces.</span></span>  
  
-   <span data-ttu-id="9ca4e-131">Modello di dati personalizzato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-131">Custom Data Model.</span></span> <span data-ttu-id="9ca4e-132">Un utente desideri un modello di dati o serializzazione diverso da quelli supportati per impostazione predefinita in WCF (vale a dire, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, e <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> oggetti).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-132">A user may want to have a data or serialization model other than those supported by default in WCF (namely, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> objects).</span></span> <span data-ttu-id="9ca4e-133">A questo scopo, è possibile implementare le interfacce dei formattatori di messaggi.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-133">This can be done by implementing the message formatter interfaces.</span></span> <span data-ttu-id="9ca4e-134">Per ulteriori informazioni, vedere l'interfaccia <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> e la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-134">For more information, see <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> and the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="9ca4e-135">Convalida di parametri personalizzata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-135">Custom Parameter Validation.</span></span> <span data-ttu-id="9ca4e-136">È possibile che un utente desideri imporre che i parametri tipizzati siano validi (a differenza di XML).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-136">A user may want to enforce that typed parameters are valid (as opposed to XML).</span></span> <span data-ttu-id="9ca4e-137">A questo scopo, è possibile usare le interfacce di controllo dei parametri.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-137">This can be done using the parameter inspector interfaces.</span></span> <span data-ttu-id="9ca4e-138">Per un esempio, vedere [procedura: controllare o modificare parametri](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md) o [la convalida del Client](../../../../docs/framework/wcf/samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-138">For an example, see [How to: Inspect or Modify Parameters](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md) or [Client Validation](../../../../docs/framework/wcf/samples/client-validation.md).</span></span>  
  
### <a name="using-the-clientruntime-class"></a><span data-ttu-id="9ca4e-139">Utilizzo della classe ClientRuntime</span><span class="sxs-lookup"><span data-stu-id="9ca4e-139">Using the ClientRuntime Class</span></span>  
 <span data-ttu-id="9ca4e-140">La classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> è un punto di estensibilità a cui è possibile aggiungere oggetti di estensione che intercettano i messaggi ed estendono il comportamento del client.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-140">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class is an extensibility point to which you can add extension objects that intercept messages and extend client behavior.</span></span> <span data-ttu-id="9ca4e-141">Gli oggetti di intercettamento possono elaborare tutti i messaggi di un contratto specifico, elaborare solo i messaggi di operazioni particolari, eseguire l'inizializzazione di un canale personalizzata e implementare altri comportamenti dell'applicazione client personalizzati.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-141">Interception objects can process all messages in a particular contract, process only messages for particular operations, perform custom channel initialization, and implement other custom client application behavior.</span></span>  
  
-   <span data-ttu-id="9ca4e-142">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> restituisce l'oggetto runtime di invio per i client di callback avviati dal servizio.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-142">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property returns the dispatch run-time object for service-initiated callback clients.</span></span>  
  
-   <span data-ttu-id="9ca4e-143">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> accetta un oggetto selettore dell'operazione personalizzato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-143">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> property accepts a custom operation selector object.</span></span>  
  
-   <span data-ttu-id="9ca4e-144">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> consente di aggiungere un inizializzatore del canale che può controllare o modificare il canale client.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-144">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> property enables the addition of a channel initializer that can inspect or modify the client channel.</span></span>  
  
-   <span data-ttu-id="9ca4e-145">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> ottiene una raccolta di oggetti <xref:System.ServiceModel.Dispatcher.ClientOperation> alla quale è possibile aggiungere intercettatori di messaggi personalizzati che forniscono la funzionalità specifica ai messaggi di quell'operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-145">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.ClientOperation> objects to which you can add custom message interceptors that provide functionality specific to the messages of that operation.</span></span>  
  
-   <span data-ttu-id="9ca4e-146">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> consente a un'applicazione di disattivare alcune intestazioni di indirizzamento automatico per controllare direttamente l'indirizzamento.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-146">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> property enables an application to turn off some automatic addressing headers to directly control addressing.</span></span>  
  
-   <span data-ttu-id="9ca4e-147">La proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> imposta il valore della destinazione del messaggio a livello di trasporto per supportare gli intermediari e altri scenari.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-147">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> property sets the value of the destination of the message at the transport level to support intermediaries and other scenarios.</span></span>  
  
-   <span data-ttu-id="9ca4e-148">Il <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> proprietà ottiene una raccolta di <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> gli oggetti a cui è possibile aggiungere intercettatori di messaggi personalizzati per tutti i messaggi che passano attraverso un client WCF.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-148">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objects to which you can add custom message interceptors for all messages traveling through a WCF client.</span></span>  
  
 <span data-ttu-id="9ca4e-149">Esistono inoltre altre proprietà che recuperano le informazioni del contratto:</span><span class="sxs-lookup"><span data-stu-id="9ca4e-149">In addition, there are a number of other properties that retrieve the contract information:</span></span>  
  
-   <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractName%2A>  
  
-   <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractNamespace%2A>  
  
-   <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractClientType%2A>  
  
 <span data-ttu-id="9ca4e-150">Se il client WCF è un client duplex WCF, le proprietà seguenti inoltre recuperano informazioni sul client WCF il callback:</span><span class="sxs-lookup"><span data-stu-id="9ca4e-150">If the WCF client is a duplex WCF client, the following properties also retrieve the callback WCF client information:</span></span>  
  
-   <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackClientType%2A>  
  
-   <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A>  
  
 <span data-ttu-id="9ca4e-151">Per estendere l'esecuzione del client WCF in un intero client WCF, esaminare le proprietà disponibili sul <xref:System.ServiceModel.Dispatcher.ClientRuntime> (classe) per verificare se la modifica di una proprietà o l'implementazione di un'interfaccia e aggiungerlo a una proprietà crea la funzionalità desiderata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-151">To extend WCF client execution across an entire WCF client, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="9ca4e-152">Una volta scelta una particolare estensione da compilare, inserirla nella proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime> appropriata implementando un comportamento del client che fornisca accesso alla classe <xref:System.ServiceModel.Dispatcher.ClientRuntime> quando viene richiamato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-152">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientRuntime> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class when invoked.</span></span>  
  
 <span data-ttu-id="9ca4e-153">Per inserire oggetti di estensione personalizzati in una raccolta, è possibile utilizzare un comportamento dell'operazione (un oggetto che implementa <xref:System.ServiceModel.Description.IOperationBehavior>), un comportamento del contratto (un oggetto che implementa <xref:System.ServiceModel.Description.IContractBehavior>) o un comportamento dell'endpoint (un oggetto che implementa <xref:System.ServiceModel.Description.IEndpointBehavior>).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-153">You can insert custom extension objects into a collection using an operation behavior (an object that implements <xref:System.ServiceModel.Description.IOperationBehavior>), a contract behavior (an object that implements <xref:System.ServiceModel.Description.IContractBehavior>), or an endpoint behavior (an object that implements <xref:System.ServiceModel.Description.IEndpointBehavior>).</span></span> <span data-ttu-id="9ca4e-154">L'oggetto del comportamento da installare viene aggiunto alla raccolta appropriata di comportamenti a livello di codice, in modo dichiarativo (implementando un attributo personalizzato) o implementando un oggetto <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> personalizzato per consentire al comportamento di essere inserito utilizzando un file di configurazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-154">The installing behavior object is added to the appropriate collection of behaviors either programmatically, declaratively (by implementing a custom attribute), or by implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> object to enable the behavior to be inserted using an application configuration file.</span></span> <span data-ttu-id="9ca4e-155">Per informazioni dettagliate, vedere [la configurazione e l'estensione del Runtime con i comportamenti](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-155">For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="9ca4e-156">Per esempi che illustrano l'intercettazione tra un client WCF, vedere [procedura: controllare o modificare i messaggi sul Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-156">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Messages on the Client](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
### <a name="using-the-clientoperation-class"></a><span data-ttu-id="9ca4e-157">Utilizzo della classe ClientOperation</span><span class="sxs-lookup"><span data-stu-id="9ca4e-157">Using the ClientOperation Class</span></span>  
 <span data-ttu-id="9ca4e-158">Nella classe <xref:System.ServiceModel.Dispatcher.ClientOperation> è possibile eseguire modifiche della fase di esecuzione del client e questa classe rappresenta il punto di inserimento per le estensioni personalizzate nell'ambito di una sola operazione del servizio.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-158">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class is the location for client run-time modifications and insertion point for custom extensions that are scoped to only one service operation.</span></span> <span data-ttu-id="9ca4e-159">(Per modificare il comportamento della fase di esecuzione del client per tutti i messaggi di un contratto, utilizzare la classe <xref:System.ServiceModel.Dispatcher.ClientRuntime>).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-159">(To modify client run-time behavior for all messages in a contract, use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class.)</span></span>  
  
 <span data-ttu-id="9ca4e-160">Usare la proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> per individuare l'oggetto <xref:System.ServiceModel.Dispatcher.ClientOperation> che rappresenta un'operazione specifica del servizio.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-160">Use the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property to locate the <xref:System.ServiceModel.Dispatcher.ClientOperation> object that represents a particular service operation.</span></span> <span data-ttu-id="9ca4e-161">Le proprietà seguenti consentono di inserire oggetti personalizzati nel sistema di client WCF:</span><span class="sxs-lookup"><span data-stu-id="9ca4e-161">The following properties enable you to insert custom objects into the WCF client system:</span></span>  
  
-   <span data-ttu-id="9ca4e-162">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> per inserire un'implementazione personalizzata dell'interfaccia <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> di un'operazione o per modificare il formattatore corrente.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-162">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> implementation for an operation or modify the current formatter.</span></span>  
  
-   <span data-ttu-id="9ca4e-163">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> per inserire un'implementazione personalizzata dell'interfaccia <xref:System.ServiceModel.Dispatcher.IParameterInspector> o per modificare l'interfaccia corrente.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-163">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IParameterInspector> implementation or to modify the current one.</span></span>  
  
 <span data-ttu-id="9ca4e-164">Le proprietà seguenti consentono di modificare il sistema in interazione con il formattatore e i controlli del parametro personalizzati:</span><span class="sxs-lookup"><span data-stu-id="9ca4e-164">The following properties enable you to modify the system in interaction with the formatter and custom parameter inspectors:</span></span>  
  
-   <span data-ttu-id="9ca4e-165">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> per controllare la serializzazione di un messaggio in uscita.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-165">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> property to control the serialization of an outbound message.</span></span>  
  
-   <span data-ttu-id="9ca4e-166">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> per controllare la deserializzazione di un messaggio in entrata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-166">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> property to control the deserialization of an inbound message.</span></span>  
  
-   <span data-ttu-id="9ca4e-167">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> per controllare l'azione WS-Addressing del messaggio di richiesta.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-167">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> property to control the WS-Addressing action of the request message.</span></span>  
  
-   <span data-ttu-id="9ca4e-168">Usare la <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> e <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> per specificare quali metodi del client WCF sono associati a un'operazione asincrona.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-168">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> to specify which WCF client methods are associated with an asynchronous operation.</span></span>  
  
-   <span data-ttu-id="9ca4e-169">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> per ottenere una raccolta contenente i tipi che possono comparire negli errori SOAP come tipi di dettaglio.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-169">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> property to get a collection that contains the types that can appear in SOAP faults as the detail type.</span></span>  
  
-   <span data-ttu-id="9ca4e-170">Utilizzare le proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> e <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> per controllare se una sessione viene rispettivamente avviata o eliminata quando viene chiamata l'operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-170">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> properties to control whether a session is initiated or is torn down, respectively, when the operation is called.</span></span>  
  
-   <span data-ttu-id="9ca4e-171">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> per controllare se l'operazione è un'operazione unidirezionale.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-171">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> property to control whether the operation is a one-way operation.</span></span>  
  
-   <span data-ttu-id="9ca4e-172">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> per ottenere l'oggetto contenitore <xref:System.ServiceModel.Dispatcher.ClientRuntime>.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-172">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> property to obtain the containing <xref:System.ServiceModel.Dispatcher.ClientRuntime> object.</span></span>  
  
-   <span data-ttu-id="9ca4e-173">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> per ottenere il nome dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-173">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> property to get the name of the operation.</span></span>  
  
-   <span data-ttu-id="9ca4e-174">Utilizzare la proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> per controllare quale metodo viene mappato all'operazione.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-174">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> property to control which method is mapped to the operation.</span></span>  
  
 <span data-ttu-id="9ca4e-175">Per estendere l'esecuzione del client WCF in solo una operazione del servizio, esaminare le proprietà disponibili sul <xref:System.ServiceModel.Dispatcher.ClientOperation> (classe) per verificare se la modifica di una proprietà o l'implementazione di un'interfaccia e aggiungerlo a una proprietà crea la funzionalità desiderata.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-175">To extend WCF client execution across only one service operation, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientOperation> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="9ca4e-176">Una volta scelta una particolare estensione da compilare, inserirla nella proprietà <xref:System.ServiceModel.Dispatcher.ClientOperation> appropriata implementando un comportamento del client che fornisca accesso alla classe <xref:System.ServiceModel.Dispatcher.ClientOperation> quando viene richiamato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-176">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientOperation> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientOperation> class when invoked.</span></span> <span data-ttu-id="9ca4e-177">All'interno di tale comportamento è quindi possibile modificare la proprietà <xref:System.ServiceModel.Dispatcher.ClientRuntime> in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-177">Inside that behavior you can then modify the <xref:System.ServiceModel.Dispatcher.ClientRuntime> property to fit your requirements.</span></span>  
  
 <span data-ttu-id="9ca4e-178">In genere, è sufficiente l'implementazione di un comportamento dell'operazione (un oggetto che implementa l'interfaccia <xref:System.ServiceModel.Description.IOperationBehavior>), ma è anche possibile utilizzare comportamenti dell'endpoint e del contratto per ottenere lo stesso risultato individuando la classe <xref:System.ServiceModel.Description.OperationDescription> per una particolare operazione e allegandovi il comportamento.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-178">Typically, implementing an operation behavior (an object that implements the <xref:System.ServiceModel.Description.IOperationBehavior> interface) suffices, but you can also use endpoint behaviors and contract behaviors to accomplish the same thing by locating the <xref:System.ServiceModel.Description.OperationDescription> for a particular operation and attaching the behavior there.</span></span> <span data-ttu-id="9ca4e-179">Per informazioni dettagliate, vedere [la configurazione e l'estensione del Runtime con i comportamenti](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-179">For details, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="9ca4e-180">Per utilizzare il comportamento personalizzato dalla configurazione, installare il comportamento utilizzando un gestore della sezione di configurazione dei comportamenti personalizzati.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-180">To use your custom behavior from configuration, install your behavior using a custom behavior configuration section handler.</span></span> <span data-ttu-id="9ca4e-181">È inoltre possibile installare il comportamento creando un attributo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="9ca4e-181">You can also install your behavior by creating a custom attribute.</span></span>  
  
 <span data-ttu-id="9ca4e-182">Per esempi che illustrano l'intercettazione tra un client WCF, vedere [procedura: ispezionare o modificare parametri](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="9ca4e-182">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Parameters](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9ca4e-183">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="9ca4e-183">See Also</span></span>  
 <xref:System.ServiceModel.Dispatcher.ClientRuntime>  
 <xref:System.ServiceModel.Dispatcher.ClientOperation>  
 [<span data-ttu-id="9ca4e-184">Procedura: Ispezionare o modificare i messaggi nel client</span><span class="sxs-lookup"><span data-stu-id="9ca4e-184">How to: Inspect or Modify Messages on the Client</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-messages-on-the-client.md)  
 [<span data-ttu-id="9ca4e-185">Procedura: Ispezionare o modificare i parametri</span><span class="sxs-lookup"><span data-stu-id="9ca4e-185">How to: Inspect or Modify Parameters</span></span>](../../../../docs/framework/wcf/extending/how-to-inspect-or-modify-parameters.md)
