---
title: 'Procedura: specificare la catena di certificati di autorità di certificazione usata per verificare le firme (WCF)'
ms.date: 03/30/2017
helpviewer_keywords:
- certificates [WCF], specifying the certificate authority certificate chain
- certificates [WCF], verifying signatures
ms.assetid: 7c719355-aa41-4567-80d0-5115a8cf73fd
ms.openlocfilehash: 14f7691046f9512e25006bd6cd02749eed825003
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/04/2018
ms.locfileid: "33498075"
---
# <a name="how-to-specify-the-certificate-authority-certificate-chain-used-to-verify-signatures-wcf"></a><span data-ttu-id="7c83f-102">Procedura: specificare la catena di certificati di autorità di certificazione usata per verificare le firme (WCF)</span><span class="sxs-lookup"><span data-stu-id="7c83f-102">How to: Specify the Certificate Authority Certificate Chain Used to Verify Signatures (WCF)</span></span>
<span data-ttu-id="7c83f-103">Quando Windows Communication Foundation (WCF) riceve un messaggio SOAP firmato mediante un certificato X.509, per impostazione predefinita verifica che il certificato X.509 è stato emesso da un'autorità di certificazione attendibile.</span><span class="sxs-lookup"><span data-stu-id="7c83f-103">When Windows Communication Foundation (WCF) receives a SOAP message signed using an X.509 certificate, by default it verifies that the X.509 certificate was issued by a trusted certification authority.</span></span> <span data-ttu-id="7c83f-104">A tale scopo viene eseguita una ricerca in un archivio certificati per determinare se il certificato di tale autorità di certificazione è stato riconosciuto come attendibile.</span><span class="sxs-lookup"><span data-stu-id="7c83f-104">This is done by looking in a certificate store and determining if the certificate for that certification authority has been designated as trusted.</span></span> <span data-ttu-id="7c83f-105">Affinché WCF a tal fine, la catena di certificati dell'autorità di certificazione deve essere installata nell'archivio certificati corretto.</span><span class="sxs-lookup"><span data-stu-id="7c83f-105">In order for WCF to make this determination, the certification authority certificate chain must be installed in the correct certificate store.</span></span>  
  
### <a name="to-install-a-certification-authority-certificate-chain"></a><span data-ttu-id="7c83f-106">Per installare una catena di certificati dell'autorità di certificazione</span><span class="sxs-lookup"><span data-stu-id="7c83f-106">To install a certification authority certificate chain</span></span>  
  
-   <span data-ttu-id="7c83f-107">Per ogni autorità di certificazione che un destinatario di messaggi SOAP intende ritenere attendibili i certificati X.509 emessi da, installare la catena di certificati dell'autorità di certificazione nell'archivio certificati che WCF sia configurato per recuperare i certificati X.509.</span><span class="sxs-lookup"><span data-stu-id="7c83f-107">For each certification authority that a SOAP message recipient intends to trust X.509 certificates issued from, install the certification authority certificate chain into the certificate store that WCF is configured to retrieve X.509 certificates from.</span></span>  
  
     <span data-ttu-id="7c83f-108">Ad esempio, se un destinatario di messaggi SOAP intende ritenere attendibili i certificati X.509 rilasciati da Microsoft, la catena di certificati dell'autorità di certificazione di Microsoft deve installata nell'archivio certificati che WCF è configurato per cercare i certificati X.509.</span><span class="sxs-lookup"><span data-stu-id="7c83f-108">For instance, if a SOAP message recipient intends to trust X.509 certificates issued by Microsoft, the certification authority certificate chain for Microsoft must be installed in the certificate store that WCF is set up to look for X.509 certificates from.</span></span> <span data-ttu-id="7c83f-109">L'archivio certificati in cui WCF esegue la ricerca di certificati X.509 può essere specificato nel codice o nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="7c83f-109">The certificate store in which WCF looks for X.509 certificates can be specified in code or configuration.</span></span> <span data-ttu-id="7c83f-110">Ad esempio, questo valore può essere specificato nel codice utilizzando il <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> metodo o nella configurazione alcuni modi, ad esempio il [ \<serviceCertificate >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) .</span><span class="sxs-lookup"><span data-stu-id="7c83f-110">For example, this can be specified in code using the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method or in configuration a few ways, including the [\<serviceCertificate>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) .</span></span>  
  
     <span data-ttu-id="7c83f-111">Poiché Windows offre un set incorporato di catene di certificati predefinite di autorità di certificazione attendibili, è possibile che non sia necessario installare la catena di certificati per tutte le autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="7c83f-111">Because Windows ships with a set of default certificate chains for trusted certificate authorities, it may not be necessary to install the certificate chain for all certificate authorities.</span></span>  
  
    1.  <span data-ttu-id="7c83f-112">Esportare la catena di certificati dell'autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="7c83f-112">Export the certification authority certificate chain.</span></span>  
  
         <span data-ttu-id="7c83f-113">La modalità utilizzata per eseguire questa operazione varia a seconda dell'autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="7c83f-113">Exactly how this is done depends on the certification authority.</span></span> <span data-ttu-id="7c83f-114">Se l'autorità di certificazione esegue Servizi certificati Microsoft, selezionare **scarica un certificato CA, una catena di certificati o CRL**, quindi scegliere **Esegui Download certificato CA**.</span><span class="sxs-lookup"><span data-stu-id="7c83f-114">If the certification authority is running Microsoft Certificate Services, select **Download a CA certificate, certificate chain, or CRL**, and then choose **Download CA certificate**.</span></span>  
  
    2.  <span data-ttu-id="7c83f-115">Importare la catena di certificati dell'autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="7c83f-115">Import the certification authority certificate chain.</span></span>  
  
         <span data-ttu-id="7c83f-116">In Microsoft Management Console (MMC), aprire lo snap-in Certificati.</span><span class="sxs-lookup"><span data-stu-id="7c83f-116">In the Microsoft Management Console (MMC), open the Certificates snap-in.</span></span> <span data-ttu-id="7c83f-117">Per l'archivio certificati che WCF è configurato per recuperare i certificati X.509, selezionare il **radice attendibili** **autorità di certificazione**cartella.</span><span class="sxs-lookup"><span data-stu-id="7c83f-117">For the certificate store that WCF is configured to retrieve X.509 certificates from, select the **Trusted Root** **Certification Authorities**folder.</span></span> <span data-ttu-id="7c83f-118">Sotto il **autorità di certificazione radice attendibili** cartella, fare doppio clic su di **certificati**cartella, scegliere **tutte le attività**e quindi fare clic su **importazione** .</span><span class="sxs-lookup"><span data-stu-id="7c83f-118">Under the **Trusted Root Certification Authorities** folder, right-click the **Certificates**folder, point to **All Tasks**, and then click **Import**.</span></span> <span data-ttu-id="7c83f-119">Indicare il file esportato nel primo passaggio.</span><span class="sxs-lookup"><span data-stu-id="7c83f-119">Provide the file exported in step a.</span></span>  
  
         <span data-ttu-id="7c83f-120">Per ulteriori informazioni sull'utilizzo dello snap-in certificati in MMC, vedere [procedura: visualizzare certificati con lo Snap-in MMC](../../../../docs/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in.md).</span><span class="sxs-lookup"><span data-stu-id="7c83f-120">For more information about using the Certificates snap-in with MMC, see [How to: View Certificates with the MMC Snap-in](../../../../docs/framework/wcf/feature-details/how-to-view-certificates-with-the-mmc-snap-in.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="7c83f-121">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="7c83f-121">See Also</span></span>  
 [<span data-ttu-id="7c83f-122">Uso di certificati</span><span class="sxs-lookup"><span data-stu-id="7c83f-122">Working with Certificates</span></span>](../../../../docs/framework/wcf/feature-details/working-with-certificates.md)
