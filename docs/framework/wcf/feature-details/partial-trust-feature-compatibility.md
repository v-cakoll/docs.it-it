---
title: Compatibilità con la funzionalità di trust parziale
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a36a540b-1606-4e63-88e0-b7c59e0e6ab7
caps.latest.revision: 75
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 20cb6c1cd7a3b06b57bce02d5c3caacc7e2e42b7
ms.sourcegitcommit: 2042de78fcdceebb6b8ac4b7a292b93e8782cbf5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/27/2018
---
# <a name="partial-trust-feature-compatibility"></a><span data-ttu-id="f33d9-102">Compatibilità con la funzionalità di trust parziale</span><span class="sxs-lookup"><span data-stu-id="f33d9-102">Partial Trust Feature Compatibility</span></span>
<span data-ttu-id="f33d9-103">Se eseguito in ambiente parzialmente attendibile,[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] supporta un sottoinsieme limitato di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="f33d9-103">[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] supports a limited subset of functionality when running in a partially-trusted environment.</span></span> <span data-ttu-id="f33d9-104">Le funzionalità supportate in un contesto parzialmente attendibile sono progettate sulla base di uno specifico set di scenari, come descritto nell'argomento [Supported Deployment Scenarios](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md) .</span><span class="sxs-lookup"><span data-stu-id="f33d9-104">The features supported in partial trust are designed around a specific set of scenarios as described in the [Supported Deployment Scenarios](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md) topic.</span></span>  
  
## <a name="minimum-permission-requirements"></a><span data-ttu-id="f33d9-105">Requisiti di autorizzazione minimi</span><span class="sxs-lookup"><span data-stu-id="f33d9-105">Minimum Permission Requirements</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="f33d9-106"> supporta un sottoinsieme di funzionalità in applicazioni in esecuzione con uno dei set di autorizzazioni denominati standard seguenti:</span><span class="sxs-lookup"><span data-stu-id="f33d9-106"> supports a subset of features in applications running under either of the following standard named permission sets:</span></span>  
  
-   <span data-ttu-id="f33d9-107">Autorizzazioni Attendibilità media</span><span class="sxs-lookup"><span data-stu-id="f33d9-107">Medium Trust permissions</span></span>  
  
-   <span data-ttu-id="f33d9-108">Autorizzazioni Area Internet</span><span class="sxs-lookup"><span data-stu-id="f33d9-108">Internet Zone permissions</span></span>  
  
 <span data-ttu-id="f33d9-109">Il tentativo di utilizzare [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in applicazioni in ambiente parzialmente attendibile con autorizzazioni più restrittive può generare eccezioni di sicurezza in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-109">Attempting to use [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in partially-trusted applications with more restrictive permissions may result in security exceptions at runtime.</span></span>  
  
## <a name="contracts"></a><span data-ttu-id="f33d9-110">Contratti</span><span class="sxs-lookup"><span data-stu-id="f33d9-110">Contracts</span></span>  
 <span data-ttu-id="f33d9-111">Se eseguiti in ambiente parzialmente attendibile, i contratti sono soggetti alle restrizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f33d9-111">Contracts are subject to the following restrictions when running under partial trust:</span></span>  
  
-   <span data-ttu-id="f33d9-112">La classe del servizio che implementa l'interfaccia `[ServiceContract]` deve essere `public` e presentare un costruttore `public` .</span><span class="sxs-lookup"><span data-stu-id="f33d9-112">The service class that implements the `[ServiceContract]` interface must be `public` and have a `public` constructor.</span></span> <span data-ttu-id="f33d9-113">Se definisce metodi `[OperationContract]` , questi devono essere `public`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-113">If it defines `[OperationContract]` methods, these must be `public`.</span></span> <span data-ttu-id="f33d9-114">Se invece implementa un'interfaccia `[ServiceContract]` , le implementazioni dei metodi possono essere esplicite o `private`, purché l'interfaccia `[ServiceContract]` sia `public`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-114">If it instead implements a `[ServiceContract]` interface, those method implementations can be explicit or `private`, provided that the `[ServiceContract]` interface is `public`.</span></span>  
  
-   <span data-ttu-id="f33d9-115">Quando si utilizza l'attributo `[ServiceKnownType]` , il metodo specificato deve essere `public`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-115">When using the `[ServiceKnownType]` attribute, the method specified must be `public`.</span></span>  
  
-   <span data-ttu-id="f33d9-116">Le classi`[MessageContract]` e i relativi membri possono essere `public`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-116">`[MessageContract]` classes and their members can be `public`.</span></span> <span data-ttu-id="f33d9-117">Se la classe `[MessageContract]` viene definita nell'assembly dell'applicazione, può essere `internal` e disporre di membri `internal` .</span><span class="sxs-lookup"><span data-stu-id="f33d9-117">If the `[MessageContract]` class is defined in the application assembly it can be `internal` and have `internal` members.</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="f33d9-118">Associazioni fornite dal sistema</span><span class="sxs-lookup"><span data-stu-id="f33d9-118">System-Provided Bindings</span></span>  
 <span data-ttu-id="f33d9-119">Le classi <xref:System.ServiceModel.BasicHttpBinding> e <xref:System.ServiceModel.WebHttpBinding> sono completamente supportate in un ambiente di trust parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-119">The <xref:System.ServiceModel.BasicHttpBinding> and <xref:System.ServiceModel.WebHttpBinding> are fully supported in a partial trust environment.</span></span> <span data-ttu-id="f33d9-120">La classe <xref:System.ServiceModel.WSHttpBinding> è supportata solo per la modalità di sicurezza trasporto.</span><span class="sxs-lookup"><span data-stu-id="f33d9-120">The <xref:System.ServiceModel.WSHttpBinding> is supported for Transport security mode only.</span></span>  
  
 <span data-ttu-id="f33d9-121">Le associazioni che utilizzano trasporti diversi da HTTP, quali <xref:System.ServiceModel.NetTcpBinding>, <xref:System.ServiceModel.NetNamedPipeBinding>o <xref:System.ServiceModel.NetMsmqBinding>, non sono supportate in un ambiente di trust parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-121">Bindings that use transports other than HTTP, such as the <xref:System.ServiceModel.NetTcpBinding>, the <xref:System.ServiceModel.NetNamedPipeBinding>, or the <xref:System.ServiceModel.NetMsmqBinding>, are not supported when running in a partial trust environment.</span></span>  
  
## <a name="custom-bindings"></a><span data-ttu-id="f33d9-122">Associazioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="f33d9-122">Custom Bindings</span></span>  
 <span data-ttu-id="f33d9-123">Le associazioni personalizzate possono essere create e utilizzate in ambiente parzialmente attendibile, ma devono rispettare le restrizioni specificate in questa sezione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-123">Custom bindings can be created and used in a partial trust environment, but must follow the restrictions specified in this section.</span></span>  
  
### <a name="transports"></a><span data-ttu-id="f33d9-124">Trasporti</span><span class="sxs-lookup"><span data-stu-id="f33d9-124">Transports</span></span>  
 <span data-ttu-id="f33d9-125">Gli unici elementi di associazione di trasporto consentiti sono <xref:System.ServiceModel.Channels.HttpTransportBindingElement> e <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="f33d9-125">The only allowed transport binding elements are <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>.</span></span>  
  
### <a name="encoders"></a><span data-ttu-id="f33d9-126">Codificatori</span><span class="sxs-lookup"><span data-stu-id="f33d9-126">Encoders</span></span>  
 <span data-ttu-id="f33d9-127">Sono consentiti i codificatori seguenti:</span><span class="sxs-lookup"><span data-stu-id="f33d9-127">The following encoders are allowed:</span></span>  
  
-   <span data-ttu-id="f33d9-128">Codificatore di testo (<xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="f33d9-128">The text encoder (<xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>).</span></span>  
  
-   <span data-ttu-id="f33d9-129">Codificatore binario (<xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="f33d9-129">The binary encoder (<xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>).</span></span>  
  
-   <span data-ttu-id="f33d9-130">Codificatore di messaggi Web (<xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="f33d9-130">The Web Message encoder (<xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>).</span></span>  
  
 <span data-ttu-id="f33d9-131">Non sono supportati codificatori MTOM (Message Transmission Optimization Mechanism).</span><span class="sxs-lookup"><span data-stu-id="f33d9-131">The Message Transmission Optimization Mechanism (MTOM) encoders are not supported.</span></span>  
  
### <a name="security"></a><span data-ttu-id="f33d9-132">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="f33d9-132">Security</span></span>  
 <span data-ttu-id="f33d9-133">Le applicazioni in ambiente parzialmente attendibile possono utilizzare le funzionalità di sicurezza a livello di trasporto di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]per proteggere la comunicazione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-133">Partially-trusted applications can use [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]'s transport-level security features for securing their communication.</span></span> <span data-ttu-id="f33d9-134">La sicurezza a livello di messaggio non è supportata.</span><span class="sxs-lookup"><span data-stu-id="f33d9-134">Message-level security is not supported.</span></span> <span data-ttu-id="f33d9-135">La configurazione di un'associazione per l'utilizzo della sicurezza a livello di messaggio genera un'eccezione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-135">Configuring a binding to use message-level security results in an exception at runtime.</span></span>  
  
### <a name="unsupported-bindings"></a><span data-ttu-id="f33d9-136">Associazioni non supportate</span><span class="sxs-lookup"><span data-stu-id="f33d9-136">Unsupported Bindings</span></span>  
 <span data-ttu-id="f33d9-137">Le associazioni che utilizzano messaggistica affidabile, transazioni o sicurezza a livello di messaggio non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="f33d9-137">Bindings that use reliable messaging, transactions, or message-level security are not supported.</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="f33d9-138">Serializzazione</span><span class="sxs-lookup"><span data-stu-id="f33d9-138">Serialization</span></span>  
 <span data-ttu-id="f33d9-139">Entrambe le classi <xref:System.Runtime.Serialization.DataContractSerializer> e <xref:System.Xml.Serialization.XmlSerializer> sono supportate in un ambiente di trust parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-139">Both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer> are supported in a partial trust environment.</span></span> <span data-ttu-id="f33d9-140">Tuttavia, l'utilizzo di <xref:System.Runtime.Serialization.DataContractSerializer> è soggetto alle condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f33d9-140">However, use of the <xref:System.Runtime.Serialization.DataContractSerializer> is subject to the following conditions:</span></span>  
  
-   <span data-ttu-id="f33d9-141">Tutti i tipi `[DataContract]` serializzabili devono essere `public`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-141">All serializable `[DataContract]` types must be `public`.</span></span>  
  
-   <span data-ttu-id="f33d9-142">Tutti i campi `[DataMember]` o le proprietà in un tipo `[DataContract]` devono essere pubblici e di lettura/scrittura.</span><span class="sxs-lookup"><span data-stu-id="f33d9-142">All serializable `[DataMember]` fields or properties in a `[DataContract]` type must be public and read/write.</span></span> <span data-ttu-id="f33d9-143">La serializzazione e la deserializzazione di campi [di sola lettura](http://go.microsoft.com/fwlink/?LinkID=98854) non sono supportate quando si esegue [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in un'applicazione in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-143">The serialization and deserialization of [readonly](http://go.microsoft.com/fwlink/?LinkID=98854) fields is not supported when running [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in a partially-trusted application.</span></span>  
  
-   <span data-ttu-id="f33d9-144">Il modello di programmazione `[Serializable]`/ISerializable non è supportato in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-144">The `[Serializable]`/ISerializable programming model is not supported in a partial trust environment.</span></span>  
  
-   <span data-ttu-id="f33d9-145">I tipi noti devono essere specificati nel codice o nella configurazione a livello di computer (machine.config).</span><span class="sxs-lookup"><span data-stu-id="f33d9-145">Known types must be specified in code or machine-level configuration (machine.config).</span></span> <span data-ttu-id="f33d9-146">I tipi noti non possono essere specificati nella configurazione a livello di applicazione per motivi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="f33d9-146">Known types cannot be specified in application-level configuration for security reasons.</span></span>  
  
-   <span data-ttu-id="f33d9-147">I tipi che implementano <xref:System.Runtime.Serialization.IObjectReference> generano un'eccezione in un ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-147">Types that implement <xref:System.Runtime.Serialization.IObjectReference> throw an exception in a partially-trusted environment.</span></span>  
  
 <span data-ttu-id="f33d9-148">Per altre informazioni sulla sicurezza quando si usa [T:System.Runtime.Serialization.DataContractSerializer](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md) in modo sicuro in un'applicazione in ambiente parzialmente attendibile, vedere la sezione sulla serializzazione in <xref:System.Runtime.Serialization.DataContractSerializer> .</span><span class="sxs-lookup"><span data-stu-id="f33d9-148">See the Serialization section in [Partial Trust Best Practices](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md) for more information about security when using <xref:System.Runtime.Serialization.DataContractSerializer> safely in a partially-trusted application.</span></span>  
  
### <a name="collection-types"></a><span data-ttu-id="f33d9-149">Tipi di raccolta</span><span class="sxs-lookup"><span data-stu-id="f33d9-149">Collection Types</span></span>  
 <span data-ttu-id="f33d9-150">Alcuni tipi di raccolta implementano sia <xref:System.Collections.Generic.IEnumerable%601> che <xref:System.Collections.IEnumerable>.</span><span class="sxs-lookup"><span data-stu-id="f33d9-150">Some collection types implement both <xref:System.Collections.Generic.IEnumerable%601> and <xref:System.Collections.IEnumerable>.</span></span> <span data-ttu-id="f33d9-151">Gli esempi includono tipi che implementano <xref:System.Collections.Generic.ICollection%601>.</span><span class="sxs-lookup"><span data-stu-id="f33d9-151">Examples include types that implement <xref:System.Collections.Generic.ICollection%601>.</span></span> <span data-ttu-id="f33d9-152">Tali tipi possono implementare un'implementazione `public` di `GetEnumerator()`e un'implementazione esplicita di `GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-152">Such types can implement a `public` implementation of `GetEnumerator()`, and an explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="f33d9-153">In questo caso, <xref:System.Runtime.Serialization.DataContractSerializer> richiama l'implementazione `public` di `GetEnumerator()`e non l'implementazione esplicita di `GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-153">In this case, <xref:System.Runtime.Serialization.DataContractSerializer> invokes the `public` implementation of `GetEnumerator()`, and not the explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="f33d9-154">Se nessuna delle implementazioni di `GetEnumerator()` è `public` e tutte sono implementazioni esplicite, <xref:System.Runtime.Serialization.DataContractSerializer> richiama `IEnumerable.GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="f33d9-154">If none of the `GetEnumerator()` implementations are `public` and all are explicit implementations, then <xref:System.Runtime.Serialization.DataContractSerializer> invokes `IEnumerable.GetEnumerator()`.</span></span>  
  
 <span data-ttu-id="f33d9-155">Per i tipi di raccolta quando [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] viene eseguito in un ambiente di trust parziale, se nessuna delle implementazioni di `GetEnumerator()` è `public`né è un'implementazione esplicita dell'interfaccia, viene generata un'eccezione di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="f33d9-155">For collection types when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is running in a partial trust environment, if none of the `GetEnumerator()` implementations are `public`, or none of them are explicit interface implementations, then a security exception is thrown.</span></span>  
  
### <a name="netdatacontractserializer"></a><span data-ttu-id="f33d9-156">NetDataContractSerializer</span><span class="sxs-lookup"><span data-stu-id="f33d9-156">NetDataContractSerializer</span></span>  
 <span data-ttu-id="f33d9-157">Molti tipi di raccolte .NET Framework come <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ArrayList>, <xref:System.Collections.Generic.Dictionary%602> e <xref:System.Collections.Hashtable> non sono supportati da <xref:System.Runtime.Serialization.NetDataContractSerializer> in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-157">Many .NET Framework collection types such as <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ArrayList>, <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Hashtable> are not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span> <span data-ttu-id="f33d9-158">Per questi tipi è impostato l'attributo `[Serializable]` e, come indicato in precedenza nella sezione sulla serializzazione, questo attributo non è supportato in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-158">These types have the `[Serializable]` attribute set, and as stated previously in the Serialization section, this attribute is not supported in partial trust.</span></span> <span data-ttu-id="f33d9-159"><xref:System.Runtime.Serialization.DataContractSerializer> considera le raccolte in modo particolare ed è pertanto in grado di ignorare questa restrizione, al contrario di <xref:System.Runtime.Serialization.NetDataContractSerializer> che non dispone di un meccanismo di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="f33d9-159">The <xref:System.Runtime.Serialization.DataContractSerializer> treats collections in a special way and is thus able to get around this restriction, but the <xref:System.Runtime.Serialization.NetDataContractSerializer> has no such mechanism to circumvent this restriction.</span></span>  
  
 <span data-ttu-id="f33d9-160">Il tipo <xref:System.DateTimeOffset> non è supportato da <xref:System.Runtime.Serialization.NetDataContractSerializer> in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-160">The <xref:System.DateTimeOffset> type is not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span>  
  
 <span data-ttu-id="f33d9-161">Se l'esecuzione avviene in ambiente parzialmente attendibile, non è possibile utilizzare un surrogato con <xref:System.Runtime.Serialization.NetDataContractSerializer> (tramite il meccanismo <xref:System.Runtime.Serialization.SurrogateSelector> ).</span><span class="sxs-lookup"><span data-stu-id="f33d9-161">A surrogate cannot be used with the <xref:System.Runtime.Serialization.NetDataContractSerializer> (using the <xref:System.Runtime.Serialization.SurrogateSelector> mechanism) when running in partial trust.</span></span> <span data-ttu-id="f33d9-162">Si noti che questa restrizione si applica all'utilizzo di un surrogato, non alla relativa serializzazione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-162">Note that this restriction applies to using a surrogate, not to serializing it.</span></span>  
  
## <a name="enabling-common-behaviors-to-run"></a><span data-ttu-id="f33d9-163">Abilitazione dell'esecuzione dei comportamenti comuni</span><span class="sxs-lookup"><span data-stu-id="f33d9-163">Enabling Common Behaviors to Run</span></span>  
 <span data-ttu-id="f33d9-164">Comportamenti del servizio o dell'endpoint non contrassegnati con il <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attributo (APTCA) aggiunti al [ \<commonBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/commonbehaviors.md) sezione di un file di configurazione non vengono eseguiti quando l'applicazione in esecuzione in una relazione di trust parziale In questo caso, viene generata alcuna eccezione e ambiente.</span><span class="sxs-lookup"><span data-stu-id="f33d9-164">Service or endpoint behaviors not marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute (APTCA) that are added to the [\<commonBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/commonbehaviors.md) section of a configuration file are not run when the application runs in a partial trust environment and no exception is thrown when this occurs.</span></span> <span data-ttu-id="f33d9-165">Per imporre l'esecuzione di comportamenti comuni, è necessario eseguire una delle operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f33d9-165">To enforce the running of common behaviors, you must do one of the following options:</span></span>  
  
-   <span data-ttu-id="f33d9-166">Contrassegnare il comportamento comune con l'attributo <xref:System.Security.AllowPartiallyTrustedCallersAttribute> in modo tale che questo possa essere eseguito se distribuito come applicazione parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-166">Mark your common behavior with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute so that it can run when deployed as a partial trust application.</span></span> <span data-ttu-id="f33d9-167">Si noti che una voce di registro può essere impostata nel computer per impedire l'esecuzione delle assembly APTCA.</span><span class="sxs-lookup"><span data-stu-id="f33d9-167">Note that a registry entry can be set on the computer to prevent APTCA-marked assemblies from running.</span></span> <span data-ttu-id="f33d9-168">.</span><span class="sxs-lookup"><span data-stu-id="f33d9-168">.</span></span>  
  
-   <span data-ttu-id="f33d9-169">Verificare che, se l'applicazione viene distribuita come completamente attendibile, gli utenti non possano modificare le impostazioni di sicurezza per l'accesso al codice per eseguire l'applicazione in ambiente parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="f33d9-169">Ensure that if the application is deployed as a fully-trusted application that users cannot modify the code-access security settings to run the application in a partial trust environment.</span></span> <span data-ttu-id="f33d9-170">In tal caso, il comportamento non viene eseguito e non viene generata alcuna eccezione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-170">If they can do so, the behavior does not run and no exception is thrown.</span></span> <span data-ttu-id="f33d9-171">A tale scopo, vedere il **levelfinal** tramite [Caspol.exe (strumento di criteri di sicurezza di accesso di codice)](../../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span><span class="sxs-lookup"><span data-stu-id="f33d9-171">To ensure this, see the **levelfinal** option using [Caspol.exe (Code Access Security Policy Tool)](../../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span></span>  
  
 <span data-ttu-id="f33d9-172">Per un esempio di un comportamento comune, vedere [procedura: blocco all'endpoint nell'organizzazione](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="f33d9-172">For an example of a common behavior, see [How to: Lock Down Endpoints in the Enterprise](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
## <a name="configuration"></a><span data-ttu-id="f33d9-173">Configurazione</span><span class="sxs-lookup"><span data-stu-id="f33d9-173">Configuration</span></span>  
 <span data-ttu-id="f33d9-174">Con una sola eccezione, il codice in ambiente parzialmente attendibile può caricare sezioni di configurazione di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] solo nel file `app.config` locale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-174">With one exception, partially-trusted code can only load [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections in the local `app.config` file.</span></span> <span data-ttu-id="f33d9-175">Per caricare sezioni di configurazione di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] che fanno riferimento a sezioni di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in machine.config o in un file web.config radice è necessario ConfigurationPermission(Unrestricted).</span><span class="sxs-lookup"><span data-stu-id="f33d9-175">To load [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections that reference [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sections in machine.config or in a root web.config file requires ConfigurationPermission(Unrestricted).</span></span> <span data-ttu-id="f33d9-176">Senza questa autorizzazione, i riferimenti a sezioni di configurazione di [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] (comportamenti, associazioni) esterni al file di configurazione locale generano un'eccezione al momento del caricamento della configurazione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-176">Without this permission, references to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections (behaviors, bindings) outside of the local configuration file results in an exception when the configuration is loaded.</span></span>  
  
 <span data-ttu-id="f33d9-177">L'unica eccezione è data dalla configurazione del tipo noto per la serializzazione, come descritto nella sezione sulla serializzazione di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f33d9-177">The one exception is known-type configuration for serialization, as described in the Serialization section of this topic.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f33d9-178">Le estensioni di configurazione sono supportate solo quando in esecuzione sotto Attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-178">Configuration extensions are only supported when running under Full Trust.</span></span>  
  
## <a name="diagnostics"></a><span data-ttu-id="f33d9-179">Diagnostica</span><span class="sxs-lookup"><span data-stu-id="f33d9-179">Diagnostics</span></span>  
  
### <a name="event-logging"></a><span data-ttu-id="f33d9-180">Registrazione eventi</span><span class="sxs-lookup"><span data-stu-id="f33d9-180">Event Logging</span></span>  
 <span data-ttu-id="f33d9-181">In ambiente parzialmente attendibile la registrazione eventi limitata è supportata.</span><span class="sxs-lookup"><span data-stu-id="f33d9-181">Limited event logging is supported under partial trust.</span></span> <span data-ttu-id="f33d9-182">Solo gli errori relativi all'attivazione del servizio e alla registrazione dei messaggi/traccia vengono registrati nel registro eventi.</span><span class="sxs-lookup"><span data-stu-id="f33d9-182">Only service activation faults and tracing/message logging failures are logged to the Event Log.</span></span> <span data-ttu-id="f33d9-183">Per evitare che venga scritto un numero eccessivo di messaggi nel registro eventi, il numero massimo di eventi registrabili da un processo è stato impostato su 5.</span><span class="sxs-lookup"><span data-stu-id="f33d9-183">The maximum number of events that can be logged by a process is 5, to avoid writing excessive messages to the Event Log.</span></span>  
  
### <a name="message-logging"></a><span data-ttu-id="f33d9-184">Registrazione messaggi</span><span class="sxs-lookup"><span data-stu-id="f33d9-184">Message Logging</span></span>  
 <span data-ttu-id="f33d9-185">La registrazione messaggi non funziona quando [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] viene eseguito in un ambiente di trust parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-185">Message logging does not work when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is run in a partial trust environment.</span></span> <span data-ttu-id="f33d9-186">In un trust parziale, l'attivazione del servizio ha esito positivo ma non viene registrato alcun messaggio.</span><span class="sxs-lookup"><span data-stu-id="f33d9-186">If enabled under partial trust, it does not fail service activation, but no message is logged.</span></span>  
  
### <a name="tracing"></a><span data-ttu-id="f33d9-187">Traccia</span><span class="sxs-lookup"><span data-stu-id="f33d9-187">Tracing</span></span>  
 <span data-ttu-id="f33d9-188">La funzionalità di traccia con restrizioni è disponibile quando l'applicazione viene eseguita in un ambiente di trust parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-188">Restricted tracing functionality is available when running in a partial trust environment.</span></span> <span data-ttu-id="f33d9-189">Nell'elemento <`listeners`> del file di configurazione, i soli tipi che è possibile aggiungere sono <xref:System.Diagnostics.TextWriterTraceListener> e il nuovo <xref:System.Diagnostics.EventSchemaTraceListener>.</span><span class="sxs-lookup"><span data-stu-id="f33d9-189">In the <`listeners`> element in the configuration file, the only types that you can add are <xref:System.Diagnostics.TextWriterTraceListener> and the new <xref:System.Diagnostics.EventSchemaTraceListener>.</span></span> <span data-ttu-id="f33d9-190">L'utilizzo della classe <xref:System.Diagnostics.XmlWriterTraceListener> standard può generare log incompleti o non corretti.</span><span class="sxs-lookup"><span data-stu-id="f33d9-190">Use of the standard <xref:System.Diagnostics.XmlWriterTraceListener> may result in incomplete or incorrect logs.</span></span>  
  
 <span data-ttu-id="f33d9-191">Le origini di traccia supportate sono:</span><span class="sxs-lookup"><span data-stu-id="f33d9-191">Supported trace sources are:</span></span>  
  
-   <xref:System.ServiceModel>  
  
-   <xref:System.Runtime.Serialization>  
  
-   <span data-ttu-id="f33d9-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy>, <xref:System.IdentityModel.Selectors>e <xref:System.IdentityModel.Tokens>.</span><span class="sxs-lookup"><span data-stu-id="f33d9-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy>, <xref:System.IdentityModel.Selectors>, and <xref:System.IdentityModel.Tokens>.</span></span>  
  
 <span data-ttu-id="f33d9-193">Le origini di traccia seguenti non sono supportate:</span><span class="sxs-lookup"><span data-stu-id="f33d9-193">The following trace sources are not supported:</span></span>  
  
-   <span data-ttu-id="f33d9-194">CardSpace</span><span class="sxs-lookup"><span data-stu-id="f33d9-194">CardSpace</span></span>  
  
-   <xref:System.IO.Log>  

-   <span data-ttu-id="f33d9-195">[System.ServiceModel.Internal.TransactionBridge](https://msdn.microsoft.com/library/system.servicemodel.internal.transactionbridge.aspx)]</span><span class="sxs-lookup"><span data-stu-id="f33d9-195">[System.ServiceModel.Internal.TransactionBridge](https://msdn.microsoft.com/library/system.servicemodel.internal.transactionbridge.aspx)]</span></span>
  
 <span data-ttu-id="f33d9-196">I membri seguenti dell'enumerazione <xref:System.Diagnostics.TraceOptions> non dovrebbero essere specificati:</span><span class="sxs-lookup"><span data-stu-id="f33d9-196">The following members of the <xref:System.Diagnostics.TraceOptions> enumeration should not be specified:</span></span>  
  
-   <xref:System.Diagnostics.TraceOptions.Callstack?displayProperty=nameWithType>  
  
-   <xref:System.Diagnostics.TraceOptions.ProcessId?displayProperty=nameWithType>  
  
 <span data-ttu-id="f33d9-197">Quando si utilizza la traccia in un ambiente di trust parziale, assicurare che l'applicazione disponga di autorizzazioni sufficienti per archiviare l'output del listener di traccia.</span><span class="sxs-lookup"><span data-stu-id="f33d9-197">When using tracing in a partial trust environment, ensure that the application has sufficient permissions to store the output of the trace listener.</span></span> <span data-ttu-id="f33d9-198">Ad esempio, quando si utilizza <xref:System.Diagnostics.TextWriterTraceListener> per scrivere output di traccia in un file di testo, assicurare che l'applicazione disponga dell'autorizzazione FileIOPermission necessaria per scrivere correttamente nel file di traccia.</span><span class="sxs-lookup"><span data-stu-id="f33d9-198">For example, when using the <xref:System.Diagnostics.TextWriterTraceListener> to write trace output to a text file, ensure that the application has the necessary FileIOPermission required to successfully write to the trace file.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="f33d9-199">Per evitare il flooding dei file di traccia con errori duplicati, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disabilita la traccia della risorsa o dell'azione dopo il primo errore di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="f33d9-199">To avoid flooding the trace files with duplicate errors, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="f33d9-200">Viene generata una traccia di eccezione per ogni accesso alla risorsa non riuscito, la prima volta che viene eseguito il tentativo di accedere alla risorsa o eseguire l'azione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-200">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="wcf-service-host"></a><span data-ttu-id="f33d9-201">Host servizio WCF</span><span class="sxs-lookup"><span data-stu-id="f33d9-201">WCF Service Host</span></span>  
 <span data-ttu-id="f33d9-202">L'host del servizio[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] non supporta l'attendibilità parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-202">[!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service host does not support partial trust.</span></span> <span data-ttu-id="f33d9-203">Se si desidera utilizzare un [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] del servizio in attendibilità parziale, non utilizzare il [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] modello progetto libreria di servizi in Visual Studio per compilare il servizio.</span><span class="sxs-lookup"><span data-stu-id="f33d9-203">If you want to use a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service in partial trust, do not use the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Service Library Project template in Visual Studio to build your service.</span></span> <span data-ttu-id="f33d9-204">Al contrario, creare un nuovo sito Web in Visual Studio scegliendo il [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sito Web modello di servizio che possa ospitare il servizio in un server Web in cui [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] è supportato l'attendibilità parziale.</span><span class="sxs-lookup"><span data-stu-id="f33d9-204">Instead, create a new Web site in Visual Studio by choosing the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service Web site template, which can host the service in a Web server on which [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] partial trust is supported.</span></span>  
  
## <a name="other-limitations"></a><span data-ttu-id="f33d9-205">Altre limitazioni</span><span class="sxs-lookup"><span data-stu-id="f33d9-205">Other Limitations</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="f33d9-206"> è generalmente soggetto alle considerazioni di sicurezza imposte dall'applicazione host.</span><span class="sxs-lookup"><span data-stu-id="f33d9-206"> is generally limited to the security considerations imposed upon it by the hosting application.</span></span> <span data-ttu-id="f33d9-207">Ad esempio, se [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] è ospitato in un'applicazione browser XAML (XBAP, XAML Browser Application), è soggetto alle limitazioni XBAP, come descritto in [Sicurezza con attendibilità parziale in WPF](http://go.microsoft.com/fwlink/?LinkId=89138).</span><span class="sxs-lookup"><span data-stu-id="f33d9-207">For example, if [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is hosted in a XAML Browser Application (XBAP), it is subject to XBAP limitations, as described in [Windows Presentation Foundation Partial Trust Security](http://go.microsoft.com/fwlink/?LinkId=89138).</span></span>  
  
 <span data-ttu-id="f33d9-208">Se indigo2 viene eseguito in ambiente parzialmente attendibile, le funzionalità aggiuntive seguenti non vengono abilitate:</span><span class="sxs-lookup"><span data-stu-id="f33d9-208">The following additional features are not enabled when running indigo2 in a partial trust environment:</span></span>  
  
-   <span data-ttu-id="f33d9-209">Strumentazione gestione Windows (WMI, Windows Management Instrumentation)</span><span class="sxs-lookup"><span data-stu-id="f33d9-209">Windows Management Instrumentation (WMI)</span></span>  
  
-   <span data-ttu-id="f33d9-210">La registrazione eventi è abilitata solo parzialmente (vedere la discussione nella sezione **Diagnostica** ).</span><span class="sxs-lookup"><span data-stu-id="f33d9-210">Event logging is only partially enabled (see discussion in **Diagnostics** section).</span></span>  
  
-   <span data-ttu-id="f33d9-211">Contatori delle prestazioni</span><span class="sxs-lookup"><span data-stu-id="f33d9-211">Performance counters</span></span>  
  
 <span data-ttu-id="f33d9-212">L'utilizzo di funzionalità [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sono supportate in un ambiente di trust parziale può generare eccezioni in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-212">Use of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] features that are not supported in a partial trust environment may result in exceptions at runtime.</span></span>  
  
## <a name="unlisted-features"></a><span data-ttu-id="f33d9-213">Funzionalità non elencate</span><span class="sxs-lookup"><span data-stu-id="f33d9-213">Unlisted Features</span></span>  
 <span data-ttu-id="f33d9-214">Il modo migliore per individuare se un'informazione non è disponibile in modalità di esecuzione in un ambiente di trust parziale è tentare di accedere alla risorsa o di eseguire l'azione all'interno di un blocco `try` e quindi eseguire il `catch` dell'errore.</span><span class="sxs-lookup"><span data-stu-id="f33d9-214">The best way to discover that a piece of information or action is unavailable when running in a partial trust environment is to try to access the resource or do the action inside of a `try` block, and then `catch` the failure.</span></span> <span data-ttu-id="f33d9-215">Per evitare il flooding dei file di traccia con errori duplicati, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disabilita la traccia della risorsa o dell'azione dopo il primo errore di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="f33d9-215">To avoid flooding the trace files with duplicate errors, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="f33d9-216">Viene generata una traccia di eccezione per ogni accesso alla risorsa non riuscito, la prima volta che viene eseguito il tentativo di accedere alla risorsa o eseguire l'azione.</span><span class="sxs-lookup"><span data-stu-id="f33d9-216">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f33d9-217">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="f33d9-217">See Also</span></span>  
 <xref:System.ServiceModel.Channels.HttpTransportBindingElement>  
 <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
 <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>  
 <xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>  
 [<span data-ttu-id="f33d9-218">Scenari di distribuzione supportati</span><span class="sxs-lookup"><span data-stu-id="f33d9-218">Supported Deployment Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md)  
 [<span data-ttu-id="f33d9-219">Procedure consigliate per l'attendibilità parziale</span><span class="sxs-lookup"><span data-stu-id="f33d9-219">Partial Trust Best Practices</span></span>](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md)
