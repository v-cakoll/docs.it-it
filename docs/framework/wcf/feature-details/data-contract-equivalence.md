---
title: Equivalenza dei contratti dati
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: data contracts [WCF], equivalence
ms.assetid: f06f3c7e-c235-4ec1-b200-68142edf1ed1
caps.latest.revision: "16"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 4059fa401d082f4408080cf5fd13f1331314a2d9
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/22/2017
---
# <a name="data-contract-equivalence"></a><span data-ttu-id="cb499-102">Equivalenza dei contratti dati</span><span class="sxs-lookup"><span data-stu-id="cb499-102">Data Contract Equivalence</span></span>
<span data-ttu-id="cb499-103">Perché un client possa inviare correttamente dati di un certo tipo a un servizio o perché un servizio possa inviare correttamente dati a un client, non è necessario che il tipo inviato sia presente nell'estremità ricevente.</span><span class="sxs-lookup"><span data-stu-id="cb499-103">For a client to successfully send data of a certain type to a service, or a service to successfully send data to a client, the sent type does not necessarily have to exist on the receiving end.</span></span> <span data-ttu-id="cb499-104">L'unico requisito è che i contratti dati di entrambi i tipi siano equivalenti.</span><span class="sxs-lookup"><span data-stu-id="cb499-104">The only requirement is that the data contracts of both types be equivalent.</span></span> <span data-ttu-id="cb499-105">(In alcuni casi, equivalenza rigida non è necessaria, come descritto in [controllo delle versioni del contratto dati](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)</span><span class="sxs-lookup"><span data-stu-id="cb499-105">(Sometimes, strict equivalence is not required, as discussed in [Data Contract Versioning](../../../../docs/framework/wcf/feature-details/data-contract-versioning.md).)</span></span>  
  
 <span data-ttu-id="cb499-106">Perché i contratti dati siano equivalenti devono avere lo stesso spazio dei nomi e lo stesso nome.</span><span class="sxs-lookup"><span data-stu-id="cb499-106">For data contracts to be equivalent, they must have the same namespace and name.</span></span> <span data-ttu-id="cb499-107">Ogni membro dati su uno lato deve inoltre avere un membro dati equivalente sull'altro lato.</span><span class="sxs-lookup"><span data-stu-id="cb499-107">Additionally, each data member on one side must have an equivalent data member on the other side.</span></span>  
  
 <span data-ttu-id="cb499-108">Perché i membri dati siano equivalenti devono avere lo stesso nome.</span><span class="sxs-lookup"><span data-stu-id="cb499-108">For data members to be equivalent, they must have the same name.</span></span> <span data-ttu-id="cb499-109">Devono inoltre rappresentare lo stesso tipo di dati, che significa che i rispettivi contratti dati devono essere equivalenti.</span><span class="sxs-lookup"><span data-stu-id="cb499-109">Additionally, they must represent the same type of data; that is, their data contracts must be equivalent.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cb499-110">Sia per i nomi e gli spazi dei nomi dei contratti dati sia per i nomi dei membri dati viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="cb499-110">Note that data contract names and namespaces, as well as data member names, are case-sensitive.</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="cb499-111">spazi dei nomi e nomi di contratto dati, nonché i nomi dei membri dati, vedere [nomi di contratto dati](../../../../docs/framework/wcf/feature-details/data-contract-names.md).</span><span class="sxs-lookup"><span data-stu-id="cb499-111"> data contract names and namespaces, as well as data member names, see [Data Contract Names](../../../../docs/framework/wcf/feature-details/data-contract-names.md).</span></span>  
  
 <span data-ttu-id="cb499-112">Se sullo stesso lato (mittente o ricevitore) sono presenti due tipi e i contratti dati non sono equivalenti (ad esempio, hanno membri dati diversi), è necessario assegnare loro un nome e uno spazio dei nomi differenti.</span><span class="sxs-lookup"><span data-stu-id="cb499-112">If two types exist on the same side (sender or receiver) and their data contracts are not equivalent (for example, they have different data members), you should not give them the same name and namespace.</span></span> <span data-ttu-id="cb499-113">In caso contrario, è possibile che vengano generate eccezioni.</span><span class="sxs-lookup"><span data-stu-id="cb499-113">Doing so may cause exceptions to be thrown.</span></span>  
  
 <span data-ttu-id="cb499-114">I contratti dati per i tipi seguenti sono equivalenti:</span><span class="sxs-lookup"><span data-stu-id="cb499-114">The data contracts for the following types are equivalent:</span></span>  
  
 [!code-csharp[C_DataContractNames#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#5)]
 [!code-vb[C_DataContractNames#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#5)]  
  
## <a name="data-member-order-and-data-contract-equivalence"></a><span data-ttu-id="cb499-115">Ordine dei membri dati ed equivalenza dei contratti dati</span><span class="sxs-lookup"><span data-stu-id="cb499-115">Data Member Order and Data Contract equivalence</span></span>  
 <span data-ttu-id="cb499-116">L'utilizzo della proprietà <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> della classe <xref:System.Runtime.Serialization.DataMemberAttribute> può influire sull'equivalenza dei contratti dati.</span><span class="sxs-lookup"><span data-stu-id="cb499-116">Using the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> class may affect data contract equivalence.</span></span> <span data-ttu-id="cb499-117">Per essere equivalenti, i contratti dati devono avere membri disposti nello stesso ordine.</span><span class="sxs-lookup"><span data-stu-id="cb499-117">The data contracts must have members that appear in the same order to be equivalent.</span></span> <span data-ttu-id="cb499-118">L'ordine predefinito è quello alfabetico.</span><span class="sxs-lookup"><span data-stu-id="cb499-118">The default order is alphabetical.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="cb499-119">[Ordine dei membri dati](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span><span class="sxs-lookup"><span data-stu-id="cb499-119"> [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span></span>  
  
 <span data-ttu-id="cb499-120">Il codice seguente, ad esempio, comporta contratti dati equivalenti.</span><span class="sxs-lookup"><span data-stu-id="cb499-120">For example, the following code results in equivalent data contracts.</span></span>  
  
 [!code-csharp[C_DataContractNames#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#6)]
 [!code-vb[C_DataContractNames#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#6)]  
  
 <span data-ttu-id="cb499-121">Il codice seguente non comporta invece contratti dati equivalenti.</span><span class="sxs-lookup"><span data-stu-id="cb499-121">However, the following does not result in an equivalent data contract.</span></span>  
  
 [!code-csharp[C_DataContractNames#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#7)]
 [!code-vb[C_DataContractNames#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#7)]  
  
## <a name="inheritance-interfaces-and-data-contract-equivalence"></a><span data-ttu-id="cb499-122">Ereditarietà, interfacce ed equivalenza dei contratti dati</span><span class="sxs-lookup"><span data-stu-id="cb499-122">Inheritance, Interfaces, and Data Contract Equivalence</span></span>  
 <span data-ttu-id="cb499-123">Quando viene determinata l'equivalenza, un contratto dati che eredita da un altro contratto dati viene trattato come se fosse un contratto dati che include tutti i membri dati del tipo di base.</span><span class="sxs-lookup"><span data-stu-id="cb499-123">When determining equivalence, a data contract that inherits from another data contract is treated as if it is just one data contract that includes all of the data members from the base type.</span></span> <span data-ttu-id="cb499-124">Tenere presente che l'ordine dei membri dati deve corrispondere e che i membri del tipo di base precedono nell'ordine i membri del tipo derivato.</span><span class="sxs-lookup"><span data-stu-id="cb499-124">Keep in mind that the order of the data members must match and that base type members precede derived type members in the order.</span></span> <span data-ttu-id="cb499-125">Inoltre, se due membri dati hanno lo stesso valore di ordine, come nell'esempio di codice seguente, l'ordinamento di questi membri dati è alfabetico.</span><span class="sxs-lookup"><span data-stu-id="cb499-125">Furthermore, if, as in the following code example, two data members have the same order value, the ordering for those data members is alphabetical.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="cb499-126">[Ordine dei membri dati](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span><span class="sxs-lookup"><span data-stu-id="cb499-126"> [Data Member Order](../../../../docs/framework/wcf/feature-details/data-member-order.md).</span></span>  
  
 <span data-ttu-id="cb499-127">Nell'esempio seguente il contratto dati per il tipo `Employee` è equivalente al contratto dati per il tipo `Worker`.</span><span class="sxs-lookup"><span data-stu-id="cb499-127">In the following example, the data contract for type `Employee` is equivalent to the data contract for the type `Worker`.</span></span>  
  
 [!code-csharp[C_DataContractNames#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractnames/cs/source.cs#8)]
 [!code-vb[C_DataContractNames#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractnames/vb/source.vb#8)]  
  
 <span data-ttu-id="cb499-128">Quando vengono passati parametri e restituiti valori tra un client e un servizio, non è possibile inviare un contratto dati relativo a una classe di base se l'endpoint ricevente prevede un contratto dati relativo a una classe derivata.</span><span class="sxs-lookup"><span data-stu-id="cb499-128">When passing parameters and return values between a client and a service, a data contract from a base class cannot be sent when the receiving endpoint expects a data contract from a derived class.</span></span> <span data-ttu-id="cb499-129">Questo comportamento è conforme ai principi di base della programmazione orientata a oggetti.</span><span class="sxs-lookup"><span data-stu-id="cb499-129">This is in accordance with object-oriented programming tenets.</span></span> <span data-ttu-id="cb499-130">Nell'esempio precedente, un oggetto di tipo `Person` non può essere inviato quando un `Employee` è previsto.</span><span class="sxs-lookup"><span data-stu-id="cb499-130">In the previous example, an object of type `Person` cannot be sent when an `Employee` is expected.</span></span>  
  
 <span data-ttu-id="cb499-131">Un contratto dati relativo a una classe derivata può essere inviato quando è previsto un contratto dati relativo a una classe di base soltanto se l'endpoint ricevente "riconosce" il tipo derivato usando la classe <xref:System.Runtime.Serialization.KnownTypeAttribute>.</span><span class="sxs-lookup"><span data-stu-id="cb499-131">A data contract from a derived class can be sent when a data contract from a base class is expected, but only if the receiving endpoint "knows" of the derived type using the <xref:System.Runtime.Serialization.KnownTypeAttribute>.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="cb499-132">[Tipi conosciuti di contratto dati](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="cb499-132"> [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span> <span data-ttu-id="cb499-133">Nell'esempio precedente un oggetto di tipo `Employee` può essere inviato se è previsto un oggetto di tipo `Person`, ma solo se il codice del ricevitore usa la classe <xref:System.Runtime.Serialization.KnownTypeAttribute> per includerlo nell'elenco dei tipi noti.</span><span class="sxs-lookup"><span data-stu-id="cb499-133">In the previous example, an object of type `Employee` can be sent when a `Person` is expected, but only if the receiver code employs the <xref:System.Runtime.Serialization.KnownTypeAttribute> to include it in the list of known types.</span></span>  
  
 <span data-ttu-id="cb499-134">Quando vengono passati parametri e restituiti valori tra applicazioni, se il tipo previsto è un'interfaccia è come se fosse di tipo <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="cb499-134">When passing parameters and return values between applications, if the expected type is an interface, it is equivalent to the expected type being of type <xref:System.Object>.</span></span> <span data-ttu-id="cb499-135">Poiché ogni tipo deriva in fondo da <xref:System.Object>, ogni contratto dati deriva in ultima istanza dal contratto dati relativo a <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="cb499-135">Because every type ultimately derives from <xref:System.Object>, every data contract ultimately derives from the data contract for <xref:System.Object>.</span></span> <span data-ttu-id="cb499-136">Quando è prevista un'interfaccia è pertanto possibile passare qualsiasi tipo di contratto dati.</span><span class="sxs-lookup"><span data-stu-id="cb499-136">Thus, any data contract type can be passed when an interface is expected.</span></span> <span data-ttu-id="cb499-137">Sono necessari ulteriori passaggi per funzionare correttamente con interfacce; Per ulteriori informazioni, vedere [tipi conosciuti di contratto dati](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span><span class="sxs-lookup"><span data-stu-id="cb499-137">Additional steps are required to successfully work with interfaces; for more information, see [Data Contract Known Types](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cb499-138">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="cb499-138">See Also</span></span>  
 <xref:System.Runtime.Serialization.DataContractAttribute>  
 <xref:System.Runtime.Serialization.DataMemberAttribute>  
 [<span data-ttu-id="cb499-139">Ordine dei membri dati</span><span class="sxs-lookup"><span data-stu-id="cb499-139">Data Member Order</span></span>](../../../../docs/framework/wcf/feature-details/data-member-order.md)  
 [<span data-ttu-id="cb499-140">Tipi noti di contratto di dati</span><span class="sxs-lookup"><span data-stu-id="cb499-140">Data Contract Known Types</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-known-types.md)  
 [<span data-ttu-id="cb499-141">Nomi di contratto di dati</span><span class="sxs-lookup"><span data-stu-id="cb499-141">Data Contract Names</span></span>](../../../../docs/framework/wcf/feature-details/data-contract-names.md)
