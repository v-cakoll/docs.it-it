---
title: Configurazione del supporto transazioni WS-Atomic
ms.date: 03/30/2017
helpviewer_keywords:
- WS-AT protocol [WCF], configuring WS-Atomic Transaction
ms.assetid: cb9f1c9c-1439-4172-b9bc-b01c3e09ac48
ms.openlocfilehash: 6399d64746db158ba0569eaf0137127603973513
ms.sourcegitcommit: cdf5084648bf5e77970cbfeaa23f1cab3e6e234e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/01/2020
ms.locfileid: "76919338"
---
# <a name="configure-ws-atomic-transaction-support"></a><span data-ttu-id="75ea3-102">Configura supporto transazioni WS-Atomic</span><span class="sxs-lookup"><span data-stu-id="75ea3-102">Configure WS-Atomic Transaction support</span></span>

<span data-ttu-id="75ea3-103">In questo argomento viene descritto come è possibile configurare il supporto WS-AtomicTransaction (WS-AT) usando l'utilità configurazione WS-AT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-103">This topic describes how you can configure WS-AtomicTransaction (WS-AT) support by using the WS-AT Configuration Utility.</span></span>

## <a name="use-the-ws-at-configuration-utility"></a><span data-ttu-id="75ea3-104">Utilizzare l'utilità di configurazione WS-AT</span><span class="sxs-lookup"><span data-stu-id="75ea3-104">Use the WS-AT configuration utility</span></span>

<span data-ttu-id="75ea3-105">L'utilità configurazione WS-AT (wsatConfig.exe) viene usata per configurare impostazioni WS-AT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-105">The WS-AT Configuration Utility (wsatConfig.exe) is used to configure WS-AT settings.</span></span> <span data-ttu-id="75ea3-106">Per abilitare il servizio del protocollo WS-AT è necessario usare l'utilità configurazione per configurare la porta HTTPS per WS-AT, associare un certificato X.509 alla porta HTTPS e configurare certificati partner autorizzati specificando nomi del soggetto o identificazioni personali dei certificati.</span><span class="sxs-lookup"><span data-stu-id="75ea3-106">In order to enable the WS-AT protocol service, you must use the configuration utility to configure the HTTPS port for WS-AT, bind an X.509 certificate to the HTTPS port, and configure authorized partner certificates by specifying certificate subject names or thumbprints.</span></span> <span data-ttu-id="75ea3-107">L'utilità configurazione consente inoltre di selezionare la modalità di traccia e impostare i timeout predefiniti per le transazioni in ingresso e in uscita.</span><span class="sxs-lookup"><span data-stu-id="75ea3-107">The configuration utility also allows you to select the tracing mode and set default outgoing and maximum incoming transaction timeouts.</span></span>

<span data-ttu-id="75ea3-108">È possibile accedere alla funzionalità di questo strumento usando uno snap-in di pagina delle proprietà MMC (Microsoft Management Console) nella console di gestione Servizi componenti o da una finestra della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="75ea3-108">You can access this tool's functionality by using a Microsoft Management Console (MMC) property page snap-in in the Component Services management console, or from a command-line window.</span></span> <span data-ttu-id="75ea3-109">Configurare il supporto WS-AT sul computer locale tramite la finestra della riga di comando; configurare le impostazioni sul computer locale e su quello remoto usando lo snap-in MMC.</span><span class="sxs-lookup"><span data-stu-id="75ea3-109">Configure WS-AT support on the local machine through the command-line window; configure settings on both local and remote machines by using the MMC snap-in.</span></span>

<span data-ttu-id="75ea3-110">La finestra della riga di comando può essere aperta nel percorso di installazione di Windows SDK "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation".</span><span class="sxs-lookup"><span data-stu-id="75ea3-110">The command-line window can be accessed in the Windows SDK installation location "%WINDIR%\Microsoft.NET\Framework\v3.0\Windows Communication Foundation".</span></span>

<span data-ttu-id="75ea3-111">Per ulteriori informazioni sullo strumento da riga di comando, vedere l' [utilità di configurazione WS-AtomicTransaction (wsatConfig. exe)](../../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span><span class="sxs-lookup"><span data-stu-id="75ea3-111">For more information about the command-line tool, see [WS-AtomicTransaction Configuration Utility (wsatConfig.exe)](../../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md).</span></span>

<span data-ttu-id="75ea3-112">Se si esegue Windows XP o Windows Server 2003, è possibile accedere allo snap-in MMC passando a **Pannello di controllo/strumenti di amministrazione/Servizi componenti**, facendo clic con il pulsante destro del mouse su **computer locale**e scegliendo **proprietà**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-112">If you are running Windows XP or Windows Server 2003, you can access the MMC snap-in by navigating to **Control Panel/Administrative Tools/Component Services**, right-clicking **My Computer**, and selecting **Properties**.</span></span> <span data-ttu-id="75ea3-113">Si tratta dello stesso percorso in cui è possibile configurare Microsoft Distributed Transaction Coordinator (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="75ea3-113">This is the same location where you can configure the Microsoft Distributed Transaction Coordinator (MSDTC).</span></span> <span data-ttu-id="75ea3-114">Le opzioni disponibili per la configurazione sono raggruppate nella scheda **WS-at** . Se si esegue Windows Vista o Windows Server 2008, è possibile trovare lo snap-in MMC facendo clic sul pulsante **Avvia** e immettendo `dcomcnfg.exe` nella casella di **ricerca** .</span><span class="sxs-lookup"><span data-stu-id="75ea3-114">Options available for configuration are grouped under the **WS-AT** tab. If you are running Windows Vista or Windows Server 2008, the MMC snap-in can be found by clicking the **Start** button, and entering `dcomcnfg.exe` in the **Search** box.</span></span> <span data-ttu-id="75ea3-115">Quando si apre MMC, passare al nodo **Computer\Distributed Transaction COORDINATOR\LOCAL DTC** , fare clic con il pulsante destro del mouse e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-115">When the MMC is opened, navigate to the **My Computer\Distributed Transaction Coordinator\Local DTC** node, right click and select **Properties**.</span></span> <span data-ttu-id="75ea3-116">Le opzioni disponibili per la configurazione sono raggruppate nella scheda **WS-at** .</span><span class="sxs-lookup"><span data-stu-id="75ea3-116">Options available for configuration are grouped under the **WS-AT** tab.</span></span>

<span data-ttu-id="75ea3-117">Per ulteriori informazioni sullo snap-in, vedere lo [snap-in MMC configurazione WS-AtomicTransaction](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md).</span><span class="sxs-lookup"><span data-stu-id="75ea3-117">For more information about the snap-in, see the [WS-AtomicTransaction Configuration MMC Snap-in](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md).</span></span>

<span data-ttu-id="75ea3-118">Per abilitare l'interfaccia utente dello strumento è prima necessario registrare il file WsatUI.dll, disponibile nel percorso seguente:</span><span class="sxs-lookup"><span data-stu-id="75ea3-118">To enable the tool's user interface, you must first register the WsatUI.dll file, located at the following path</span></span>

<span data-ttu-id="75ea3-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span><span class="sxs-lookup"><span data-stu-id="75ea3-119">%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin</span></span>

<span data-ttu-id="75ea3-120">Per registrare il prodotto, eseguire il comando seguente da una finestra del prompt dei comandi:</span><span class="sxs-lookup"><span data-stu-id="75ea3-120">To register the product, execute the following command from a Command Prompt window:</span></span>

`regasm.exe /codebase WsatUI.dll`

## <a name="enable-ws-at"></a><span data-ttu-id="75ea3-121">Abilita WS-AT</span><span class="sxs-lookup"><span data-stu-id="75ea3-121">Enable WS-AT</span></span>

<span data-ttu-id="75ea3-122">Per abilitare il servizio del protocollo WS-AT in MSDTC usando la porta 443 e un certificato X.509 con una chiave privata installata nell'archivio del computer locale, usare lo strumento wsatConfig.exe con il comando seguente.</span><span class="sxs-lookup"><span data-stu-id="75ea3-122">To enable the WS-AT protocol service inside MSDTC using port 443 and an X.509 certificate with a private key that has been installed in the local machine store, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:enable –port:8443 –endpointCert:<machine|"Issuer\SubjectName"> -accountsCerts:<thumbprint|"Issuer\SubjectName"> -restart`

<span data-ttu-id="75ea3-123">Sostituire i rispettivi parametri con i valori pertinenti per l'ambiente.</span><span class="sxs-lookup"><span data-stu-id="75ea3-123">Substitute the respective parameters with values relevant to your environment.</span></span>

<span data-ttu-id="75ea3-124">Per disabilitare il servizio del protocollo WS-AT in MSDTC, usare lo strumento wsatConfig.exe con il comando seguente.</span><span class="sxs-lookup"><span data-stu-id="75ea3-124">To disable the WS-AT protocol service inside MSDTC, use the wsatConfig.exe tool with the following command.</span></span>

`WsatConfig.exe –network:disable -restart`

## <a name="configure-trust-between-two-machines"></a><span data-ttu-id="75ea3-125">Configurare il trust tra due computer</span><span class="sxs-lookup"><span data-stu-id="75ea3-125">Configure trust between two machines</span></span>

<span data-ttu-id="75ea3-126">Il servizio del protocollo WS-AT richiede che l'amministratore autorizzi in modo esplicito singoli account a partecipare alle transazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="75ea3-126">The WS-AT protocol service requires the administrator to explicitly authorize individual accounts to participate in distributed transactions.</span></span> <span data-ttu-id="75ea3-127">Gli amministratori di due computer possono configurare entrambi i computer, per stabilire una reciproca relazione di trust, scambiando il corretto set di certificati tra i computer, installando i certificati negli archivi certificati appropriati e usando lo strumento wsatConfig.exe per aggiungere ogni certificato di un computer all'elenco di certificati dei partecipanti autorizzati dell'altro.</span><span class="sxs-lookup"><span data-stu-id="75ea3-127">If you are an administrator for two machines, you can configure both machines to establish a mutual trust relationship by exchanging the right set of certificates between the machines, installing them into the appropriate certificate stores, and using the wsatConfig.exe tool to add each machine's certificate to the other's list of authorized participant certificates.</span></span> <span data-ttu-id="75ea3-128">Questo passaggio è necessario per eseguire transazioni distribuite tra due computer usando WS-AT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-128">This step is necessary to perform distributed transactions between two machines using WS-AT.</span></span>

<span data-ttu-id="75ea3-129">Nell'esempio seguente vengono illustrati i passaggi necessari per stabilire il trust tra due computer, A e B.</span><span class="sxs-lookup"><span data-stu-id="75ea3-129">In the following example outlines the steps to establish trust between two machines, A and B.</span></span>

### <a name="create-and-export-certificates"></a><span data-ttu-id="75ea3-130">Creazione ed esportazione di certificati</span><span class="sxs-lookup"><span data-stu-id="75ea3-130">Create and export certificates</span></span>

<span data-ttu-id="75ea3-131">Questa procedura richiede lo snap-in MMC Certificati.</span><span class="sxs-lookup"><span data-stu-id="75ea3-131">This procedure requires the MMC Certificates snap-in.</span></span> <span data-ttu-id="75ea3-132">Per accedere allo snap-in è possibile fare clic sul pulsante Start, scegliere Esegui, digitare "mmc" nella casella di input e fare clic su OK.</span><span class="sxs-lookup"><span data-stu-id="75ea3-132">The snap-in can be accessed by opening the Start/Run menu, typing "mmc" in the input box and pressing OK.</span></span> <span data-ttu-id="75ea3-133">Quindi, nella finestra **Console1** passare allo snap-in **file/Aggiungi-Rimuovi** , fare clic su Aggiungi e scegliere **certificati** dall'elenco **snap-in autonomo disponibili** .</span><span class="sxs-lookup"><span data-stu-id="75ea3-133">Then, in the **Console1** window, navigate to **the File/Add-Remove** Snap-in, click Add, and choose **Certificates** from the **Available Standalone Snapins** list.</span></span> <span data-ttu-id="75ea3-134">Infine, selezionare **account computer** da gestire e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-134">Finally, select **Computer Account** to manage and click **OK**.</span></span> <span data-ttu-id="75ea3-135">Il nodo **certificati** verrà visualizzato nella console snap-in.</span><span class="sxs-lookup"><span data-stu-id="75ea3-135">The **Certificates** node appears in the snap-in console.</span></span>

<span data-ttu-id="75ea3-136">È necessario già essere in possesso dei certificati necessari per stabilire il trust.</span><span class="sxs-lookup"><span data-stu-id="75ea3-136">You must already possess the required certificates to establish trust.</span></span> <span data-ttu-id="75ea3-137">Per informazioni su come creare e installare nuovi certificati prima dei passaggi seguenti, vedere [procedura: creare e installare certificati client temporanei in WCF durante lo sviluppo](https://docs.microsoft.com/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span><span class="sxs-lookup"><span data-stu-id="75ea3-137">To learn how to create and install new certificates prior to the following steps, see [How to: Create and Install Temporary Client Certificates in WCF During Development](https://docs.microsoft.com/previous-versions/msp-n-p/ff650751(v=pandp.10)).</span></span>

1. <span data-ttu-id="75ea3-138">Sul computer A, usando lo snap-in MMC Certificati, importare il certificato esistente (certA) negli archivi LocalMachine\MY (nodo personale) e LocalMachine\ROOT (nodo Autorità di certificazione radice attendibile).</span><span class="sxs-lookup"><span data-stu-id="75ea3-138">On machine A, using the MMC Certificates snap-in, import the existing certificate (certA) into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span> <span data-ttu-id="75ea3-139">Per importare un certificato in un nodo specifico, fare clic con il pulsante destro del mouse sul nodo e scegliere **tutte le attività/Importa**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-139">To import a certificate to a specific node, right-click the node and choose **All Tasks/Import**.</span></span>

2. <span data-ttu-id="75ea3-140">Sul computer B, usando lo snap-in MMC Certificati, creare o ottenere un certificato certB con una chiave privata e importarlo negli archivi LocalMachine\MY (nodo personale) e LocalMachine\ROOT (nodo Autorità di certificazione radice attendibile).</span><span class="sxs-lookup"><span data-stu-id="75ea3-140">On machine B, using the MMC Certificates snap-in, create or obtain a certificate certB with a private key and import it into the LocalMachine\MY (Personal Node) and LocalMachine\ROOT store (trusted root certification authority node).</span></span>

3. <span data-ttu-id="75ea3-141">Se non lo si è già fatto, esportare la chiave pubblica di certA in un file.</span><span class="sxs-lookup"><span data-stu-id="75ea3-141">Export certA's public key to a file if this has not been done already.</span></span>

4. <span data-ttu-id="75ea3-142">Se non lo si è già fatto, esportare la chiave pubblica di certB in un file.</span><span class="sxs-lookup"><span data-stu-id="75ea3-142">Export certB's public key to a file if this has not been done already.</span></span>

### <a name="establish-mutual-trust-between-machines"></a><span data-ttu-id="75ea3-143">Stabilire una relazione di trust reciproca tra i computer</span><span class="sxs-lookup"><span data-stu-id="75ea3-143">Establish mutual trust between machines</span></span>

1. <span data-ttu-id="75ea3-144">Sul computer A, importare la rappresentazione del file di certB negli archivi LocalMachine\MY e LocalMachine\ROOT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-144">On machine A, import the file representation of certB into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="75ea3-145">Si dichiara così che il computer A concede il trust a certB per consentire la comunicazione.</span><span class="sxs-lookup"><span data-stu-id="75ea3-145">This declares that machine A trusts certB to communicate with it.</span></span>

2. <span data-ttu-id="75ea3-146">Sul computer B, importare il file di certA negli archivi LocalMachine\MY e LocalMachine\ROOT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-146">On machine B, import certA’s file into the LocalMachine\MY and LocalMachine\ROOT stores.</span></span> <span data-ttu-id="75ea3-147">Questo implica che il computer B concede il trust a certA per consentire la comunicazione.</span><span class="sxs-lookup"><span data-stu-id="75ea3-147">This implies that machine B trusts certA to communicate with it.</span></span>

<span data-ttu-id="75ea3-148">Dopo avere completato questi passaggi, viene stabilito il trust tra i due computer, che possono quindi essere configurati per la comunicazione reciproca mediante WS-AT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-148">After completing these steps, trust is established between the two machines, and they can be configured to communicate with each other using WS-AT.</span></span>

### <a name="configure-msdtc-to-use-certificates"></a><span data-ttu-id="75ea3-149">Configurare MSDTC per l'uso di certificati</span><span class="sxs-lookup"><span data-stu-id="75ea3-149">Configure MSDTC to use certificates</span></span>

<span data-ttu-id="75ea3-150">Poiché il servizio del protocollo WS-AT funge da client e da server, deve sia ascoltare le connessioni in ingresso sia avviare connessioni in uscita.</span><span class="sxs-lookup"><span data-stu-id="75ea3-150">Since the WS-AT protocol service acts as both a client and a server, it must both listen for incoming connections and initiate outgoing connections.</span></span> <span data-ttu-id="75ea3-151">È quindi necessario configurare MSDTC in modo che sappia quali certificati usare per la comunicazione con parti esterne e quali certificati autorizzare quando si accettano comunicazioni in ingresso.</span><span class="sxs-lookup"><span data-stu-id="75ea3-151">Therefore, you need to configure MSDTC so that it knows which certificate to use when communicating with external parties, and which certificates to authorize when accepting incoming communication.</span></span>

<span data-ttu-id="75ea3-152">Per eseguire questa configurazione è possibile usare lo snap-in MMC WS-AT.</span><span class="sxs-lookup"><span data-stu-id="75ea3-152">You can configure this by using the MMC WS-AT snap-in.</span></span> <span data-ttu-id="75ea3-153">Per ulteriori informazioni su questo strumento, vedere l'argomento relativo allo [snap-in MMC per la configurazione di WS-AtomicTransaction](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md) .</span><span class="sxs-lookup"><span data-stu-id="75ea3-153">For more information about this tool, see the [WS-AtomicTransaction Configuration MMC Snap-in](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md) topic.</span></span> <span data-ttu-id="75ea3-154">Nei passaggi seguenti viene descritto come stabilire un trust tra due computer che eseguono MSDTC.</span><span class="sxs-lookup"><span data-stu-id="75ea3-154">The following steps describe how to establish trust between two computers running MSDTC.</span></span>

1. <span data-ttu-id="75ea3-155">Configurare le impostazioni del computer A.</span><span class="sxs-lookup"><span data-stu-id="75ea3-155">Configure machine A's settings.</span></span> <span data-ttu-id="75ea3-156">Per "certificato dell'endpoint" selezionare certa.</span><span class="sxs-lookup"><span data-stu-id="75ea3-156">For "Endpoint Certificate", select certA.</span></span> <span data-ttu-id="75ea3-157">Per "certificati autorizzati" selezionare il certB.</span><span class="sxs-lookup"><span data-stu-id="75ea3-157">For "Authorized Certificates", select the certB.</span></span>

2. <span data-ttu-id="75ea3-158">Configurare le impostazioni del computer B.</span><span class="sxs-lookup"><span data-stu-id="75ea3-158">Configure machine B's settings.</span></span> <span data-ttu-id="75ea3-159">Per "certificato dell'endpoint" selezionare certB.</span><span class="sxs-lookup"><span data-stu-id="75ea3-159">For "Endpoint Certificate", select certB.</span></span> <span data-ttu-id="75ea3-160">Per "certificati autorizzati" selezionare il certificato.</span><span class="sxs-lookup"><span data-stu-id="75ea3-160">For "Authorized Certificates", select the certA.</span></span>

> [!NOTE]
> <span data-ttu-id="75ea3-161">Quando un computer invia un messaggio all'altro computer, il mittente tenta di verificare che il nome del soggetto del certificato del destinatario e il nome del computer del destinatario corrispondano.</span><span class="sxs-lookup"><span data-stu-id="75ea3-161">When one machine sends a message to the other machine, the sender attempts to verify that the subject name of the recipient’s certificate and the name of the recipient’s machine match.</span></span> <span data-ttu-id="75ea3-162">Se non corrispondono, la verifica del certificato ha esito negativo e i due computer non possono comunicare.</span><span class="sxs-lookup"><span data-stu-id="75ea3-162">If they do not match, certificate verification fails and the two machines cannot communicate.</span></span>
>
> <span data-ttu-id="75ea3-163">Per un computer associato a un dominio, il nome corrisponde al nome di dominio completo.</span><span class="sxs-lookup"><span data-stu-id="75ea3-163">For a machine joined to a domain, the name is the fully qualified domain name.</span></span> <span data-ttu-id="75ea3-164">Per impostazione predefinita, il nome di un computer in un gruppo di lavoro corrisponde al nome NetBIOS del computer.</span><span class="sxs-lookup"><span data-stu-id="75ea3-164">By default, the name of a machine on a workgroup is the machine’s NetBIOS name.</span></span> <span data-ttu-id="75ea3-165">Tuttavia, il nome può includere un suffisso DNS (Domain Name System), se ne è presente uno per la connessione usata tra i due computer.</span><span class="sxs-lookup"><span data-stu-id="75ea3-165">However, the name can also include a Domain Name System (DNS) suffix if one is present for the connection being used between the two machines.</span></span>
>
> <span data-ttu-id="75ea3-166">Se il nome del computer cambia, come nel caso, ad esempio, di un computer di un gruppo di lavoro che viene associato a un dominio, è necessario rilasciare nuovamente i certificati o configurare manualmente suffissi DNS.</span><span class="sxs-lookup"><span data-stu-id="75ea3-166">If the name of the machine changes, for example, when a workgroup machine joins a domain, you must reissue certificates or manually configure DNS suffixes.</span></span>

## <a name="security"></a><span data-ttu-id="75ea3-167">Sicurezza -</span><span class="sxs-lookup"><span data-stu-id="75ea3-167">Security</span></span>

<span data-ttu-id="75ea3-168">Poiché alcune delle impostazioni relative a MSDTC e WS-AT vengono archiviate nel Registro di sistema, rispettivamente in HKLM\Software\Microsoft\MSDTC e HKLM\Software\Microsoft\WSAT, assicurarsi che queste chiavi del Registro di sistema siano protette, in modo che solo gli amministratori possano scrivere in esse.</span><span class="sxs-lookup"><span data-stu-id="75ea3-168">Since some of the settings related to MSDTC and WS-AT are stored in the registry at HKLM\Software\Microsoft\MSDTC and at HKLM\Software\Microsoft\WSAT, respectively, ensure that these registry keys are secured so that only administrators can write to them.</span></span> <span data-ttu-id="75ea3-169">Nello strumento Editor del registro di sistema, fare clic con il pulsante destro del mouse sulla chiave che si desidera proteggere e selezionare l' **autorizzazione** per impostare il controllo di accesso appropriato.</span><span class="sxs-lookup"><span data-stu-id="75ea3-169">In the Registry Editor tool, right-click the key you want to secure and select **Permission** to set the appropriate access control.</span></span> <span data-ttu-id="75ea3-170">È essenziale per la sicurezza e l'integrità del sistema che le chiavi importanti siano di sola lettura per gli utenti con privilegi di basso livello.</span><span class="sxs-lookup"><span data-stu-id="75ea3-170">It is crucial to the security and integrity of the system that important keys are read-only for low-privileged users.</span></span>

<span data-ttu-id="75ea3-171">Quando si distribuisce MSDTC, l'amministratore deve verificare che qualsiasi scambio di dati MSDTC sia protetto.</span><span class="sxs-lookup"><span data-stu-id="75ea3-171">When deploying MSDTC, the administrator must ensure that any MSDTC data interchange is secure.</span></span> <span data-ttu-id="75ea3-172">In una distribuzione in un gruppo di lavoro, isolare l'infrastruttura transazionale dagli utenti malintenzionati; in una distribuzione in cluster, proteggere il Registro di sistema del cluster.</span><span class="sxs-lookup"><span data-stu-id="75ea3-172">In a workgroup deployment, isolate the transactional infrastructure from malicious users; in a cluster deployment, secure the cluster registry.</span></span>

## <a name="tracing"></a><span data-ttu-id="75ea3-173">Traccia</span><span class="sxs-lookup"><span data-stu-id="75ea3-173">Tracing</span></span>

<span data-ttu-id="75ea3-174">Il servizio del protocollo WS-AT supporta la traccia integrata, specifica della transazione, che può essere abilitata e gestita mediante lo strumento di [snap-in MMC configurazione WS-AtomicTransaction](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md) .</span><span class="sxs-lookup"><span data-stu-id="75ea3-174">The WS-AT protocol service supports integrated, transaction-specific tracing that can be enabled and managed through the use of the [WS-AtomicTransaction Configuration MMC Snap-in](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md) tool.</span></span> <span data-ttu-id="75ea3-175">Le tracce possono includere dati che indicano l'ora di creazione di un'integrazione per una specifica transazione, l'ora in cui una transazione raggiunge lo stato finale e il risultato ricevuto da ogni integrazione di transazione.</span><span class="sxs-lookup"><span data-stu-id="75ea3-175">Traces can include data indicating the time an enlistment is made for a specific transaction, the time a transaction reaches its terminal state, the outcome each transaction enlistment has received.</span></span> <span data-ttu-id="75ea3-176">Tutte le tracce possono essere visualizzate tramite lo strumento [Visualizzatore di tracce dei servizi (SvcTraceViewer. exe)](../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md) .</span><span class="sxs-lookup"><span data-stu-id="75ea3-176">All traces can be viewed using the [Service Trace Viewer Tool (SvcTraceViewer.exe)](../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md) tool.</span></span>

<span data-ttu-id="75ea3-177">Il servizio del protocollo WS-AT supporta, inoltre, la traccia ServiceModel integrata tramite la sessione di traccia ETW.</span><span class="sxs-lookup"><span data-stu-id="75ea3-177">The WS-AT protocol service also supports integrated ServiceModel tracing through the ETW trace session.</span></span> <span data-ttu-id="75ea3-178">Questa funzione fornisce tracce specifiche della comunicazione più dettagliate, oltre alle tracce di transazioni esistenti.</span><span class="sxs-lookup"><span data-stu-id="75ea3-178">This provides more detailed, communication-specific traces in addition to the existing transaction traces.</span></span>  <span data-ttu-id="75ea3-179">Per attivare queste tracce aggiuntive, eseguire la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="75ea3-179">To enable these additional traces, follow these steps</span></span>

1. <span data-ttu-id="75ea3-180">Aprire il menu **Start/Esegui** , digitare "regedit" nella casella di input e fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-180">Open the **Start/Run** menu, type "regedit" in the input box and select **OK**.</span></span>

2. <span data-ttu-id="75ea3-181">Nell' **Editor del registro di sistema**passare alla seguente cartella nel riquadro a sinistra, HKEY_LOCAL_MACHINE \software\microsoft\wsat\3.0</span><span class="sxs-lookup"><span data-stu-id="75ea3-181">In the **Registry Editor**, navigate to the following folder on the left pane, Hkey_Local_Machine\SOFTWARE\Microsoft\WSAT\3.0</span></span>\

3. <span data-ttu-id="75ea3-182">Fare clic con il pulsante destro del mouse sul valore `ServiceModelDiagnosticTracing` nel riquadro di destra e scegliere **modifica**.</span><span class="sxs-lookup"><span data-stu-id="75ea3-182">Right-click the `ServiceModelDiagnosticTracing` value in the right pane and select **Modify**.</span></span>

4. <span data-ttu-id="75ea3-183">Nella casella input **dati valore** immettere uno dei valori validi seguenti per specificare il livello di traccia che si desidera abilitare.</span><span class="sxs-lookup"><span data-stu-id="75ea3-183">In the **Value data** input box, enter one of the following valid values to specify the trace level you want to enable.</span></span>

- <span data-ttu-id="75ea3-184">0: disattivato</span><span class="sxs-lookup"><span data-stu-id="75ea3-184">0: off</span></span>

- <span data-ttu-id="75ea3-185">1: critico</span><span class="sxs-lookup"><span data-stu-id="75ea3-185">1: critical</span></span>

- <span data-ttu-id="75ea3-186">3: errore.</span><span class="sxs-lookup"><span data-stu-id="75ea3-186">3: error.</span></span> <span data-ttu-id="75ea3-187">Questa opzione rappresenta il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="75ea3-187">This is the default value</span></span>

- <span data-ttu-id="75ea3-188">7: avviso</span><span class="sxs-lookup"><span data-stu-id="75ea3-188">7: warning</span></span>

- <span data-ttu-id="75ea3-189">15: informazioni</span><span class="sxs-lookup"><span data-stu-id="75ea3-189">15: information</span></span>

- <span data-ttu-id="75ea3-190">31: dettagliato</span><span class="sxs-lookup"><span data-stu-id="75ea3-190">31: verbose</span></span>

## <a name="see-also"></a><span data-ttu-id="75ea3-191">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="75ea3-191">See also</span></span>

- [<span data-ttu-id="75ea3-192">Utilità di configurazione WS-AtomicTransaction (wsatConfig.exe)</span><span class="sxs-lookup"><span data-stu-id="75ea3-192">WS-AtomicTransaction Configuration Utility (wsatConfig.exe)</span></span>](../../../../docs/framework/wcf/ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
- [<span data-ttu-id="75ea3-193">Snap-in di MMC di configurazione WS-AtomicTransaction</span><span class="sxs-lookup"><span data-stu-id="75ea3-193">WS-AtomicTransaction Configuration MMC Snap-in</span></span>](../../../../docs/framework/wcf/ws-atomictransaction-configuration-mmc-snap-in.md)
