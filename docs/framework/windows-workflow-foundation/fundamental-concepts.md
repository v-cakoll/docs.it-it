---
title: Concetti di base del flusso di lavoro di Windows
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 0e930e80-5060-45d2-8a7a-95c0690105d4
caps.latest.revision: "27"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: fca570f661b1867737cc3af295aff5fd8d4cd5ec
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/22/2017
---
# <a name="fundamental-windows-workflow-concepts"></a><span data-ttu-id="8085f-102">Concetti di base del flusso di lavoro di Windows</span><span class="sxs-lookup"><span data-stu-id="8085f-102">Fundamental Windows Workflow Concepts</span></span>
<span data-ttu-id="8085f-103">Nello sviluppo del flusso di lavoro in [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] vengono usati concetti che potrebbero essere nuovi per alcuni sviluppatori.</span><span class="sxs-lookup"><span data-stu-id="8085f-103">Workflow development in the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] uses concepts that may be new to some developers.</span></span> <span data-ttu-id="8085f-104">In questo argomento vengono descritti alcuni dei concetti e la relativa implementazione.</span><span class="sxs-lookup"><span data-stu-id="8085f-104">This topic describes some of the concepts and how they are implemented.</span></span>  
  
## <a name="workflows-and-activities"></a><span data-ttu-id="8085f-105">Flussi di lavoro e attività</span><span class="sxs-lookup"><span data-stu-id="8085f-105">Workflows and Activities</span></span>  
 <span data-ttu-id="8085f-106">Un flusso di lavoro è una raccolta strutturata di azioni che modella un processo.</span><span class="sxs-lookup"><span data-stu-id="8085f-106">A workflow is a structured collection of actions that models a process.</span></span> <span data-ttu-id="8085f-107">Ogni azione del flusso di lavoro viene modellata come un'attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-107">Each action in the workflow is modeled as an activity.</span></span> <span data-ttu-id="8085f-108">Un host interagisce con un flusso di lavoro usando l'oggetto <xref:System.Activities.WorkflowInvoker> per richiamare un flusso di lavoro come se si trattasse di un metodo, l'oggetto <xref:System.Activities.WorkflowApplication> per controllare in modo esplicito l'esecuzione di una singola istanza del flusso di lavoro e l'oggetto <xref:System.ServiceModel.WorkflowServiceHost> per le interazioni basate su messaggi negli scenari a istanza multipla.</span><span class="sxs-lookup"><span data-stu-id="8085f-108">A host interacts with a workflow by using <xref:System.Activities.WorkflowInvoker> for invoking a workflow as if it were a method,  <xref:System.Activities.WorkflowApplication> for explicit control over the execution of a single workflow instance, and <xref:System.ServiceModel.WorkflowServiceHost> for message-based interactions in multi-instance scenarios.</span></span> <span data-ttu-id="8085f-109">Poiché i passaggi del flusso di lavoro sono definiti come una gerarchia di attività, si può affermare che l'attività in primo piano nella gerarchia definisce il flusso di lavoro stesso.</span><span class="sxs-lookup"><span data-stu-id="8085f-109">Because steps of the workflow are defined as a hierarchy of activities, the topmost activity in the hierarchy can be said to define the workflow itself.</span></span> <span data-ttu-id="8085f-110">Questo modello di gerarchia sostituisce le classi `SequentialWorkflow` e `StateMachineWorkflow` esplicite delle versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="8085f-110">This hierarchy model takes the place of the explicit `SequentialWorkflow` and `StateMachineWorkflow` classes from previous versions.</span></span> <span data-ttu-id="8085f-111">Le attività stesse vengono sviluppate come raccolte di altre attività (usando la classe <xref:System.Activities.Activity> come base che generalmente viene definita tramite XAML) oppure personalizzate tramite la classe <xref:System.Activities.CodeActivity> che può usare il runtime per accedere ai dati oppure la classe <xref:System.Activities.NativeActivity> che espone la varietà del runtime del flusso di lavoro all'autore di attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-111">Activities themselves are developed as collections of other activities (using the <xref:System.Activities.Activity> class as a base, usually defined by using XAML) or are custom created by using the <xref:System.Activities.CodeActivity> class, which can use the runtime for data access, or by using the <xref:System.Activities.NativeActivity> class, which exposes the breadth of the workflow runtime to the activity author.</span></span> <span data-ttu-id="8085f-112">Le attività sviluppate usando <xref:System.Activities.CodeActivity> e <xref:System.Activities.NativeActivity> vengono create tramite linguaggi conformi a CLR, ad esempio C#.</span><span class="sxs-lookup"><span data-stu-id="8085f-112">Activities developed by using <xref:System.Activities.CodeActivity> and <xref:System.Activities.NativeActivity> are created by using CLR-compliant languages such as C#.</span></span>  
  
## <a name="activity-data-model"></a><span data-ttu-id="8085f-113">Modello di dati delle attività</span><span class="sxs-lookup"><span data-stu-id="8085f-113">Activity Data Model</span></span>  
 <span data-ttu-id="8085f-114">Le attività archiviano e condividono i dati usando i tipi mostrati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="8085f-114">Activities store and share data by using the types shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="8085f-115">Variabile</span><span class="sxs-lookup"><span data-stu-id="8085f-115">Variable</span></span>|<span data-ttu-id="8085f-116">Archivia i dati in un'attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-116">Stores data in an activity.</span></span>|  
|<span data-ttu-id="8085f-117">Argomento</span><span class="sxs-lookup"><span data-stu-id="8085f-117">Argument</span></span>|<span data-ttu-id="8085f-118">Sposta i dati all'interno e all'esterno di un'attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-118">Moves data into and out of an activity.</span></span>|  
|<span data-ttu-id="8085f-119">Expression</span><span class="sxs-lookup"><span data-stu-id="8085f-119">Expression</span></span>|<span data-ttu-id="8085f-120">Attività con un valore restituito elevato usato nelle associazioni degli argomenti.</span><span class="sxs-lookup"><span data-stu-id="8085f-120">An activity with an elevated return value used in argument bindings.</span></span>|  
  
## <a name="workflow-runtime"></a><span data-ttu-id="8085f-121">Fase di esecuzione flusso di lavoro</span><span class="sxs-lookup"><span data-stu-id="8085f-121">Workflow Runtime</span></span>  
 <span data-ttu-id="8085f-122">Il runtime del flusso di lavoro è un ambiente in cui vengono eseguiti i flussi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-122">The workflow runtime is the environment in which workflows execute.</span></span> <span data-ttu-id="8085f-123"><xref:System.Activities.WorkflowInvoker> è la modalità di base per eseguire un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-123"><xref:System.Activities.WorkflowInvoker> is the simplest way to execute a workflow.</span></span> <span data-ttu-id="8085f-124">L'host usa l'oggetto <xref:System.Activities.WorkflowInvoker> per eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="8085f-124">The host uses <xref:System.Activities.WorkflowInvoker> for the following:</span></span>  
  
-   <span data-ttu-id="8085f-125">Per richiamare in modo sincrono un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-125">To synchronously invoke a workflow.</span></span>  
  
-   <span data-ttu-id="8085f-126">Per fornire input o recuperare output da un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-126">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="8085f-127">Per aggiungere estensioni che devono essere usate dalle attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-127">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="8085f-128">L'oggetto <xref:System.Activities.ActivityInstance> è il proxy thread-safe che gli host possono usare per interagire con il runtime.</span><span class="sxs-lookup"><span data-stu-id="8085f-128"><xref:System.Activities.ActivityInstance> is the thread-safe proxy that hosts can use to interact with the runtime.</span></span> <span data-ttu-id="8085f-129">L'host usa l'oggetto <xref:System.Activities.ActivityInstance> per eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="8085f-129">The host uses <xref:System.Activities.ActivityInstance> for the following:</span></span>  
  
-   <span data-ttu-id="8085f-130">Per acquisire un'istanza creandola o caricandola da un archivio di istanze.</span><span class="sxs-lookup"><span data-stu-id="8085f-130">To acquire an instance by creating it or loading it from an instance store.</span></span>  
  
-   <span data-ttu-id="8085f-131">Per ricevere una notifica sugli eventi del ciclo di vita delle istanze.</span><span class="sxs-lookup"><span data-stu-id="8085f-131">To be notified of instance life-cycle events.</span></span>  
  
-   <span data-ttu-id="8085f-132">Per controllare l'esecuzione del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-132">To control workflow execution.</span></span>  
  
-   <span data-ttu-id="8085f-133">Per fornire input o recuperare output da un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-133">To provide input to, or retrieve output from a workflow.</span></span>  
  
-   <span data-ttu-id="8085f-134">Per segnalare la continuazione di un flusso di lavoro e passare i valori a tale flusso.</span><span class="sxs-lookup"><span data-stu-id="8085f-134">To signal a workflow continuation and pass values into the workflow.</span></span>  
  
-   <span data-ttu-id="8085f-135">Per rendere persistenti i dati del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-135">To persist workflow data.</span></span>  
  
-   <span data-ttu-id="8085f-136">Per aggiungere estensioni che devono essere usate dalle attività.</span><span class="sxs-lookup"><span data-stu-id="8085f-136">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="8085f-137">Le attività accedono all'ambiente di runtime del flusso di lavoro tramite la classe derivata <xref:System.Activities.ActivityContext> appropriata, quale <xref:System.Activities.NativeActivityContext> o <xref:System.Activities.CodeActivityContext>.</span><span class="sxs-lookup"><span data-stu-id="8085f-137">Activities gain access to the workflow runtime environment by using the appropriate <xref:System.Activities.ActivityContext> derived class, such as <xref:System.Activities.NativeActivityContext> or <xref:System.Activities.CodeActivityContext>.</span></span> <span data-ttu-id="8085f-138">In questo modo possono risolvere argomenti e variabili, pianificare le attività figlio ed eseguire molte altre operazioni.</span><span class="sxs-lookup"><span data-stu-id="8085f-138">They use this for resolving arguments and variables, for scheduling child activities, and for many other purposes.</span></span>  
  
## <a name="services"></a><span data-ttu-id="8085f-139">Services</span><span class="sxs-lookup"><span data-stu-id="8085f-139">Services</span></span>  
 <span data-ttu-id="8085f-140">I flussi di lavoro rappresentano un modo semplice per implementare e accedere a servizi loosely-coupled usando le attività di messaggistica.</span><span class="sxs-lookup"><span data-stu-id="8085f-140">Workflows provide a natural way to implement and access loosely-coupled services, using messaging activities.</span></span> <span data-ttu-id="8085f-141">Le attività di messaggistica si basano su [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] e sono il meccanismo principale usato per ottenere dati all'interno e all'esterno di un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-141">Messaging activities are built on [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] and are the primary mechanism used to get data into and out of a workflow.</span></span> <span data-ttu-id="8085f-142">È possibile comporre insieme attività di messaggistica per modellare qualsiasi tipo di modello di scambio di messaggi desiderato.</span><span class="sxs-lookup"><span data-stu-id="8085f-142">You can compose messaging activities together to model any kind of message exchange pattern you wish.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="8085f-143">vedere [delle attività di messaggistica](../../../docs/framework/wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="8085f-143"> see [Messaging Activities](../../../docs/framework/wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="8085f-144">I servizi flusso di lavoro sono ospitati usando la classe <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="8085f-144">Workflow services are hosted using the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="8085f-145">[Panoramica di servizi di hosting del flusso di lavoro](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8085f-145"> [Hosting Workflow Services Overview](../../../docs/framework/wcf/feature-details/hosting-workflow-services-overview.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="8085f-146">Vedere servizi del flusso di lavoro [servizi flussi di lavoro](../../../docs/framework/wcf/feature-details/workflow-services.md)</span><span class="sxs-lookup"><span data-stu-id="8085f-146"> workflow services see [Workflow Services](../../../docs/framework/wcf/feature-details/workflow-services.md)</span></span>  
  
## <a name="persistence-unloading-and-long-running-workflows"></a><span data-ttu-id="8085f-147">Persistenza, scaricamento e flussi di lavoro con esecuzione prolungata</span><span class="sxs-lookup"><span data-stu-id="8085f-147">Persistence, Unloading, and Long-Running Workflows</span></span>  
 <span data-ttu-id="8085f-148">Il flusso di lavoro di Windows semplifica la creazione di programmi reattivi con esecuzione prolungata fornendo:</span><span class="sxs-lookup"><span data-stu-id="8085f-148">Windows Workflow simplifies the authoring of long-running reactive programs by providing:</span></span>  
  
-   <span data-ttu-id="8085f-149">Attività che accedono all'input esterno.</span><span class="sxs-lookup"><span data-stu-id="8085f-149">Activities that access external input.</span></span>  
  
-   <span data-ttu-id="8085f-150">Possibilità di creare oggetti <xref:System.Activities.Bookmark> che possono essere ripresi da un listener di host.</span><span class="sxs-lookup"><span data-stu-id="8085f-150">The ability to create <xref:System.Activities.Bookmark> objects that can be resumed by a host listener.</span></span>  
  
-   <span data-ttu-id="8085f-151">Possibilità di rendere persistenti i dati di un flusso di lavoro e di scaricare quest'ultimo, quindi di ricaricarlo e riattivarlo in risposta alla ripresa di oggetti <xref:System.Activities.Bookmark> in un particolare flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="8085f-151">The ability to persist a workflow’s data and unload the workflow, and then reload and reactivate the workflow in response to the resumption of <xref:System.Activities.Bookmark> objects in a particular workflow.</span></span>  
  
 <span data-ttu-id="8085f-152">Un flusso di lavoro esegue continuamente attività finché non sono terminate o finché tutte le attività attualmente in esecuzione stanno aspettando l'input.</span><span class="sxs-lookup"><span data-stu-id="8085f-152">A workflow continuously executes activities until there are no more activities to execute or until all currently executing activities are waiting for input.</span></span> <span data-ttu-id="8085f-153">In quest'ultimo caso, il flusso di lavoro è inattivo.</span><span class="sxs-lookup"><span data-stu-id="8085f-153">In this latter state, the workflow is idle.</span></span> <span data-ttu-id="8085f-154">È normale che i flussi di lavoro che si trovano nello stato di inattività vengono scaricati e ricaricati dall'host per continuare l'esecuzione quando arriva un messaggio.</span><span class="sxs-lookup"><span data-stu-id="8085f-154">It is common for a host to unload workflows that have gone idle and to reload them to continue execution when a message arrives.</span></span> <span data-ttu-id="8085f-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost> fornisce la funzionalità per questa funzione e fornisce un criterio estendibile di scaricamento.</span><span class="sxs-lookup"><span data-stu-id="8085f-155"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides functionality for this feature and provides an extensible unload policy.</span></span> <span data-ttu-id="8085f-156">Per i blocchi di esecuzione che usando dati allo stato volatile o altri dati che non possono essere resi persistenti, un'attività può indicare a un host che non deve essere resa persistente usando l'oggetto <xref:System.Activities.NoPersistHandle>.</span><span class="sxs-lookup"><span data-stu-id="8085f-156">For blocks of execution that use volatile state data or other data that cannot be persisted, an activity can indicate to a host that it should not be persisted by using the <xref:System.Activities.NoPersistHandle>.</span></span> <span data-ttu-id="8085f-157">Un flusso di lavoro può rendere esplicitamente persistenti i propri dati in un supporto di archiviazione durevole tramite l'attività <xref:System.Activities.Statements.Persist>.</span><span class="sxs-lookup"><span data-stu-id="8085f-157">A workflow can also explicitly persist its data to a durable storage medium by using the <xref:System.Activities.Statements.Persist> activity.</span></span>
