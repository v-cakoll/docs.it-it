---
title: Eventi di rilevamento in Traccia eventi per Windows
ms.date: 03/30/2017
ms.assetid: f812659b-0943-45ff-9430-4defa733182b
ms.openlocfilehash: 5b2e43e169faade06d8816d9ae517b6957fbf1ee
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/04/2018
ms.locfileid: "43527096"
---
# <a name="tracking-events-into-event-tracing-in-windows"></a><span data-ttu-id="eab8f-102">Eventi di rilevamento in Traccia eventi per Windows</span><span class="sxs-lookup"><span data-stu-id="eab8f-102">Tracking Events into Event Tracing in Windows</span></span>
<span data-ttu-id="eab8f-103">In questo esempio viene illustrato come abilitare la traccia in un servizio del flusso di lavoro Windows Workflow Foundation (WF) e creare gli eventi di rilevamento in Event Tracing for Windows (ETW).</span><span class="sxs-lookup"><span data-stu-id="eab8f-103">This sample demonstrates how to enable Windows Workflow Foundation (WF) tracking on a workflow service and emit the tracking events in Event Tracing for Windows (ETW).</span></span> <span data-ttu-id="eab8f-104">Per creare record di rilevamento del flusso di lavoro in ETW, nell'esempio viene usato il partecipante del rilevamento ETW (<xref:System.Activities.Tracking.EtwTrackingParticipant>).</span><span class="sxs-lookup"><span data-stu-id="eab8f-104">To emit workflow tracking records into ETW, the sample uses the ETW tracking participant (<xref:System.Activities.Tracking.EtwTrackingParticipant>).</span></span>  
  
 <span data-ttu-id="eab8f-105">Il flusso di lavoro nell'esempio riceve una richiesta, assegna il reciproco dei dati di input alla variabile di input e restituisce di nuovo il reciproco al client.</span><span class="sxs-lookup"><span data-stu-id="eab8f-105">The workflow in the sample receives a request, assigns the reciprocal of the input data to the input variable and returns the reciprocal back to the client.</span></span> <span data-ttu-id="eab8f-106">Quando i dati di input sono pari a 0, si verifica un'eccezione di divisione per zero non gestita che causa l'interruzione del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-106">When the input data is 0, a divide by zero exception occurs that is unhandled that causes the workflow to abort.</span></span> <span data-ttu-id="eab8f-107">Con il rilevamento abilitato, il record di rilevamento errori viene creato in ETW consentendo la risoluzione dell'errore in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-107">With tracking enabled, the error track record is emitted to ETW, which can help troubleshoot the error later.</span></span> <span data-ttu-id="eab8f-108">Il partecipante del rilevamento ETW viene configurato con un profilo di rilevamento per sottoscrivere i record di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-108">The ETW tracking participant is configured with a tracking profile to subscribe to tracking records.</span></span> <span data-ttu-id="eab8f-109">Il profilo di rilevamento viene definito nel file Web.config e fornito come parametro di configurazione al partecipante del rilevamento ETW.</span><span class="sxs-lookup"><span data-stu-id="eab8f-109">The tracking profile is defined in the Web.config file and provided as a configuration parameter to the ETW tracking participant.</span></span> <span data-ttu-id="eab8f-110">Quest'ultimo viene configurato nel file Web.config del servizio flusso di lavoro e viene applicato al servizio come comportamento del servizio.</span><span class="sxs-lookup"><span data-stu-id="eab8f-110">The ETW tracking participant is configured in the Web.config file of the workflow service and is applied to the service as a service behavior.</span></span> <span data-ttu-id="eab8f-111">In questo esempio gli eventi di rilevamento vengono visualizzati nel registro eventi tramite Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-111">In this sample, you view the tracking events in the event log using Event Viewer.</span></span>  
  
## <a name="workflow-tracking-details"></a><span data-ttu-id="eab8f-112">Dettagli relativi al rilevamento del flusso di lavoro</span><span class="sxs-lookup"><span data-stu-id="eab8f-112">Workflow Tracking Details</span></span>  
 <span data-ttu-id="eab8f-113">Windows Workflow Foundation fornisce un'infrastruttura di rilevamento per tenere traccia dell'esecuzione di un'istanza del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-113">Windows Workflow Foundation provides a tracking infrastructure to track the execution of a workflow instance.</span></span> <span data-ttu-id="eab8f-114">L'esecuzione del rilevamento crea un'istanza del flusso di lavoro per generare eventi correlati al ciclo di vita del flusso di lavoro, eventi dalle attività del flusso di lavoro ed eventi personalizzati.</span><span class="sxs-lookup"><span data-stu-id="eab8f-114">The tracking runtime creates a workflow instance to emit events related to the workflow lifecycle, events from workflow activities and custom events.</span></span> <span data-ttu-id="eab8f-115">Nella tabella seguente sono indicati in dettaglio i componenti primari dell'infrastruttura di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-115">The following table details the primary components of the tracking infrastructure.</span></span>  
  
|<span data-ttu-id="eab8f-116">Componente</span><span class="sxs-lookup"><span data-stu-id="eab8f-116">Component</span></span>|<span data-ttu-id="eab8f-117">Descrizione</span><span class="sxs-lookup"><span data-stu-id="eab8f-117">Description</span></span>|  
|---------------|-----------------|  
|<span data-ttu-id="eab8f-118">Esecuzione del rilevamento</span><span class="sxs-lookup"><span data-stu-id="eab8f-118">Tracking runtime</span></span>|<span data-ttu-id="eab8f-119">Fornisce l'infrastruttura per la creazione dei record di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-119">Provides the infrastructure to emit tracking records.</span></span>|  
|<span data-ttu-id="eab8f-120">Partecipanti del rilevamento</span><span class="sxs-lookup"><span data-stu-id="eab8f-120">Tracking participants</span></span>|<span data-ttu-id="eab8f-121">Accede ai record di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-121">Accesses the tracking records.</span></span> [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)]<span data-ttu-id="eab8f-122"> viene fornito con un partecipante del rilevamento che scrive record di rilevamento come eventi ETW (Traccia eventi per Windows).</span><span class="sxs-lookup"><span data-stu-id="eab8f-122"> ships with a tracking participant that writes tracking records as Event Tracing for Windows (ETW) events.</span></span>|  
|<span data-ttu-id="eab8f-123">Profilo di rilevamento</span><span class="sxs-lookup"><span data-stu-id="eab8f-123">Tracking profile</span></span>|<span data-ttu-id="eab8f-124">Meccanismo di filtro che consente a un partecipante del rilevamento di sottoscrivere un subset dei record di rilevamento creati da un'istanza del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-124">A filtering mechanism that allows a tracking participant to subscribe for a subset of the tracking records emitted from a workflow instance.</span></span>|  
  
 <span data-ttu-id="eab8f-125">Nella tabella seguente vengono indicati in dettaglio i record di rilevamento creati dall'esecuzione del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-125">The following table details the tracking records that the workflow runtime emits.</span></span>  
  
|<span data-ttu-id="eab8f-126">Record di rilevamento</span><span class="sxs-lookup"><span data-stu-id="eab8f-126">Tracking record</span></span>|<span data-ttu-id="eab8f-127">Descrizione</span><span class="sxs-lookup"><span data-stu-id="eab8f-127">Description</span></span>|  
|---------------------|-----------------|  
|<span data-ttu-id="eab8f-128">Record di rilevamento dell'istanza del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-128">Workflow instance tracking records.</span></span>|<span data-ttu-id="eab8f-129">Descrivono il ciclo di vita dell'istanza del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-129">Describes the lifecycle of the workflow instance.</span></span> <span data-ttu-id="eab8f-130">Ad esempio un record di istanza viene creato quando viene avviato o completato il flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-130">For example, an instance record is emitted when the workflow starts or completes.</span></span>|  
|<span data-ttu-id="eab8f-131">Record di rilevamento dello stato dell'attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-131">Activity state tracking records.</span></span>|<span data-ttu-id="eab8f-132">Illustrano in dettaglio l'esecuzione dell'attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-132">Details activity execution.</span></span> <span data-ttu-id="eab8f-133">Questi record indicano lo stato di un'attività del flusso di lavoro, ad esempio quando un'attività viene pianificata, quando viene completata o quando viene generato un errore.</span><span class="sxs-lookup"><span data-stu-id="eab8f-133">These records indicate the state of a workflow activity such as when an activity is scheduled or when the activity completes or when a fault is thrown.</span></span>|  
|<span data-ttu-id="eab8f-134">Record di ripresa del segnalibro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-134">Bookmark resumption record.</span></span>|<span data-ttu-id="eab8f-135">Generato quando viene ripreso un segnalibro all'interno di un'istanza del flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-135">Emitted whenever a bookmark within a workflow instance is resumed.</span></span>|  
|<span data-ttu-id="eab8f-136">Record di rilevamento personalizzati.</span><span class="sxs-lookup"><span data-stu-id="eab8f-136">Custom tracking records.</span></span>|<span data-ttu-id="eab8f-137">Un autore del flusso di lavoro può creare record di rilevamento personalizzati e generarli all'interno dell'attività personalizzata.</span><span class="sxs-lookup"><span data-stu-id="eab8f-137">A workflow author can create custom tracking records and emit them within the custom activity.</span></span>|  
|<xref:System.Activities.Tracking.ActivityScheduledRecord>|<span data-ttu-id="eab8f-138">Questo record viene creato quando un'attività pianifica un'altra attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-138">This record is emitted when an activity schedules another activity.</span></span>|  
|<xref:System.Activities.Tracking.FaultPropagationRecord>|<span data-ttu-id="eab8f-139">Questo record viene creato quando un errore viene propagato da un'attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-139">This record is emitted when a fault is propagated from an activity.</span></span>|  
|<xref:System.Activities.Tracking.CancelRequestedRecord>|<span data-ttu-id="eab8f-140">Questo record viene creato quando un'attività viene annullata da un'altra attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-140">This record is emitted when an activity is canceled by another activity.</span></span>|  
  
 <span data-ttu-id="eab8f-141">Il partecipante del rilevamento sottoscrive un subset dei record di rilevamento creati usando profili di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-141">The tracking participant subscribes for a subset of the emitted tracking records using tracking profiles.</span></span> <span data-ttu-id="eab8f-142">Un profilo di rilevamento contiene query di rilevamento che consentono la sottoscrizione di un particolare tipo di record di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-142">A tracking profile contains tracking queries that allow subscribing for a particular tracking record type.</span></span> <span data-ttu-id="eab8f-143">I profili di rilevamento possono essere specificati nel codice o nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="eab8f-143">Tracking profiles can be specified in code or in configuration.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="eab8f-144">Per usare questo esempio</span><span class="sxs-lookup"><span data-stu-id="eab8f-144">To use this sample</span></span>  
  
1.  <span data-ttu-id="eab8f-145">In [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] aprire il file della soluzione EtwTrackingParticipantSample.sln.</span><span class="sxs-lookup"><span data-stu-id="eab8f-145">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the EtwTrackingParticipantSample.sln solution file.</span></span>  
  
2.  <span data-ttu-id="eab8f-146">Per compilare la soluzione, premere CTRL+MAIUSC+B.</span><span class="sxs-lookup"><span data-stu-id="eab8f-146">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="eab8f-147">Per eseguire la soluzione, premere F5.</span><span class="sxs-lookup"><span data-stu-id="eab8f-147">To run the solution, press F5.</span></span>  
  
     <span data-ttu-id="eab8f-148">Per impostazione predefinita, il servizio è in ascolto sulla porta 53797 (http://localhost:53797/SampleWorkflowService.xamlx).</span><span class="sxs-lookup"><span data-stu-id="eab8f-148">By default, the service is listening on port 53797 (http://localhost:53797/SampleWorkflowService.xamlx).</span></span>  
  
4.  <span data-ttu-id="eab8f-149">Usando [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)], aprire il client di WCF.</span><span class="sxs-lookup"><span data-stu-id="eab8f-149">Using [!INCLUDE[fileExplorer](../../../../includes/fileexplorer-md.md)], open the WCF test client.</span></span>  
  
     <span data-ttu-id="eab8f-150">Il client di prova WCF (WcfTestClient.exe) si trova nel \< [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] cartella di installazione > cartella \Common7\IDE\.</span><span class="sxs-lookup"><span data-stu-id="eab8f-150">The WCF test client (WcfTestClient.exe) is located in the \<[!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] installation folder>\Common7\IDE\ folder.</span></span>  
  
     <span data-ttu-id="eab8f-151">La cartella di installazione di [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] predefinita è C:\Programmi\Microsoft Visual Studio 10.0.</span><span class="sxs-lookup"><span data-stu-id="eab8f-151">The default [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] installation folder is C:\Program Files\Microsoft Visual Studio 10.0.</span></span>  
  
5.  <span data-ttu-id="eab8f-152">Nel client di prova WCF selezionare **aggiunta di un servizio** dalle **File** menu.</span><span class="sxs-lookup"><span data-stu-id="eab8f-152">In WCF test client, select **Add Service** from the **File** menu.</span></span>  
  
     <span data-ttu-id="eab8f-153">Aggiungere l'indirizzo dell'endpoint nella casella di input.</span><span class="sxs-lookup"><span data-stu-id="eab8f-153">Add the endpoint address in the input box.</span></span> <span data-ttu-id="eab8f-154">Il valore predefinito è http://localhost:53797/SampleWorkflowService.xamlx.</span><span class="sxs-lookup"><span data-stu-id="eab8f-154">The default is http://localhost:53797/SampleWorkflowService.xamlx.</span></span>  
  
6.  <span data-ttu-id="eab8f-155">Aprire l'applicazione Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-155">Open the Event Viewer application.</span></span>  
  
     <span data-ttu-id="eab8f-156">Prima di richiamare il servizio, avviare Visualizzatore eventi dal **avviare** dal menu **eseguito** e digitare `eventvwr.exe`.</span><span class="sxs-lookup"><span data-stu-id="eab8f-156">Before invoking the service, start Event Viewer from the **Start** menu, select **Run** and type in `eventvwr.exe`.</span></span> <span data-ttu-id="eab8f-157">Assicurarsi che il registro eventi sia in ascolto di eventi di rilevamento creati dal servizio flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-157">Ensure that the event log is listening for tracking events emitted from the workflow service.</span></span>  
  
7.  <span data-ttu-id="eab8f-158">Nella visualizzazione albero del Visualizzatore eventi passare a **Visualizzatore eventi**, **registri applicazioni e servizi**, e **Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-158">In the tree view of the Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, and **Microsoft**.</span></span> <span data-ttu-id="eab8f-159">Fare doppio clic su **Microsoft** e selezionare **View** e quindi **Visualizza registri analitici e Debug** per abilitare l'analisi e i registri di debug</span><span class="sxs-lookup"><span data-stu-id="eab8f-159">Right-click **Microsoft** and select **View** and then **Show Analytic and Debug Logs** to enable the analytic and debug logs</span></span>  
  
     <span data-ttu-id="eab8f-160">Verificare che il **Visualizza registri analitici e Debug** opzione è selezionata.</span><span class="sxs-lookup"><span data-stu-id="eab8f-160">Ensure that the **Show Analytic and Debug Logs** option is checked.</span></span>  
  
8.  <span data-ttu-id="eab8f-161">Nella visualizzazione albero in Visualizzatore eventi passare a **Visualizzatore eventi**, **registri applicazioni e servizi**, **Microsoft**, **Windows**,  **Server applicazioni-applicazioni**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-161">In the tree view in Event Viewer, navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="eab8f-162">Fare doppio clic su **analitico** e selezionare **Attiva registro** per abilitare il **analitico** log.</span><span class="sxs-lookup"><span data-stu-id="eab8f-162">Right-click **Analytic** and select **Enable Log** to enable the **Analytic** log.</span></span>  
  
9. <span data-ttu-id="eab8f-163">Eseguire il test del servizio tramite il client di prova WCF facendo doppio clic su `GetData`.</span><span class="sxs-lookup"><span data-stu-id="eab8f-163">Test the service using the WCF test client by double-clicking `GetData`.</span></span>  
  
     <span data-ttu-id="eab8f-164">Verrà visualizzato il metodo `GetData`.</span><span class="sxs-lookup"><span data-stu-id="eab8f-164">This opens the `GetData` method.</span></span> <span data-ttu-id="eab8f-165">La richiesta accetta un parametro e assicura che il valore sia 0, ovvero l'impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="eab8f-165">The request accepts one parameter and ensures that the value is 0, which is the default.</span></span>  
  
     <span data-ttu-id="eab8f-166">Fare clic su **richiamare**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-166">Click **Invoke**.</span></span>  
  
10. <span data-ttu-id="eab8f-167">Osservare gli eventi creati dal flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-167">Observe the events emitted from the workflow.</span></span>  
  
     <span data-ttu-id="eab8f-168">Tornare a Visualizzatore eventi e passare a **Visualizzatore eventi**, **registri applicazioni e servizi**, **Microsoft**, **Windows**,  **Server applicazioni-applicazioni**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-168">Switch back to Event Viewer and navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="eab8f-169">Fare doppio clic su **analitico** e selezionare **aggiornare**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-169">Right-click **Analytic** and select **Refresh**.</span></span>  
  
     <span data-ttu-id="eab8f-170">Gli eventi del flusso di lavoro vengono visualizzati nel visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-170">The workflow events are displayed in the event viewer.</span></span> <span data-ttu-id="eab8f-171">Si noti che vengono visualizzati gli eventi di esecuzione del flusso di lavoro e che uno di questi è un'eccezione non gestita che corrisponde all'errore nel flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-171">Notice that workflow execution events are displayed and that one of them is an unhandled exception that corresponds to the error in workflow.</span></span> <span data-ttu-id="eab8f-172">Inoltre, viene creato un evento di avviso dall'attività del flusso di lavoro indicante che l'attività sta generando un errore.</span><span class="sxs-lookup"><span data-stu-id="eab8f-172">Also, a warning event is emitted from the workflow activity, which indicates that the activity is throwing a fault.</span></span>  
  
11. <span data-ttu-id="eab8f-173">Ripetere i passaggi 9 e 10 con un input di dati diverso da 0, in modo che non venga generato alcun errore.</span><span class="sxs-lookup"><span data-stu-id="eab8f-173">Repeat steps 9 and 10 with an input of data other than 0, so that no error is thrown.</span></span>  
  
 <span data-ttu-id="eab8f-174">I profili di rilevamento consentono di sottoscrivere gli eventi creati dall'esecuzione quando lo stato di un'istanza del flusso di lavoro viene modificato.</span><span class="sxs-lookup"><span data-stu-id="eab8f-174">Tracking profiles allow you to subscribe to events that are emitted by the runtime when the state of a workflow instance changes.</span></span> <span data-ttu-id="eab8f-175">A seconda dei requisiti di monitoraggio, è possibile creare un profilo molto generico che sottoscrive un piccolo set di modifiche dello stato di alto livello in un flusso di lavoro.</span><span class="sxs-lookup"><span data-stu-id="eab8f-175">Depending on your monitoring requirements, you can create a profile that is very coarse, which subscribes to a small set of high-level state changes on a workflow.</span></span> <span data-ttu-id="eab8f-176">D'altra parte, è possibile creare un profilo molto preciso il cui output è dettagliato abbastanza per ricostruire l'esecuzione in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="eab8f-176">On the other hand, you can create a very precise profile whose output is rich enough to reconstruct the execution later.</span></span> <span data-ttu-id="eab8f-177">Nell'esempio vengono illustrati gli eventi creati dall'esecuzione del flusso di lavoro in ETW usando l'oggetto `HealthMonitoring Tracking Profile` che crea un piccolo set di eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-177">The sample demonstrates the events emitted from the workflow runtime to ETW using the `HealthMonitoring Tracking Profile`, which emits a small set of events.</span></span> <span data-ttu-id="eab8f-178">Un profilo diverso che crea più eventi di rilevamento del flusso di lavoro viene fornito anche nel file Web.config denominato `Troubleshooting Tracking Profile`.</span><span class="sxs-lookup"><span data-stu-id="eab8f-178">A different profile that emits more workflow tracking events is also provided in the Web.config that is named `Troubleshooting Tracking Profile`.</span></span> <span data-ttu-id="eab8f-179">Quando viene installato [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)], un profilo predefinito con un nome vuoto viene configurato nel file Machine.config.</span><span class="sxs-lookup"><span data-stu-id="eab8f-179">When the [!INCLUDE[netfx_current_short](../../../../includes/netfx-current-short-md.md)] is installed, a default profile with an empty name is configured in the Machine.config file.</span></span> <span data-ttu-id="eab8f-180">Questo profilo viene usato dalla configurazione del comportamento di rilevamento ETW quando non viene specificato alcun nome di profilo né un nome di profilo vuoto.</span><span class="sxs-lookup"><span data-stu-id="eab8f-180">This profile is used by the ETW tracking behavior configuration when no profile name or an empty profile name is specified.</span></span>  
  
 <span data-ttu-id="eab8f-181">Il profilo di rilevamento del monitoraggio dell'integrità crea record di istanza del flusso di lavoro e record di propagazione degli errori di attività.</span><span class="sxs-lookup"><span data-stu-id="eab8f-181">The health monitoring tracking profile emits workflow instance records and activity fault propagation records.</span></span> <span data-ttu-id="eab8f-182">Questo profilo viene creato aggiungendo il profilo di rilevamento seguente a un file di configurazione Web.config.</span><span class="sxs-lookup"><span data-stu-id="eab8f-182">This profile is created by adding the following tracking profile to a Web.config configuration file.</span></span>  
  
```xml  
<<tracking>  
      <profiles>  
        <trackingProfile name="HealthMonitoring Tracking Profile">  
          <workflow activityDefinitionId="*">  
            <workflowInstanceQueries>  
              <workflowInstanceQuery>  
                <states>  
                  <state name="Started"/>  
                  <state name="Completed"/>  
                  <state name="Aborted"/>  
                  <state name="UnhandledException"/>  
                </states>  
            </workflowInstanceQuery>  
           </workflowInstanceQueries>  
            <faultPropagationQueries>  
              <faultPropagationQuery faultSourceActivityName ="*" faultHandlerActivityName="*"/>  
            </faultPropagationQueries>  
          </workflow>  
        </trackingProfile>  
       </profiles>  
</tracking>  
```  
  
 <span data-ttu-id="eab8f-183">Il profilo può essere modificato impostando la configurazione `EtwTrackingParticipant` sugli elementi seguenti.</span><span class="sxs-lookup"><span data-stu-id="eab8f-183">The profile can be changed by changing the `EtwTrackingParticipant` configuration to the following.</span></span>  
  
```xml  
<behaviors>  
      <serviceBehaviors>  
        <behavior>  
          <etwTracking profileName="HealthMonitoring Tracking Profile"/>  
        </behavior>  
      </serviceBehaviors>  
    </behaviors>  
```  
  
#### <a name="to-clean-up-optional"></a><span data-ttu-id="eab8f-184">Per eseguire la pulizia (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="eab8f-184">To clean up (Optional)</span></span>  
  
1.  <span data-ttu-id="eab8f-185">Aprire Visualizzatore eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-185">Open Event Viewer.</span></span>  
  
2.  <span data-ttu-id="eab8f-186">Passare a **Visualizzatore eventi**, **registri applicazioni e servizi**, **Microsoft**, **Windows**, **dell'applicazione Le applicazioni server**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-186">Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="eab8f-187">Fare doppio clic su **analitico** e selezionare **Disattiva registro**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-187">Right-click **Analytic** and select **Disable Log**.</span></span>  
  
3.  <span data-ttu-id="eab8f-188">Passare a **Visualizzatore eventi**, **registri applicazioni e servizi**, **Microsoft**, **Windows**, **dell'applicazione Le applicazioni server**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-188">Navigate to **Event Viewer**, **Applications and Services Logs**, **Microsoft**, **Windows**, **Application Server-Applications**.</span></span> <span data-ttu-id="eab8f-189">Fare doppio clic su **analitico** e selezionare **Cancella Log**.</span><span class="sxs-lookup"><span data-stu-id="eab8f-189">Right-click **Analytic** and select **Clear Log**.</span></span>  
  
4.  <span data-ttu-id="eab8f-190">Scegliere il **cancellare** opzione per cancellare gli eventi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-190">Choose the **Clear** option to clear the events.</span></span>  
  
## <a name="known-issue"></a><span data-ttu-id="eab8f-191">Problema noto</span><span class="sxs-lookup"><span data-stu-id="eab8f-191">Known Issue</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eab8f-192">Nel Visualizzatore eventi potrebbe non essere possibile decodificare gli eventi ETW.</span><span class="sxs-lookup"><span data-stu-id="eab8f-192">There is a known issue in the Event Viewer where it may fail to decode ETW events.</span></span> <span data-ttu-id="eab8f-193">Si potrebbe visualizzare un messaggio di errore simile al seguente.</span><span class="sxs-lookup"><span data-stu-id="eab8f-193">You may see an error message that looks like the following.</span></span>  
>   
>  <span data-ttu-id="eab8f-194">La descrizione per l'ID evento \<id > dall'origine Microsoft-Windows Server applicazioni-applicazioni nebyla nalezena.</span><span class="sxs-lookup"><span data-stu-id="eab8f-194">The description for Event ID \<id> from source Microsoft-Windows-Application Server-Applications cannot be found.</span></span> <span data-ttu-id="eab8f-195">Il componente che ha generato l'evento non è installato nel computer locale oppure l'installazione è danneggiata.</span><span class="sxs-lookup"><span data-stu-id="eab8f-195">Either the component that raises this event is not installed on your local computer or the installation is corrupted.</span></span> <span data-ttu-id="eab8f-196">È possibile installare o ripristinare il componente nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="eab8f-196">You can install or repair the component on the local computer.</span></span>  
>   
>  <span data-ttu-id="eab8f-197">Se si rileva questo errore, fare clic su Aggiorna nel riquadro Azioni.</span><span class="sxs-lookup"><span data-stu-id="eab8f-197">If you encounter this error, click refresh in the actions pane.</span></span> <span data-ttu-id="eab8f-198">La decodifica dell'evento dovrebbe ora essere eseguita in modo corretto.</span><span class="sxs-lookup"><span data-stu-id="eab8f-198">The event should now decode properly.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="eab8f-199">È possibile che gli esempi siano già installati nel computer.</span><span class="sxs-lookup"><span data-stu-id="eab8f-199">The samples may already be installed on your computer.</span></span> <span data-ttu-id="eab8f-200">Verificare la directory seguente (impostazione predefinita) prima di continuare.</span><span class="sxs-lookup"><span data-stu-id="eab8f-200">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="eab8f-201">Se questa directory non esiste, andare al [Windows Communication Foundation (WCF) e gli esempi di Windows Workflow Foundation (WF) per .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) per scaricare tutti i Windows Communication Foundation (WCF) e [!INCLUDE[wf1](../../../../includes/wf1-md.md)] esempi.</span><span class="sxs-lookup"><span data-stu-id="eab8f-201">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="eab8f-202">Questo esempio si trova nella directory seguente.</span><span class="sxs-lookup"><span data-stu-id="eab8f-202">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Tracking\EtwTracking`  
  
## <a name="see-also"></a><span data-ttu-id="eab8f-203">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="eab8f-203">See Also</span></span>  
 [<span data-ttu-id="eab8f-204">Esempi di monitoraggio di AppFabric</span><span class="sxs-lookup"><span data-stu-id="eab8f-204">AppFabric Monitoring Samples</span></span>](https://go.microsoft.com/fwlink/?LinkId=193959)
