---
title: Cenni preliminari sulla navigazione strutturata
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: structured navigation [WPF]
ms.assetid: 025d30ef-fec5-436d-ad7a-5d5483331c26
caps.latest.revision: "43"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: b241e9a2dbe84833f43dadb2e979e5ee079706a7
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/21/2017
---
# <a name="structured-navigation-overview"></a><span data-ttu-id="ea142-102">Cenni preliminari sulla navigazione strutturata</span><span class="sxs-lookup"><span data-stu-id="ea142-102">Structured Navigation Overview</span></span>
<span data-ttu-id="ea142-103">Contenuto che può essere ospitato da un [!INCLUDE[TLA#tla_xbap](../../../../includes/tlasharptla-xbap-md.md)], <xref:System.Windows.Controls.Frame>, o un <xref:System.Windows.Navigation.NavigationWindow> è composto da pagine che possono essere identificate da pack [!INCLUDE[TLA#tla_uri#plural](../../../../includes/tlasharptla-urisharpplural-md.md)] e passare a esse da collegamenti ipertestuali.</span><span class="sxs-lookup"><span data-stu-id="ea142-103">Content that can be hosted by an [!INCLUDE[TLA#tla_xbap](../../../../includes/tlasharptla-xbap-md.md)], a <xref:System.Windows.Controls.Frame>, or a <xref:System.Windows.Navigation.NavigationWindow> is composed of pages that can be identified by pack [!INCLUDE[TLA#tla_uri#plural](../../../../includes/tlasharptla-urisharpplural-md.md)] and navigated to by hyperlinks.</span></span> <span data-ttu-id="ea142-104">La struttura della pagine e i modi in cui è possibile spostarsi tra di esse, definiti dai collegamenti ipertestuali, costituiscono una topologia di navigazione.</span><span class="sxs-lookup"><span data-stu-id="ea142-104">The structure of pages and the ways in which they can be navigated, as defined by hyperlinks, is known as a navigation topology.</span></span> <span data-ttu-id="ea142-105">Tale topologia è adatta a vari tipi di applicazioni, in particolare a quelli che consentono di spostarsi tra documenti.</span><span class="sxs-lookup"><span data-stu-id="ea142-105">Such a topology suits a variety of application types, particularly those that navigate through documents.</span></span> <span data-ttu-id="ea142-106">Per tali applicazioni, l'utente può spostarsi da una pagina all'altra senza che una pagina disponga di informazioni sull'altra.</span><span class="sxs-lookup"><span data-stu-id="ea142-106">For such applications, the user can navigate from one page to another page without either page needing to know anything about the other.</span></span>  
  
 <span data-ttu-id="ea142-107">Tuttavia, altri tipi di applicazioni presentano pagine che necessitano di informazioni su quando avviene la navigazione tra di esse.</span><span class="sxs-lookup"><span data-stu-id="ea142-107">However, other types of applications have pages that do need to know when they have been navigated between.</span></span> <span data-ttu-id="ea142-108">Ad esempio, si consideri un'applicazione di risorse umane che include una pagina in cui vengono elencati tutti i dipendenti di un'azienda - la pagina "Elenco dipendenti".</span><span class="sxs-lookup"><span data-stu-id="ea142-108">For example, consider a human resources application that has one page to list all the employees in an organization—the "List Employees" page.</span></span> <span data-ttu-id="ea142-109">Questa pagina può inoltre consentire agli utenti di aggiungere un nuovo dipendente facendo clic su un collegamento ipertestuale.</span><span class="sxs-lookup"><span data-stu-id="ea142-109">This page could also allow users to add a new employee by clicking a hyperlink.</span></span> <span data-ttu-id="ea142-110">Quando si fa clic su tale collegamento, si passa alla pagina "Aggiungi dipendente" in cui vengono raccolti i dettagli sul nuovo dipendente e quindi si torna alla pagina "Elenco dipendenti" in cui viene creato il nuovo dipendente e aggiornato l'elenco.</span><span class="sxs-lookup"><span data-stu-id="ea142-110">When clicked, the page navigates to an "Add an Employee" page to gather the new employee's details and return them to the "List Employees" page to create the new employee and update the list.</span></span> <span data-ttu-id="ea142-111">Questo stile di navigazione è simile alla chiamata di un metodo per l'esecuzione di una determinata elaborazione e la restituzione di un valore, denominata programmazione strutturata.</span><span class="sxs-lookup"><span data-stu-id="ea142-111">This style of navigation is similar to calling a method to perform some processing and return a value, which is known as structured programming.</span></span> <span data-ttu-id="ea142-112">Analogamente, questo stile di navigazione è denominato *navigazione strutturata*.</span><span class="sxs-lookup"><span data-stu-id="ea142-112">As such, this style of navigation is known as *structured navigation*.</span></span>  
  
 <span data-ttu-id="ea142-113">La <xref:System.Windows.Controls.Page> classe non implementa il supporto per lo spostamento strutturato.</span><span class="sxs-lookup"><span data-stu-id="ea142-113">The <xref:System.Windows.Controls.Page> class doesn't implement support for structured navigation.</span></span> <span data-ttu-id="ea142-114">Al contrario, il <xref:System.Windows.Navigation.PageFunction%601> deriva dalla classe <xref:System.Windows.Controls.Page> e la estende con i costrutti di base necessari per lo spostamento strutturato.</span><span class="sxs-lookup"><span data-stu-id="ea142-114">Instead, the <xref:System.Windows.Navigation.PageFunction%601> class derives from <xref:System.Windows.Controls.Page> and extends it with the basic constructs required for structured navigation.</span></span> <span data-ttu-id="ea142-115">In questo argomento viene illustrato come definire la navigazione strutturata con <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-115">This topic shows how to establish structured navigation using <xref:System.Windows.Navigation.PageFunction%601>.</span></span>  
  
 
  
<a name="Structured_Navigation"></a>   
## <a name="structured-navigation"></a><span data-ttu-id="ea142-116">Navigazione strutturata</span><span class="sxs-lookup"><span data-stu-id="ea142-116">Structured Navigation</span></span>  
 <span data-ttu-id="ea142-117">Quando una pagina chiama un'altra pagina in una navigazione strutturata, sono richiesti alcuni o tutti i comportamenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="ea142-117">When one page calls another page in a structured navigation, some or all of the following behaviors are required:</span></span>  
  
-   <span data-ttu-id="ea142-118">La pagina chiamante si sposta sulla pagina chiamata, facoltativamente passando i parametri richiesti dalla pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-118">The calling page navigates to the called page, optionally passing parameters required by the called page.</span></span>  
  
-   <span data-ttu-id="ea142-119">La pagina chiamata, quando l'utente completa l'uso della pagina chiamante, ritorna specificamente alla pagina chiamante e facoltativamente:</span><span class="sxs-lookup"><span data-stu-id="ea142-119">The called page, when a user has completed using the calling page, returns specifically to the calling page, optionally:</span></span>  
  
    -   <span data-ttu-id="ea142-120">Restituisce informazioni sullo stato che descrivono come è stata completata la pagina chiamante (ad esempio, se l'utente ha premuto il pulsante OK o Annulla).</span><span class="sxs-lookup"><span data-stu-id="ea142-120">Returning state information that describes how the calling page was completed (for example, whether a user pressed an OK button or a Cancel button).</span></span>  
  
    -   <span data-ttu-id="ea142-121">Restituisce i dati raccolti dall'utente (ad esempio, i dettagli sul nuovo dipendente).</span><span class="sxs-lookup"><span data-stu-id="ea142-121">Returning that data that was collected from the user (for example, new employee details).</span></span>  
  
-   <span data-ttu-id="ea142-122">Quando la pagina chiamate ritorna alla pagina chiamata, la pagina chiamata viene rimossa dalla cronologia di navigazione per isolare le istanze della pagina chiamata l'una dall'altra.</span><span class="sxs-lookup"><span data-stu-id="ea142-122">When the calling page returns to the called page, the called page is removed from navigation history to isolate one instance of a called page from another.</span></span>  
  
 <span data-ttu-id="ea142-123">Questi comportamenti sono illustrati nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="ea142-123">These behaviors are illustrated by the following figure.</span></span>  
  
 <span data-ttu-id="ea142-124">![Flusso tra pagina chiamante e pagina chiamata](../../../../docs/framework/wpf/app-development/media/structurednavigationoverviewfigure1.png "StructuredNavigationOverviewFigure1")</span><span class="sxs-lookup"><span data-stu-id="ea142-124">![Flow between calling page and called page](../../../../docs/framework/wpf/app-development/media/structurednavigationoverviewfigure1.png "StructuredNavigationOverviewFigure1")</span></span>  
  
 <span data-ttu-id="ea142-125">È possibile implementare questi comportamenti mediante un <xref:System.Windows.Navigation.PageFunction%601> come pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-125">You can implement these behaviors by using a <xref:System.Windows.Navigation.PageFunction%601> as the called page.</span></span>  
  
<a name="Structured_Navigation_with_PageFunction"></a>   
## <a name="structured-navigation-with-pagefunction"></a><span data-ttu-id="ea142-126">Navigazione strutturata con PageFunction</span><span class="sxs-lookup"><span data-stu-id="ea142-126">Structured Navigation with PageFunction</span></span>  
 <span data-ttu-id="ea142-127">In questo argomento viene illustrato come implementare il funzionamento di base dello spostamento strutturato che prevede un singolo <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-127">This topic shows how to implement the basic mechanics of structured navigation involving a single <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="ea142-128">In questo esempio, un <xref:System.Windows.Controls.Page> chiama un <xref:System.Windows.Navigation.PageFunction%601> per ottenere un <xref:System.String> valore da parte dell'utente e restituirlo.</span><span class="sxs-lookup"><span data-stu-id="ea142-128">In this sample, a <xref:System.Windows.Controls.Page> calls a <xref:System.Windows.Navigation.PageFunction%601> to get a <xref:System.String> value from the user and return it.</span></span>  
  
### <a name="creating-a-calling-page"></a><span data-ttu-id="ea142-129">Creazione di una pagina chiamante</span><span class="sxs-lookup"><span data-stu-id="ea142-129">Creating a Calling Page</span></span>  
 <span data-ttu-id="ea142-130">La pagina che chiama un <xref:System.Windows.Navigation.PageFunction%601> può essere un <xref:System.Windows.Controls.Page> o <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-130">The page that calls a <xref:System.Windows.Navigation.PageFunction%601> can be either a <xref:System.Windows.Controls.Page> or a <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="ea142-131">In questo esempio è un <xref:System.Windows.Controls.Page>, come illustrato nel codice seguente.</span><span class="sxs-lookup"><span data-stu-id="ea142-131">In this example, it is a <xref:System.Windows.Controls.Page>, as shown in the following code.</span></span>  
  
 [!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup1)]  
[!code-xaml[StructuredNavigationSample#CallingPageDefaultMARKUP2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#callingpagedefaultmarkup2)]  
  
 [!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind1)]
 [!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind1)]  
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind2)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind2)]  
[!code-csharp[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#callingpagedefaultcodebehind3)]
[!code-vb[StructuredNavigationSample#CallingPageDefaultCODEBEHIND3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#callingpagedefaultcodebehind3)]  
  
### <a name="creating-a-page-function-to-call"></a><span data-ttu-id="ea142-132">Creazione di una funzione pagina per la chiamata</span><span class="sxs-lookup"><span data-stu-id="ea142-132">Creating a Page Function to Call</span></span>  
 <span data-ttu-id="ea142-133">Poiché la pagina chiamante è possibile utilizzare la pagina chiamata per raccogliere e restituire i dati dell'utente, <xref:System.Windows.Navigation.PageFunction%601> viene implementato come una classe generica il cui argomento tipo specifica il tipo di valore che verrà restituita la pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-133">Because the calling page can use the called page to collect and return data from the user, <xref:System.Windows.Navigation.PageFunction%601> is implemented as a generic class whose type argument specifies the type of the value that the called page will return.</span></span> <span data-ttu-id="ea142-134">Il codice seguente illustra l'implementazione iniziale della chiamata pagina utilizzando un <xref:System.Windows.Navigation.PageFunction%601>, che restituisce un <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="ea142-134">The following code shows the initial implementation of the called page, using a <xref:System.Windows.Navigation.PageFunction%601>, which returns a <xref:System.String>.</span></span>  
  
 [!code-xaml[StructuredNavigationSample#CalledPageFunctionMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml#calledpagefunctionmarkup)]  
  
 [!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind1)]
 [!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind1)]  
[!code-csharp[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#calledpagefunctioncodebehind2)]
[!code-vb[StructuredNavigationSample#CalledPageFunctionCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#calledpagefunctioncodebehind2)]  
  
 <span data-ttu-id="ea142-135">La dichiarazione di un <xref:System.Windows.Navigation.PageFunction%601> è simile alla dichiarazione di un <xref:System.Windows.Controls.Page> con l'aggiunta degli argomenti di tipo.</span><span class="sxs-lookup"><span data-stu-id="ea142-135">The declaration of a <xref:System.Windows.Navigation.PageFunction%601> is similar to the declaration of a <xref:System.Windows.Controls.Page> with the addition of the type arguments.</span></span> <span data-ttu-id="ea142-136">Come si può notare nell'esempio di codice, gli argomenti tipo sono specificati sia nel markup [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], usando l'attributo `x:TypeArguments`, che in code-behind, usando la sintassi degli argomenti di tipo generico standard.</span><span class="sxs-lookup"><span data-stu-id="ea142-136">As you can see from the code example, the type arguments are specified in both [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] markup, using the `x:TypeArguments` attribute, and code-behind, using standard generic type argument syntax.</span></span>  
  
 <span data-ttu-id="ea142-137">Non è necessario usare solo le classi [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] come argomenti tipo.</span><span class="sxs-lookup"><span data-stu-id="ea142-137">You don't have to use only [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] classes as type arguments.</span></span> <span data-ttu-id="ea142-138">Oggetto <xref:System.Windows.Navigation.PageFunction%601> può essere chiamata per raccogliere dati specifici del dominio estratti come un tipo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="ea142-138">A <xref:System.Windows.Navigation.PageFunction%601> could be called to gather domain-specific data that is abstracted as a custom type.</span></span> <span data-ttu-id="ea142-139">Il codice seguente viene illustrato come utilizzare un tipo personalizzato come argomento di tipo per un <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-139">The following code shows how to use a custom type as a type argument for a <xref:System.Windows.Navigation.PageFunction%601>.</span></span>  
  
 [!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode1)]
 [!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode1)]  
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypeCODE2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomType.cs#customtypecode2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypeCODE2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomType.vb#customtypecode2)]  
  
 [!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup1)]  
[!code-xaml[CustomTypePageFunctionSnippets#CustomTypePageFunctionMARKUP2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml#customtypepagefunctionmarkup2)]  
  
 [!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind1)]
 [!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind1)]  
[!code-csharp[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/CSharp/CustomTypePageFunction.xaml.cs#customtypepagefunctioncodebehind2)]
[!code-vb[CustomTypePageFunctionSnippets#CustomTypePageFunctionCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/CustomTypePageFunctionSnippets/VisualBasic/CustomTypePageFunction.xaml.vb#customtypepagefunctioncodebehind2)]  
  
 <span data-ttu-id="ea142-140">Gli argomenti tipo per il <xref:System.Windows.Navigation.PageFunction%601> forniscono la base per la comunicazione tra pagina chiamante e pagina chiamata, descritti nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="ea142-140">The type arguments for the <xref:System.Windows.Navigation.PageFunction%601> provide the foundation for the communication between a calling page and the called page, which are discussed in the following sections.</span></span>  
  
 <span data-ttu-id="ea142-141">Come si vedrà, il tipo identificato con la dichiarazione di un <xref:System.Windows.Navigation.PageFunction%601> svolge un ruolo importante nel restituire dati da un <xref:System.Windows.Navigation.PageFunction%601> alla pagina chiamante.</span><span class="sxs-lookup"><span data-stu-id="ea142-141">As you'll see, the type that is identified with the declaration of a <xref:System.Windows.Navigation.PageFunction%601> plays an important role in returning data from a <xref:System.Windows.Navigation.PageFunction%601> to the calling page.</span></span>  
  
### <a name="calling-a-pagefunction-and-passing-parameters"></a><span data-ttu-id="ea142-142">Chiamata di PageFunction e passaggio di parametri</span><span class="sxs-lookup"><span data-stu-id="ea142-142">Calling a PageFunction and Passing Parameters</span></span>  
 <span data-ttu-id="ea142-143">Per chiamare una pagina, la pagina chiamante deve inizializzare la pagina chiamata e passare all'utilizzo di <xref:System.Windows.Navigation.NavigationService.Navigate%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="ea142-143">To call a page, the calling page must instantiate the called page and navigate to it using the <xref:System.Windows.Navigation.NavigationService.Navigate%2A> method.</span></span> <span data-ttu-id="ea142-144">Ciò consente alla pagina chiamante di passare i dati iniziali alla pagina chiamata, ad esempio i valori predefiniti per i dati raccolti dalla pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-144">This allows the calling page to pass initial data to the called page, such as default values for the data being gathered by the called page.</span></span>  
  
 <span data-ttu-id="ea142-145">Il codice seguente illustra la pagina chiamata con un costruttore non predefinito che accetta parametri dalla pagina chiamante.</span><span class="sxs-lookup"><span data-stu-id="ea142-145">The following code shows the called page with a non-default constructor to accept parameters from the calling page.</span></span>  
  
 [!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind1)]
 [!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind1)]  
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind2)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind2)]  
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind3)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind3)]  
[!code-csharp[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#acceptsinitialdatacodebehind4)]
[!code-vb[StructuredNavigationSample#AcceptsInitialDataCODEBEHIND4](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#acceptsinitialdatacodebehind4)]  
  
 <span data-ttu-id="ea142-146">Il codice seguente illustra la gestione di pagina chiamante il <xref:System.Windows.Documents.Hyperlink.Click> evento del <xref:System.Windows.Documents.Hyperlink> per creare un'istanza di quest ' ultima e passare un valore stringa iniziale.</span><span class="sxs-lookup"><span data-stu-id="ea142-146">The following code shows the calling page handling the <xref:System.Windows.Documents.Hyperlink.Click> event of the <xref:System.Windows.Documents.Hyperlink> to instantiate the called page and pass it an initial string value.</span></span>  
  
 [!code-xaml[StructuredNavigationSample#PassingDataMARKUP2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml#passingdatamarkup2)]  
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind1)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind1)]  
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind2)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind2)]  
[!code-csharp[StructuredNavigationSample#PassingDataCODEBEHIND3](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#passingdatacodebehind3)]
[!code-vb[StructuredNavigationSample#PassingDataCODEBEHIND3](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#passingdatacodebehind3)]  
  
 <span data-ttu-id="ea142-147">Non è necessario passare parametri alla pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-147">You are not required to pass parameters to the called page.</span></span> <span data-ttu-id="ea142-148">In alternativa, è possibile eseguire quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ea142-148">Instead, you could do the following:</span></span>  
  
-   <span data-ttu-id="ea142-149">Dalla pagina chiamante:</span><span class="sxs-lookup"><span data-stu-id="ea142-149">From the calling page:</span></span>  
  
    1.  <span data-ttu-id="ea142-150">Creare un'istanza chiamata <xref:System.Windows.Navigation.PageFunction%601> utilizzando il costruttore predefinito.</span><span class="sxs-lookup"><span data-stu-id="ea142-150">Instantiate the called <xref:System.Windows.Navigation.PageFunction%601> using the default constructor.</span></span>  
  
    2.  <span data-ttu-id="ea142-151">Archiviare i parametri in <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="ea142-151">Store the parameters in <xref:System.Windows.Application.Properties%2A>.</span></span>  
  
    3.  <span data-ttu-id="ea142-152">Passare alla chiamata <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-152">Navigate to the called <xref:System.Windows.Navigation.PageFunction%601>.</span></span>  
  
-   <span data-ttu-id="ea142-153">Dall'oggetto chiamato <xref:System.Windows.Navigation.PageFunction%601>:</span><span class="sxs-lookup"><span data-stu-id="ea142-153">From the called <xref:System.Windows.Navigation.PageFunction%601>:</span></span>  
  
    -   <span data-ttu-id="ea142-154">Recuperare e utilizzare i parametri archiviati in <xref:System.Windows.Application.Properties%2A>.</span><span class="sxs-lookup"><span data-stu-id="ea142-154">Retrieve and use the parameters stored in <xref:System.Windows.Application.Properties%2A>.</span></span>  
  
 <span data-ttu-id="ea142-155">Tuttavia, come si vedrà successivamente, è comunque necessario usare il codice per creare un'istanza della pagina chiamata e spostarsi su di essa per raccogliere i dati restituiti dalla pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-155">But, as you'll see shortly, you'll still need use code to instantiate and navigate to the called page to collect the data returned by the called page.</span></span> <span data-ttu-id="ea142-156">Per questo motivo, il <xref:System.Windows.Navigation.PageFunction%601> deve essere mantenuto attivo; in caso contrario, la volta successiva che si passa al <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] crea un'istanza di <xref:System.Windows.Navigation.PageFunction%601> utilizzando il costruttore predefinito.</span><span class="sxs-lookup"><span data-stu-id="ea142-156">For this reason, the <xref:System.Windows.Navigation.PageFunction%601> needs to be kept alive; otherwise, the next time you navigate to the <xref:System.Windows.Navigation.PageFunction%601>, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] instantiates the <xref:System.Windows.Navigation.PageFunction%601> using the default constructor.</span></span>  
  
 <span data-ttu-id="ea142-157">Prima che sia possibile la restituzione della pagina chiamata, questa deve restituire i dati che possono essere recuperati dalla pagina chiamante.</span><span class="sxs-lookup"><span data-stu-id="ea142-157">Before the called page can return, however, it needs to return data that can be retrieved by the calling page.</span></span>  
  
### <a name="returning-task-result-and-task-data-from-a-task-to-a-calling-page"></a><span data-ttu-id="ea142-158">Restituzione del risultato dell'attività e dei dati dell'attività da un'attività a una pagina chiamante</span><span class="sxs-lookup"><span data-stu-id="ea142-158">Returning Task Result and Task Data from a Task to a Calling Page</span></span>  
 <span data-ttu-id="ea142-159">Al termine dell'uso della pagina chiamata da parte dell'utente, indicato in questo esempio dalla pressione dei pulsanti OK o Annulla, è necessaria la restituzione della pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-159">Once the user has finished using the called page, signified in this example by pressing either the OK or Cancel buttons, the called page needs to return.</span></span> <span data-ttu-id="ea142-160">Dal momento che la pagina chiamante ha usato la pagina chiamata per raccogliere dati dall'utente, la pagina chiamante richiede due tipi di informazioni:</span><span class="sxs-lookup"><span data-stu-id="ea142-160">Since the calling page used the called page to collect data from the user, the calling page requires two types of information:</span></span>  
  
1.  <span data-ttu-id="ea142-161">Se l'utente ha annullato la pagina chiamante (premendo il pulsante OK o il pulsante Annulla in questo esempio).</span><span class="sxs-lookup"><span data-stu-id="ea142-161">Whether the user canceled the called page (by pressing either the OK button or the Cancel button in this example).</span></span> <span data-ttu-id="ea142-162">Ciò consente alla pagina chiamante di determinare se elaborare i dati che la pagina chiamante ha raccolto dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ea142-162">This allows the calling page to determine whether to process the data that the calling page gathered from the user.</span></span>  
  
2.  <span data-ttu-id="ea142-163">I dati immessi dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ea142-163">The data that was provided by the user.</span></span>  
  
 <span data-ttu-id="ea142-164">Per restituire informazioni <xref:System.Windows.Navigation.PageFunction%601> implementa il <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> metodo.</span><span class="sxs-lookup"><span data-stu-id="ea142-164">To return information, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> method.</span></span> <span data-ttu-id="ea142-165">Il codice seguente illustra come chiamarlo.</span><span class="sxs-lookup"><span data-stu-id="ea142-165">The following code shows how to call it.</span></span>  
  
 [!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind1)]
 [!code-vb[StructuredNavigationSample#ReturnCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind1)]  
[!code-csharp[StructuredNavigationSample#ReturnCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CalledPageFunction.xaml.cs#returncodebehind2)]
[!code-vb[StructuredNavigationSample#ReturnCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CalledPageFunction.xaml.vb#returncodebehind2)]  
  
 <span data-ttu-id="ea142-166">In questo esempio se un utente preme il pulsante Annulla, viene restituito alla pagina chiamante un valore di `null`.</span><span class="sxs-lookup"><span data-stu-id="ea142-166">In this example, if a user presses the Cancel button, a value of `null` is returned to the calling page.</span></span> <span data-ttu-id="ea142-167">Se invece viene premuto il pulsante OK, viene restituito il valore di stringa immesso dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ea142-167">If the OK button is pressed instead, the string value provided by the user is returned.</span></span> <span data-ttu-id="ea142-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A>è un `protected``virtual` che viene chiamato per restituire i dati alla pagina chiamante.</span><span class="sxs-lookup"><span data-stu-id="ea142-168"><xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is a `protected``virtual` method that you call to return your data to the calling page.</span></span> <span data-ttu-id="ea142-169">I dati devono essere assemblati in un'istanza del tipo generico <xref:System.Windows.Navigation.ReturnEventArgs%601> tipo, il cui argomento tipo specifica il tipo di valore che <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> restituisce.</span><span class="sxs-lookup"><span data-stu-id="ea142-169">Your data needs to be packaged in an instance of the generic <xref:System.Windows.Navigation.ReturnEventArgs%601> type, whose type argument specifies the type of value that <xref:System.Windows.Navigation.ReturnEventArgs%601.Result%2A> returns.</span></span> <span data-ttu-id="ea142-170">In questo modo, quando si dichiara un <xref:System.Windows.Navigation.PageFunction%601> con un argomento di tipo specifico, viene dichiarato che un <xref:System.Windows.Navigation.PageFunction%601> restituirà un'istanza del tipo specificato dall'argomento di tipo.</span><span class="sxs-lookup"><span data-stu-id="ea142-170">In this way, when you declare a <xref:System.Windows.Navigation.PageFunction%601> with a particular type argument, you are stating that a <xref:System.Windows.Navigation.PageFunction%601> will return an instance of the type that is specified by the type argument.</span></span> <span data-ttu-id="ea142-171">In questo esempio, l'argomento di tipo e, di conseguenza, il valore restituito è di tipo <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="ea142-171">In this example, the type argument and, consequently, the return value is of type <xref:System.String>.</span></span>  
  
 <span data-ttu-id="ea142-172">Quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> viene chiamato, la pagina chiamante richiede un modo per ricevere il valore restituito di <xref:System.Windows.Navigation.PageFunction%601>.</span><span class="sxs-lookup"><span data-stu-id="ea142-172">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, the calling page needs some way of receiving the return value of the <xref:System.Windows.Navigation.PageFunction%601>.</span></span> <span data-ttu-id="ea142-173">Per questo motivo, <xref:System.Windows.Navigation.PageFunction%601> implementa il <xref:System.Windows.Navigation.PageFunction%601.Return> eventi per la chiamata di pagine da gestire.</span><span class="sxs-lookup"><span data-stu-id="ea142-173">For this reason, <xref:System.Windows.Navigation.PageFunction%601> implements the <xref:System.Windows.Navigation.PageFunction%601.Return> event for calling pages to handle.</span></span> <span data-ttu-id="ea142-174">Quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> viene chiamato, <xref:System.Windows.Navigation.PageFunction%601.Return> viene generato, pertanto la pagina chiamante può registrare con <xref:System.Windows.Navigation.PageFunction%601.Return> per ricevere la notifica.</span><span class="sxs-lookup"><span data-stu-id="ea142-174">When <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, <xref:System.Windows.Navigation.PageFunction%601.Return> is raised, so the calling page can register with <xref:System.Windows.Navigation.PageFunction%601.Return> to receive the notification.</span></span>  
  
 [!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind1)]
 [!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind1)]  
[!code-csharp[StructuredNavigationSample#ProcessResultCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/StructuredNavigationSample/CSharp/CallingPage.xaml.cs#processresultcodebehind2)]
[!code-vb[StructuredNavigationSample#ProcessResultCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/StructuredNavigationSample/VisualBasic/CallingPage.xaml.vb#processresultcodebehind2)]  
  
### <a name="removing-task-pages-when-a-task-completes"></a><span data-ttu-id="ea142-175">Rimozione delle pagine di attività al completamento di un'attività</span><span class="sxs-lookup"><span data-stu-id="ea142-175">Removing Task Pages When a Task Completes</span></span>  
 <span data-ttu-id="ea142-176">Al momento della restituzione di una pagina chiamata, se l'utente non la annulla, la pagina chiamante elabora i dati immessi dall'utente e restituiti dalla pagina chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea142-176">When a called page returns, and the user didn't cancel the called page, the calling page will process the data that was provided by the user and also returned from the called page.</span></span> <span data-ttu-id="ea142-177">Questo tipo di acquisizione dati è in genere un'attività isolata. Al momento della restituzione della pagina chiamata, la pagina chiamante deve creare una nuova pagina chiamante e spostarsi su di essa per acquisire altri dati.</span><span class="sxs-lookup"><span data-stu-id="ea142-177">Data acquisition in this way is usually an isolated activity; when the called page returns, the calling page needs to create and navigate to a new calling page to capture more data.</span></span>  
  
 <span data-ttu-id="ea142-178">Tuttavia, a meno che la pagina chiamata non venga rimossa dal journal, l'utente potrà spostarsi nuovamente su un'istanza precedente della pagina chiamante.</span><span class="sxs-lookup"><span data-stu-id="ea142-178">However, unless a called page is removed from the journal, a user will be able to navigate back to a previous instance of the calling page.</span></span> <span data-ttu-id="ea142-179">Se un <xref:System.Windows.Navigation.PageFunction%601> vengono conservate nel giornale di registrazione è determinato dal <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> proprietà.</span><span class="sxs-lookup"><span data-stu-id="ea142-179">Whether a <xref:System.Windows.Navigation.PageFunction%601> is retained in the journal is determined by the <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> property.</span></span> <span data-ttu-id="ea142-180">Per impostazione predefinita, una funzione di pagina viene automaticamente rimossa quando <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> viene chiamato perché <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> è impostato su `true`.</span><span class="sxs-lookup"><span data-stu-id="ea142-180">By default, a page function is automatically removed when <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called because <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> is set to `true`.</span></span> <span data-ttu-id="ea142-181">Per mantenere una funzione di pagina nella cronologia di navigazione dopo <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> viene chiamato, impostare <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> a `false`.</span><span class="sxs-lookup"><span data-stu-id="ea142-181">To keep a page function in navigation history after <xref:System.Windows.Navigation.PageFunction%601.OnReturn%2A> is called, set <xref:System.Windows.Navigation.PageFunctionBase.RemoveFromJournal%2A> to `false`.</span></span>  
  
<a name="Other_Types_of_Structured_Navigation"></a>   
## <a name="other-types-of-structured-navigation"></a><span data-ttu-id="ea142-182">Altri tipi di navigazione strutturata</span><span class="sxs-lookup"><span data-stu-id="ea142-182">Other Types of Structured Navigation</span></span>  
 <span data-ttu-id="ea142-183">In questo argomento viene illustrato l'utilizzo di base di un <xref:System.Windows.Navigation.PageFunction%601> per supportare chiamata/restituzione dello spostamento strutturato.</span><span class="sxs-lookup"><span data-stu-id="ea142-183">This topic illustrates the most basic use of a <xref:System.Windows.Navigation.PageFunction%601> to support call/return structured navigation.</span></span> <span data-ttu-id="ea142-184">Partendo da questo fondamento è possibile creare tipi più complessi di navigazione strutturata.</span><span class="sxs-lookup"><span data-stu-id="ea142-184">This foundation provides you with the ability to create more complex types of structured navigation.</span></span>  
  
 <span data-ttu-id="ea142-185">Ad esempio, talvolta una pagina chiamante richiede più pagine per raccogliere dati sufficienti da un utente o per eseguire un'attività.</span><span class="sxs-lookup"><span data-stu-id="ea142-185">For example, sometimes multiple pages are required by a calling page to gather enough data from a user or to perform a task.</span></span> <span data-ttu-id="ea142-186">L'uso di più pagine è indicato come "procedura guidata".</span><span class="sxs-lookup"><span data-stu-id="ea142-186">The use of multiple pages is referred to as a "wizard".</span></span>  
  
 <span data-ttu-id="ea142-187">In altri casi, le applicazioni possono presentare topologie di navigazione complesse il cui corretto funzionamento dipende dalla navigazione strutturata.</span><span class="sxs-lookup"><span data-stu-id="ea142-187">In other cases, applications may have complex navigation topologies that depend on structured navigation to operate effectively.</span></span> <span data-ttu-id="ea142-188">Per altre informazioni vedere [Cenni preliminari sulle topologie di navigazione](../../../../docs/framework/wpf/app-development/navigation-topologies-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ea142-188">For more information, see [Navigation Topologies Overview](../../../../docs/framework/wpf/app-development/navigation-topologies-overview.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ea142-189">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="ea142-189">See Also</span></span>  
 <xref:System.Windows.Navigation.PageFunction%601>  
 <xref:System.Windows.Navigation.NavigationService>  
 [<span data-ttu-id="ea142-190">Cenni preliminari sulle topologie di navigazione</span><span class="sxs-lookup"><span data-stu-id="ea142-190">Navigation Topologies Overview</span></span>](../../../../docs/framework/wpf/app-development/navigation-topologies-overview.md)
