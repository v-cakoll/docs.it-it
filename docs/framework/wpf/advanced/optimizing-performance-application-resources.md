---
title: 'Ottimizzazione delle prestazioni: risorse di applicazioni'
ms.date: 03/30/2017
helpviewer_keywords:
- application resources [WPF], performance
- resources [WPF], performance
- static resources [WPF]
- sharing resources [WPF]
- brushes [WPF], performance
- sharing brushes without copying [WPF]
ms.assetid: 62b88488-c08e-4804-b7de-a1c34fbe929c
ms.openlocfilehash: 53e906f31f32fb0f1df3f8d986daa0ae95ea9e4c
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/04/2018
ms.locfileid: "33546595"
---
# <a name="optimizing-performance-application-resources"></a><span data-ttu-id="a6253-102">Ottimizzazione delle prestazioni: risorse di applicazioni</span><span class="sxs-lookup"><span data-stu-id="a6253-102">Optimizing Performance: Application Resources</span></span>
[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="a6253-103"> Consente di condividere le risorse dell'applicazione in modo che è possibile supportare un comportamento coerente tra tipi simili di elementi.</span><span class="sxs-lookup"><span data-stu-id="a6253-103"> allows you to share application resources so that you can support a consistent look or behavior across similar-typed elements.</span></span> <span data-ttu-id="a6253-104">Questo argomento vengono fornite alcune indicazioni che consentono di migliorare le prestazioni delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="a6253-104">This topic provides a few recommendations in this area that can help you improve the performance of your applications.</span></span>  
  
 <span data-ttu-id="a6253-105">Per altre informazioni sulle risorse, vedere [Risorse XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="a6253-105">For more information on resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
## <a name="sharing-resources"></a><span data-ttu-id="a6253-106">La condivisione delle risorse</span><span class="sxs-lookup"><span data-stu-id="a6253-106">Sharing resources</span></span>  
 <span data-ttu-id="a6253-107">Se l'applicazione utilizza controlli personalizzati e definisce le risorse in un <xref:System.Windows.ResourceDictionary> (o nodo di risorse XAML), è consigliabile definire le risorse a livello di <xref:System.Windows.Application> o <xref:System.Windows.Window> oggetto livello oppure definirle nel tema predefinito per il controlli personalizzati.</span><span class="sxs-lookup"><span data-stu-id="a6253-107">If your application uses custom controls and defines resources in a <xref:System.Windows.ResourceDictionary> (or XAML Resources node), it is recommended that you either define the resources at the <xref:System.Windows.Application> or <xref:System.Windows.Window> object level, or define them in the default theme for the custom controls.</span></span> <span data-ttu-id="a6253-108">Definizione delle risorse in un controllo personalizzato <xref:System.Windows.ResourceDictionary> impone un impatto sulle prestazioni per ogni istanza del controllo.</span><span class="sxs-lookup"><span data-stu-id="a6253-108">Defining resources in a custom control's <xref:System.Windows.ResourceDictionary> imposes a performance impact for every instance of that control.</span></span> <span data-ttu-id="a6253-109">Ad esempio, se sono presenti operazioni di pennello a prestazioni intensive definite come parte della definizione di risorsa di un controllo personalizzato e numero di istanze del controllo personalizzato, il set di lavoro dell'applicazione aumenterà in modo significativo.</span><span class="sxs-lookup"><span data-stu-id="a6253-109">For example, if you have performance-intensive brush operations defined as part of the resource definition of a custom control and many instances of the custom control, the application's working set will increase significantly.</span></span>  
  
 <span data-ttu-id="a6253-110">Per illustrare questo punto, considerare quanto segue.</span><span class="sxs-lookup"><span data-stu-id="a6253-110">To illustrate this point, consider the following.</span></span> <span data-ttu-id="a6253-111">Si supponga che si sta sviluppando un gioco di smart card tramite [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a6253-111">Let's say you are developing a card game using [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="a6253-112">Per la maggior parte dei giochi di carte, è necessario 52 carte con 52 facce diverse.</span><span class="sxs-lookup"><span data-stu-id="a6253-112">For most card games, you need 52 cards with 52 different faces.</span></span> <span data-ttu-id="a6253-113">Si decide di implementare un controllo personalizzato di smart card e si definiscono 52 pennelli (ognuno dei quali rappresenta un tipo di carattere card) nelle risorse del controllo personalizzato delle carte.</span><span class="sxs-lookup"><span data-stu-id="a6253-113">You decide to implement a card custom control and you define 52 brushes (each representing a card face) in the resources of your card custom control.</span></span> <span data-ttu-id="a6253-114">Nell'applicazione principale, si creano inizialmente 52 istanze di tale controllo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a6253-114">In your main application, you initially create 52 instances of this card custom control.</span></span> <span data-ttu-id="a6253-115">Ogni istanza del controllo personalizzato scheda genera 52 istanze di <xref:System.Windows.Media.Brush> gli oggetti, che offre un totale di 52 \* 52 <xref:System.Windows.Media.Brush> oggetti nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a6253-115">Each instance of the card custom control generates 52 instances of <xref:System.Windows.Media.Brush> objects, which gives you a total of 52 \* 52 <xref:System.Windows.Media.Brush> objects in your application.</span></span> <span data-ttu-id="a6253-116">Spostando i pennelli esaurito le risorse di controllo personalizzato di smart card per il <xref:System.Windows.Application> o <xref:System.Windows.Window> livello di oggetto, oppure definendole nel tema predefinito per il controllo personalizzato, si riduce il working set dell'applicazione, poiché si condividono i 52 pennelli tra 52 istanze del controllo scheda.</span><span class="sxs-lookup"><span data-stu-id="a6253-116">By moving the brushes out of the card custom control resources to the <xref:System.Windows.Application> or <xref:System.Windows.Window> object level, or defining them in the default theme for the custom control, you reduce the working set of the application, since you are now sharing the 52 brushes among 52 instances of the card control.</span></span>  
  
## <a name="sharing-a-brush-without-copying"></a><span data-ttu-id="a6253-117">Condivisione di un pennello senza copia</span><span class="sxs-lookup"><span data-stu-id="a6253-117">Sharing a Brush without Copying</span></span>  
 <span data-ttu-id="a6253-118">Se si dispone di più elementi che utilizzano lo stesso <xref:System.Windows.Media.Brush> dell'oggetto, definire il pennello come una risorsa e fare riferimento, anziché definire il pennello inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a6253-118">If you have multiple elements using the same <xref:System.Windows.Media.Brush> object, define the brush as a resource and reference it, rather than defining the brush inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)].</span></span> <span data-ttu-id="a6253-119">Questo metodo verrà creata un'istanza e riutilizzare, mentre la definizione di pennelli inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] crea una nuova istanza per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="a6253-119">This method will create one instance and reuse it, whereas defining brushes inline in [!INCLUDE[TLA#tla_titlexaml](../../../../includes/tlasharptla-titlexaml-md.md)] creates a new instance for each element.</span></span>  
  
 <span data-ttu-id="a6253-120">L'esempio di codice seguente viene illustrato questo punto:</span><span class="sxs-lookup"><span data-stu-id="a6253-120">The following markup sample illustrates this point:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet7](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/BrushResource.xaml#performancesnippet7)]  
  
## <a name="use-static-resources-when-possible"></a><span data-ttu-id="a6253-121">Utilizzare risorse statiche quando possibile</span><span class="sxs-lookup"><span data-stu-id="a6253-121">Use Static Resources when Possible</span></span>  
 <span data-ttu-id="a6253-122">Una risorsa statica fornisce un valore per tutti gli attributi di proprietà XAML eseguendo la ricerca di un riferimento a una risorsa già definita.</span><span class="sxs-lookup"><span data-stu-id="a6253-122">A static resource provides a value for any XAML property attribute by looking up a reference to an already defined resource.</span></span> <span data-ttu-id="a6253-123">Il comportamento di ricerca per tale risorsa è analogo alla ricerca in fase di compilazione.</span><span class="sxs-lookup"><span data-stu-id="a6253-123">Lookup behavior for that resource is analogous to compile-time lookup.</span></span>  
  
 <span data-ttu-id="a6253-124">Una risorsa dinamica, d'altra parte, creare un'espressione temporanea durante la compilazione iniziale, pertanto viene rinviata ricerca per le risorse fino a quando il valore della risorsa richiesta è effettivamente necessario per costruire un oggetto.</span><span class="sxs-lookup"><span data-stu-id="a6253-124">A dynamic resource, on the other hand, will create a temporary expression during the initial compilation and thus defer lookup for resources until the requested resource value is actually required in order to construct an object.</span></span> <span data-ttu-id="a6253-125">Il comportamento di ricerca per tale risorsa è analogo alla ricerca in fase di esecuzione, che impone un impatto sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a6253-125">Lookup behavior for that resource is analogous to run-time lookup, which imposes a performance impact.</span></span> <span data-ttu-id="a6253-126">Utilizzare le risorse statiche ogni volta che è possibile in un'applicazione, con le risorse dinamiche solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="a6253-126">Use static resources whenever possible in your application, using dynamic resources only when necessary.</span></span>  
  
 <span data-ttu-id="a6253-127">L'esempio di codice seguente viene illustrato l'utilizzo di entrambi i tipi di risorse:</span><span class="sxs-lookup"><span data-stu-id="a6253-127">The following markup sample shows the use of both types of resources:</span></span>  
  
 [!code-xaml[Performance#PerformanceSnippet8](../../../../samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/DynamicResource.xaml#performancesnippet8)]  
  
## <a name="see-also"></a><span data-ttu-id="a6253-128">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="a6253-128">See Also</span></span>  
 [<span data-ttu-id="a6253-129">Ottimizzazione delle prestazioni di applicazioni WPF</span><span class="sxs-lookup"><span data-stu-id="a6253-129">Optimizing WPF Application Performance</span></span>](../../../../docs/framework/wpf/advanced/optimizing-wpf-application-performance.md)  
 [<span data-ttu-id="a6253-130">Pianificazione delle prestazioni dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="a6253-130">Planning for Application Performance</span></span>](../../../../docs/framework/wpf/advanced/planning-for-application-performance.md)  
 [<span data-ttu-id="a6253-131">Sfruttare appieno l'hardware</span><span class="sxs-lookup"><span data-stu-id="a6253-131">Taking Advantage of Hardware</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-taking-advantage-of-hardware.md)  
 [<span data-ttu-id="a6253-132">Ottimizzazione delle prestazioni: layout e progettazione</span><span class="sxs-lookup"><span data-stu-id="a6253-132">Layout and Design</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-layout-and-design.md)  
 [<span data-ttu-id="a6253-133">Grafica bidimensionale e creazione di immagini</span><span class="sxs-lookup"><span data-stu-id="a6253-133">2D Graphics and Imaging</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-2d-graphics-and-imaging.md)  
 [<span data-ttu-id="a6253-134">Comportamento dell'oggetto</span><span class="sxs-lookup"><span data-stu-id="a6253-134">Object Behavior</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-object-behavior.md)  
 [<span data-ttu-id="a6253-135">per</span><span class="sxs-lookup"><span data-stu-id="a6253-135">Text</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-text.md)  
 [<span data-ttu-id="a6253-136">Data binding</span><span class="sxs-lookup"><span data-stu-id="a6253-136">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)  
 [<span data-ttu-id="a6253-137">Altri suggerimenti relativi alle prestazioni</span><span class="sxs-lookup"><span data-stu-id="a6253-137">Other Performance Recommendations</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-other-recommendations.md)
