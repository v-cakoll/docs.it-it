---
title: Convertitori di tipi ed estensioni di markup per XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services
- XAML [XAML Services], value converters
- XAML [XAML Services], markup extension services
- value converters for XAML [XAML Services]
- XAML [XAML Services], service context
ms.assetid: db07a952-05ce-4aa4-b6f9-aac7397d0326
ms.openlocfilehash: d31d970e8e95726aa789f853ac12c4830498a743
ms.sourcegitcommit: bbfcc913c275885381820be28f61efcf8e83eecc
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/05/2019
ms.locfileid: "68796825"
---
# <a name="type-converters-and-markup-extensions-for-xaml"></a><span data-ttu-id="96178-102">Convertitori di tipi ed estensioni di markup per XAML</span><span class="sxs-lookup"><span data-stu-id="96178-102">Type Converters and Markup Extensions for XAML</span></span>
<span data-ttu-id="96178-103">I convertitori di tipi e le estensioni di markup sono due tecniche usate dai sistemi di tipi XAML e writer XAML per generare componenti dell'oggetto grafico.</span><span class="sxs-lookup"><span data-stu-id="96178-103">Type converters and markup extensions are two techniques that XAML type systems and XAML writers use to generate object graph components.</span></span> <span data-ttu-id="96178-104">Anche se condividono alcune caratteristiche, i convertitori di tipi e le estensioni di markup sono rappresentati in modo diverso in un flusso del nodo XAML.</span><span class="sxs-lookup"><span data-stu-id="96178-104">Although they share some characteristics, type converters and markup extensions are represented differently in a XAML node stream.</span></span> <span data-ttu-id="96178-105">In questo set di documentazione, i convertitori di tipi, le estensioni di markup e costrutti simili talvolta vengono detti collettivamente convertitori di valori.</span><span class="sxs-lookup"><span data-stu-id="96178-105">In this documentation set, type converters, markup extensions, and similar constructs are sometimes collectively referred to as value converters.</span></span>  
  
<a name="value_converters"></a>   
## <a name="value-converters"></a><span data-ttu-id="96178-106">Convertitori di valori</span><span class="sxs-lookup"><span data-stu-id="96178-106">Value Converters</span></span>  
 <span data-ttu-id="96178-107">In XAML i convertitori di valori vengono usati per vari scenari.</span><span class="sxs-lookup"><span data-stu-id="96178-107">In XAML, value converters are used for various scenarios.</span></span> <span data-ttu-id="96178-108">Nell'elenco seguente vengono indicati diversi tipi di convertitori di valori in XAML:</span><span class="sxs-lookup"><span data-stu-id="96178-108">The following list shows the different types of value converters in XAML:</span></span>  
  
- <span data-ttu-id="96178-109">Convertitore di tipi</span><span class="sxs-lookup"><span data-stu-id="96178-109">Type converter</span></span>  
  
- <span data-ttu-id="96178-110">Estensione di markup</span><span class="sxs-lookup"><span data-stu-id="96178-110">Markup extension</span></span>  
  
- <span data-ttu-id="96178-111">Serializzatore di valori</span><span class="sxs-lookup"><span data-stu-id="96178-111">Value serializer</span></span>  
  
- <span data-ttu-id="96178-112">Classe correlata o classe di supporto che fornisce la logica per una sintassi del testo XAML</span><span class="sxs-lookup"><span data-stu-id="96178-112">Related class or support class that provides the logic for a XAML text syntax</span></span>  
  
<a name="type_converters"></a>   
## <a name="type-converters"></a><span data-ttu-id="96178-113">Convertitori di tipi</span><span class="sxs-lookup"><span data-stu-id="96178-113">Type Converters</span></span>  
 <span data-ttu-id="96178-114">Nella definizione di servizi XAML di .NET Framework i convertitori di tipi sono classi che derivano dalla classe <xref:System.ComponentModel.TypeConverter> CLR.</span><span class="sxs-lookup"><span data-stu-id="96178-114">In the .NET Framework XAML Services definition, type converters are classes that derive from the CLR <xref:System.ComponentModel.TypeConverter> class.</span></span> <span data-ttu-id="96178-115"><xref:System.ComponentModel.TypeConverter>è una classe che era in Microsoft .NET Framework prima dell'esistenza di XAML.</span><span class="sxs-lookup"><span data-stu-id="96178-115"><xref:System.ComponentModel.TypeConverter> is a class that was in the Microsoft .NET Framework before XAML existed.</span></span> <span data-ttu-id="96178-116">Il suo scopo originale era supportare le finestre delle proprietà e le metafore di modifica basate su testo simili per le proprietà IDE.</span><span class="sxs-lookup"><span data-stu-id="96178-116">Its original purpose was to support property windows and similar text-based editing metaphors for IDE properties.</span></span> <span data-ttu-id="96178-117">L'introduzione di XAML a .NET Framework usa <xref:System.ComponentModel.TypeConverter> per convertire una sintassi del testo, come individuata in un valore di attributo o in un nodo di valori XAML, in un oggetto.</span><span class="sxs-lookup"><span data-stu-id="96178-117">The introduction of XAML to .NET Framework uses <xref:System.ComponentModel.TypeConverter> to convert a text syntax (as found in an attribute value or a XAML value node) into an object.</span></span> <span data-ttu-id="96178-118"><xref:System.ComponentModel.TypeConverter> può anche essere usato per serializzare un valore oggetto alla sintassi del testo.</span><span class="sxs-lookup"><span data-stu-id="96178-118"><xref:System.ComponentModel.TypeConverter> can also be used to serialize an object value to text syntax.</span></span> <span data-ttu-id="96178-119"><xref:System.ComponentModel.TypeConverter>è stato usato anche nelle implementazioni XAML specifiche del Framework precedenti in Windows Presentation Foundation (WPF) e Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="96178-119"><xref:System.ComponentModel.TypeConverter> was also used in previous framework-specific XAML implementations in Windows Presentation Foundation (WPF) and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="96178-120">Per altre informazioni su <xref:System.ComponentModel.TypeConverter> in XAML, vedere [Type Converters for XAML Overview](type-converters-for-xaml-overview.md).</span><span class="sxs-lookup"><span data-stu-id="96178-120">For more information about the <xref:System.ComponentModel.TypeConverter> in XAML, see [Type Converters for XAML Overview](type-converters-for-xaml-overview.md).</span></span>  
  
<a name="markup_extensions"></a>   
## <a name="markup-extensions"></a><span data-ttu-id="96178-121">Estensioni di markup</span><span class="sxs-lookup"><span data-stu-id="96178-121">Markup Extensions</span></span>  
 <span data-ttu-id="96178-122">Nell'implementazione di servizi XAML di .NET Framework, le estensioni di markup sono classi che derivano dalla classe <xref:System.Windows.Markup.MarkupExtension> .</span><span class="sxs-lookup"><span data-stu-id="96178-122">In the .NET Framework XAML Services implementation, markup extensions are classes that derive from the <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="96178-123">Le estensioni di markup sono un concetto che in questo formato è originato dal linguaggio XAML.</span><span class="sxs-lookup"><span data-stu-id="96178-123">Markup extensions are a concept that in this form is originated by the XAML language.</span></span> <span data-ttu-id="96178-124">È possibile considerare un'estensione di markup come una sequenza di escape estensibile che chiama una classe di servizio per fornirne la logica corrispondente.</span><span class="sxs-lookup"><span data-stu-id="96178-124">You can think of a markup extension as being something like an extensible escape sequence that calls into a service class to provide its logic.</span></span> <span data-ttu-id="96178-125">In termini di markup, i processori XAML riconoscono universalmente un'estensione di markup mediante una sequenza di testo che inizia con una parentesi graffa aperta ({) in una stringa di testo.</span><span class="sxs-lookup"><span data-stu-id="96178-125">In terms of markup, XAML processors universally recognize a markup extension by a text sequence that starts with an opening brace ({) in a text string.</span></span>  
  
 <span data-ttu-id="96178-126">Le estensioni di markup sono diverse dai convertitori di tipi.</span><span class="sxs-lookup"><span data-stu-id="96178-126">Markup extensions differ from type converters.</span></span> <span data-ttu-id="96178-127">I convertitori di tipi sono in genere associati a tipi o membri.</span><span class="sxs-lookup"><span data-stu-id="96178-127">Type converters are typically associated with types or members.</span></span> <span data-ttu-id="96178-128">Vengono richiamati quando una creazione dell'oggetto grafico o una serializzazione rileva una sintassi del testo associato a tali entità.</span><span class="sxs-lookup"><span data-stu-id="96178-128">They are invoked when an object graph creation or a serialization encounters text syntax that is associated with those entities.</span></span>  
  
 <span data-ttu-id="96178-129">Le estensioni di markup sono associate a una singola classe di servizio di supporto, ma possono essere applicate per qualsiasi valore del membro.</span><span class="sxs-lookup"><span data-stu-id="96178-129">Markup extensions are associated with a single supporting service class, but can be applied for any member value.</span></span> <span data-ttu-id="96178-130">È tuttavia possibile implementare l'estensione di markup per limitarne deliberatamente l'utilizzo a determinati membri o tipi di destinazione usando il contesto del servizio. Le estensioni di markup possono eseguire l'override di un'associazione del convertitore di tipi</span><span class="sxs-lookup"><span data-stu-id="96178-130">(However, you can implement your markup extension to deliberately restrict its use to certain members or destination types, by using service context.) Markup extensions can override a type converter association.</span></span> <span data-ttu-id="96178-131">oppure è possibile specificare un valore di attributo per i membri che altrimenti non supporterebbero una sintassi del testo.</span><span class="sxs-lookup"><span data-stu-id="96178-131">Or you can use them to specify an attribute value for members that would not otherwise support a text syntax.</span></span>  
  
 <span data-ttu-id="96178-132">Per altre informazioni sul modello di implementazione dell'estensione di markup per XAML, vedere [Markup Extensions for XAML Overview](markup-extensions-for-xaml-overview.md).</span><span class="sxs-lookup"><span data-stu-id="96178-132">For more information about the markup extension implementation pattern for XAML, see [Markup Extensions for XAML Overview](markup-extensions-for-xaml-overview.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="96178-133">I tipi <xref:System.Windows.Markup.MarkupExtension> e <xref:System.Windows.Markup.ValueSerializer> sono entrambi inclusi nello spazio dei nomi <xref:System.Windows.Markup> e non in quello <xref:System.Xaml> .</span><span class="sxs-lookup"><span data-stu-id="96178-133">The <xref:System.Windows.Markup.MarkupExtension> and <xref:System.Windows.Markup.ValueSerializer> types are both in the <xref:System.Windows.Markup> namespace and not in the <xref:System.Xaml> namespace.</span></span> <span data-ttu-id="96178-134">Ciò non implica che questi tipi siano specifici delle tecnologie WPF o Windows Forms che altrimenti popolano gli spazi dei nomi CLR che contengono la stringa `Windows`.</span><span class="sxs-lookup"><span data-stu-id="96178-134">This does not imply that these types are specific to either the WPF or Windows Forms technologies that otherwise populate CLR namespaces that contain the string `Windows`.</span></span> <span data-ttu-id="96178-135"><xref:System.Windows.Markup.MarkupExtension> e <xref:System.Windows.Markup.ValueSerializer> sono inclusi nell'assembly System.Xaml e non dispongono di alcuna dipendenza dal framework specifica.</span><span class="sxs-lookup"><span data-stu-id="96178-135"><xref:System.Windows.Markup.MarkupExtension> and <xref:System.Windows.Markup.ValueSerializer> are in the System.Xaml assembly and have no specific framework dependency.</span></span> <span data-ttu-id="96178-136">Questi tipi erano presenti nello spazio dei nomi CLR per .NET Framework 3,0 e rimangono nello spazio dei nomi CLR in .NET Framework 4 per evitare di suddividere i riferimenti nei progetti WPF esistenti.</span><span class="sxs-lookup"><span data-stu-id="96178-136">These types existed in the CLR namespace for .NET Framework 3.0 and remain in the CLR namespace in .NET Framework 4 to avoid breaking references in existing WPF projects.</span></span> <span data-ttu-id="96178-137">Per altre informazioni, vedere [Types Migrated from WPF to System.Xaml](types-migrated-from-wpf-to-system-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="96178-137">For more information, see [Types Migrated from WPF to System.Xaml](types-migrated-from-wpf-to-system-xaml.md).</span></span>  
  
<a name="value_serializers"></a>   
## <a name="value-serializers"></a><span data-ttu-id="96178-138">Serializzatori di valori</span><span class="sxs-lookup"><span data-stu-id="96178-138">Value Serializers</span></span>  
 <span data-ttu-id="96178-139">Un oggetto <xref:System.Windows.Markup.ValueSerializer> è un convertitore di tipi specializzato ottimizzato per la conversione di un oggetto in una stringa.</span><span class="sxs-lookup"><span data-stu-id="96178-139">A <xref:System.Windows.Markup.ValueSerializer> is a specialized type converter that is optimized for converting an object to a string.</span></span> <span data-ttu-id="96178-140">È possibile che un oggetto <xref:System.Windows.Markup.ValueSerializer> per XAML non implementi affatto il metodo `ConvertFrom` .</span><span class="sxs-lookup"><span data-stu-id="96178-140">A <xref:System.Windows.Markup.ValueSerializer> for XAML might not implement the `ConvertFrom` method at all.</span></span> <span data-ttu-id="96178-141">Con un'implementazione di <xref:System.Windows.Markup.ValueSerializer> si ottengono servizi in un modo simile a quello di un'implementazione di <xref:System.ComponentModel.TypeConverter> .</span><span class="sxs-lookup"><span data-stu-id="96178-141">A <xref:System.Windows.Markup.ValueSerializer> implementation obtains services in a manner that is like a <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="96178-142">I metodi virtuali forniscono un parametro di input `context` .</span><span class="sxs-lookup"><span data-stu-id="96178-142">The virtual methods provide an input `context` parameter.</span></span> <span data-ttu-id="96178-143">Il parametro `context` è di tipo <xref:System.Windows.Markup.IValueSerializerContext>, che eredita dall'interfaccia di <xref:System.IServiceProvider> e dispone di un metodo <xref:System.IServiceProvider.GetService%2A> .</span><span class="sxs-lookup"><span data-stu-id="96178-143">The `context` parameter is of type <xref:System.Windows.Markup.IValueSerializerContext>, which inherits from the <xref:System.IServiceProvider> interface and has a <xref:System.IServiceProvider.GetService%2A> method.</span></span>  
  
 <span data-ttu-id="96178-144">Nel sistema di tipi XAML e per le implementazioni del writer XAML che usano l'elaborazione del ciclo del nodo XAML per la serializzazione, un convertitore di valori associato a un tipo o a un membro viene segnalato dalla relativa proprietà <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="96178-144">In the XAML type system and for XAML writer implementations that use XAML node loop processing for serialization, a value converter that is associated with a type or member is reported by its own <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="96178-145">Il significato per i writer XAML che eseguono la serializzazione è che, in presenza di <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> e <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> , il convertitore di tipi deve essere usato per il percorso di caricamento e il serializzatore di valori deve essere usato per il percorso di salvataggio.</span><span class="sxs-lookup"><span data-stu-id="96178-145">The meaning to XAML writers that perform serialization is that if a <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> and <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> exist, the type converter should be used for the load path and the value serializer should be used for the save path.</span></span> <span data-ttu-id="96178-146">Se <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> esiste ma <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> è `null`, il convertitore di tipi viene usato anche per il percorso di salvataggio.</span><span class="sxs-lookup"><span data-stu-id="96178-146">If <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> exists but <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> is `null`, the type converter is also used for the save path.</span></span>  
  
<a name="other_value_converters"></a>   
## <a name="other-value-converters"></a><span data-ttu-id="96178-147">Altri convertitori di valori</span><span class="sxs-lookup"><span data-stu-id="96178-147">Other Value Converters</span></span>  
 <span data-ttu-id="96178-148">Un convertitore di valori è estensibile oltre i modelli specifici di un convertitore di tipi o un'estensione di markup.</span><span class="sxs-lookup"><span data-stu-id="96178-148">A value converter is extensible beyond the specific patterns of a type converter or a markup extension.</span></span> <span data-ttu-id="96178-149">Questa personalizzazione tuttavia richiede anche la ridefinizione del sistema di tipi XAML fornito dai servizi XAML di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="96178-149">However, this customization would also require the redefinition of the XAML type system as provided by .NET Framework XAML Services.</span></span> <span data-ttu-id="96178-150">Il sistema di tipi XAML esistente dispone di rappresentazioni e sistemi di report per convertitori di tipi, estensioni di markup e serializzatori di valori, ma non per moduli personalizzati di conversione dei valori.</span><span class="sxs-lookup"><span data-stu-id="96178-150">The existing XAML type system has representations and reporting systems for type converters, markup extensions, and value serializers, but not for custom forms of value conversion.</span></span> <span data-ttu-id="96178-151">Se si intendono creare convertitori di valori personalizzati, usare il tipo <xref:System.Xaml.Schema.XamlValueConverter%601> .</span><span class="sxs-lookup"><span data-stu-id="96178-151">If you want to create custom value converters, use the <xref:System.Xaml.Schema.XamlValueConverter%601> type.</span></span>  
  
<a name="type_converters_and_markup_extensions_in_combination"></a>   
## <a name="type-converters-and-markup-extensions-in-combination"></a><span data-ttu-id="96178-152">Convertitori di tipi ed estensioni di markup in combinazione</span><span class="sxs-lookup"><span data-stu-id="96178-152">Type Converters and Markup Extensions in Combination</span></span>  
 <span data-ttu-id="96178-153">I convertitori di tipi e le estensioni di markup vengono usati per situazioni diverse in XAML.</span><span class="sxs-lookup"><span data-stu-id="96178-153">Markup extensions and type converters are used for different situations in XAML.</span></span> <span data-ttu-id="96178-154">Anche se il contesto è disponibile per gli utilizzi di estensione di markup, il comportamento della conversione di tipi di proprietà in cui un'estensione di markup fornisce un valore in genere non è selezionato nelle implementazioni dell'estensione di markup.</span><span class="sxs-lookup"><span data-stu-id="96178-154">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="96178-155">In altre parole, anche se un'estensione di markup restituisce una stringa di testo come output di `ProvideValue` , non viene richiamato il comportamento di conversione di tipi su quella stringa così come applicato a una proprietà specifica o a un tipo di valore della proprietà.</span><span class="sxs-lookup"><span data-stu-id="96178-155">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked.</span></span> <span data-ttu-id="96178-156">Lo scopo di un'estensione di markup in genere è quello di elaborare una stringa e restituire un oggetto senza coinvolgere alcun convertitore di tipi.</span><span class="sxs-lookup"><span data-stu-id="96178-156">Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>  
  
<a name="service_context_for_a_value_converter"></a>   
## <a name="service-context-for-a-value-converter"></a><span data-ttu-id="96178-157">Contesto del servizio per un convertitore di valori</span><span class="sxs-lookup"><span data-stu-id="96178-157">Service Context for a Value Converter</span></span>  
 <span data-ttu-id="96178-158">Quando si implementa un convertitore di valori, è spesso necessario accedere a un contesto in cui viene applicato il convertitore di valori.</span><span class="sxs-lookup"><span data-stu-id="96178-158">When you implement a value converter, you often need access to a context in which the value converter is applied.</span></span> <span data-ttu-id="96178-159">Questo contesto è noto come contesto del servizio.</span><span class="sxs-lookup"><span data-stu-id="96178-159">This context is known as the service context.</span></span> <span data-ttu-id="96178-160">Il contesto del servizio può includere informazioni quali il contesto dello schema XAML attivo, l'accesso al sistema di mapping dei tipi fornito dal contesto dello schema XAML e dal writer di oggetti XAML e così via.</span><span class="sxs-lookup"><span data-stu-id="96178-160">The service context might include information such as the active XAML schema context, access to the type mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="96178-161">Per altre informazioni sui contesti del servizio disponibili per un convertitore di valori e sulle modalità di accesso ai servizi eventualmente forniti da un contesto del servizio, vedere [Contesti di servizio disponibili per convertitori di tipi ed estensioni di markup](service-contexts-available-to-type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="96178-161">For more information about the service contexts available for a value converter and how to access the services that a service context might provide, see [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-available-to-type-converters-and-markup-extensions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="96178-162">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="96178-162">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="96178-163">Panoramica delle estensioni di markup per XAML</span><span class="sxs-lookup"><span data-stu-id="96178-163">Markup Extensions for XAML Overview</span></span>](markup-extensions-for-xaml-overview.md)
- [<span data-ttu-id="96178-164">Panoramica dei convertitori di tipi per XAML</span><span class="sxs-lookup"><span data-stu-id="96178-164">Type Converters for XAML Overview</span></span>](type-converters-for-xaml-overview.md)
- [<span data-ttu-id="96178-165">Service Contexts Available to Type Converters and Markup Extensions</span><span class="sxs-lookup"><span data-stu-id="96178-165">Service Contexts Available to Type Converters and Markup Extensions</span></span>](service-contexts-available-to-type-converters-and-markup-extensions.md)
