---
title: Traccia e strumentazione di applicazioni
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- tracing [.NET Framework]
- debugging [.NET Framework], instrumentation
- performance monitoring, instrumentation
- instrumentation, about instrumentation
- tracing [.NET Framework], about tracing
- performance monitoring, tracing code
- Trace class, instrumentation for .NET applications
ms.assetid: 773b6fc4-9013-4322-b728-5dec7a72e743
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 9e1b8d5cb25445ffc3ce08e8c73e1d3742067e21
ms.sourcegitcommit: 5a28f8eb071fcc09b045b0c4ae4b96898673192e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/31/2019
ms.locfileid: "73196715"
---
# <a name="tracing-and-instrumenting-applications"></a><span data-ttu-id="48e87-102">Traccia e strumentazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="48e87-102">Tracing and Instrumenting Applications</span></span>
<span data-ttu-id="48e87-103">La traccia consente di monitorare l'esecuzione dell'applicazione mentre è in corso.</span><span class="sxs-lookup"><span data-stu-id="48e87-103">Tracing is a way for you to monitor the execution of your application while it is running.</span></span> <span data-ttu-id="48e87-104">È possibile aggiungere strumentazione di traccia e debug all'applicazione .NET Framework quando la si sviluppa e usare tale strumentazione sia mentre si sviluppa l'applicazione sia dopo la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="48e87-104">You can add tracing and debugging instrumentation to your .NET Framework application when you develop it, and you can use that instrumentation both while you are developing the application and after you have deployed it.</span></span> <span data-ttu-id="48e87-105">È possibile usare le classi <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType> e <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> per registrare le informazioni sugli errori e sull'esecuzione dell'applicazione in log, file di testo o altri dispositivi per un'analisi successiva.</span><span class="sxs-lookup"><span data-stu-id="48e87-105">You can use the <xref:System.Diagnostics.Trace?displayProperty=nameWithType>, <xref:System.Diagnostics.Debug?displayProperty=nameWithType>, and <xref:System.Diagnostics.TraceSource?displayProperty=nameWithType> classes to record information about errors and application execution in logs, text files, or other devices for later analysis.</span></span>  
  
 <span data-ttu-id="48e87-106">Il termine *strumentazione* si riferisce alla possibilità di monitorare o misurare il livello di prestazioni di un prodotto e di diagnosticare gli errori.</span><span class="sxs-lookup"><span data-stu-id="48e87-106">The term *instrumentation* refers to an ability to monitor or measure the level of a product's performance and to diagnose errors.</span></span> <span data-ttu-id="48e87-107">In programmazione, ciò significa la capacità di un'applicazione di incorporare:</span><span class="sxs-lookup"><span data-stu-id="48e87-107">In programming, this means the ability of an application to incorporate:</span></span>  
  
- <span data-ttu-id="48e87-108">**Traccia del codice** - Ricezione di messaggi informativi sull'esecuzione di un'applicazione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="48e87-108">**Code tracing** - Receiving informative messages about the execution of an application at run time.</span></span>  
  
- <span data-ttu-id="48e87-109">**Debug** - Rilevamento e correzione di errori di programmazione in un'applicazione in fase di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="48e87-109">**Debugging** - Tracking down and fixing programming errors in an application under development.</span></span> <span data-ttu-id="48e87-110">Per altre informazioni, vedere [Debug](/visualstudio/debugger/debugger-feature-tour).</span><span class="sxs-lookup"><span data-stu-id="48e87-110">For more information, see [Debugging](/visualstudio/debugger/debugger-feature-tour).</span></span>  
  
- <span data-ttu-id="48e87-111">**Contatori delle prestazioni** - Componenti che consentono di tenere traccia delle prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-111">**Performance counters** - Components that allow you to track the performance of your application.</span></span> <span data-ttu-id="48e87-112">Per altre informazioni, vedere [Contatori delle prestazioni](performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-112">For more information, see [Performance Counters](performance-counters.md).</span></span>  
  
- <span data-ttu-id="48e87-113">**Log eventi** - Componenti che consentono di ricevere e registrare i principali eventi durante l'esecuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-113">**Event logs** - Components that allow you receive and track major events in the execution of your application.</span></span> <span data-ttu-id="48e87-114">Per altre informazioni, vedere la classe <xref:System.Diagnostics.EventLog>.</span><span class="sxs-lookup"><span data-stu-id="48e87-114">For more information, see the <xref:System.Diagnostics.EventLog> class.</span></span>  
  
 <span data-ttu-id="48e87-115">La strumentazione dell'applicazione inserendo istruzioni di traccia in posizioni strategiche nel codice è particolarmente utile per le applicazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="48e87-115">Instrumenting your application by placing trace statements at strategic locations in your code is especially useful for distributed applications.</span></span> <span data-ttu-id="48e87-116">Usando istruzioni di traccia, è possibile instrumentare un'applicazione non solo per visualizzare informazioni in caso di problemi, ma anche per monitorare le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-116">By using trace statements you can instrument an application not only to display information when things go wrong, but also to monitor how well the application is performing.</span></span>  
  
 <span data-ttu-id="48e87-117">La classe <xref:System.Diagnostics.TraceSource> fornisce funzionalità di traccia avanzate e può essere usata al posto dei metodi statici delle versioni precedenti delle classi di traccia <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug>.</span><span class="sxs-lookup"><span data-stu-id="48e87-117">The <xref:System.Diagnostics.TraceSource> class provides enhanced tracing features and can be used in place of the static methods of the older <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> tracing classes.</span></span> <span data-ttu-id="48e87-118">Le familiari classi <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> vengono ancora ampiamente usate, ma la classe <xref:System.Diagnostics.TraceSource> è consigliata per i nuovi comandi di traccia, ad esempio <xref:System.Diagnostics.TraceSource.TraceEvent%2A> e <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span><span class="sxs-lookup"><span data-stu-id="48e87-118">The familiar <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are still widely used, but the <xref:System.Diagnostics.TraceSource> class is recommended for new tracing commands, such as <xref:System.Diagnostics.TraceSource.TraceEvent%2A> and <xref:System.Diagnostics.TraceSource.TraceData%2A>.</span></span>  
  
 <span data-ttu-id="48e87-119">Le classi <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> sono identiche, ad eccezione del fatto che le routine e le funzioni della classe <xref:System.Diagnostics.Trace> vengono compilate per impostazione predefinita nelle build di rilascio, mentre quelle della classe <xref:System.Diagnostics.Debug> no.</span><span class="sxs-lookup"><span data-stu-id="48e87-119">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes are identical, except that procedures and functions of the <xref:System.Diagnostics.Trace> class are compiled by default into release builds, but those of the <xref:System.Diagnostics.Debug> class are not.</span></span>  
  
 <span data-ttu-id="48e87-120">Le classi <xref:System.Diagnostics.Trace> e <xref:System.Diagnostics.Debug> consentono di monitorare ed esaminare le prestazioni dell'applicazione durante lo sviluppo o dopo la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="48e87-120">The <xref:System.Diagnostics.Trace> and <xref:System.Diagnostics.Debug> classes provide the means to monitor and examine application performance either during development or after deployment.</span></span> <span data-ttu-id="48e87-121">È ad esempio possibile utilizzare la classe <xref:System.Diagnostics.Trace> per tenere traccia di particolari tipi di azioni all'interno di un'applicazione distribuita man mano che si verificano (ad esempio la creazione di nuove connessioni a database) e monitorare quindi l'efficienza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-121">For example, you can use the <xref:System.Diagnostics.Trace> class to track particular types of actions in a deployed application as they occur (for example, creation of new database connections), and can therefore monitor the application's efficiency.</span></span>  
  
## <a name="code-tracing-and-debugging"></a><span data-ttu-id="48e87-122">Traccia e debug del codice</span><span class="sxs-lookup"><span data-stu-id="48e87-122">Code Tracing and Debugging</span></span>  
 <span data-ttu-id="48e87-123">Nella fase di sviluppo è possibile usare i metodi di output della classe <xref:System.Diagnostics.Debug> per visualizzare messaggi nella finestra di output dell'ambiente di sviluppo integrato (IDE) di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48e87-123">During development, you can use the output methods of the <xref:System.Diagnostics.Debug> class to display messages in the Output window of the Visual Studio integrated development environment (IDE).</span></span> <span data-ttu-id="48e87-124">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="48e87-124">For example:</span></span>  
  
```vb  
Trace.WriteLine("Hello World!")  
Debug.WriteLine("Hello World!")  
```  
  
```csharp  
System.Diagnostics.Trace.WriteLine("Hello World!");  
System.Diagnostics.Debug.WriteLine("Hello World!");  
```  
  
 <span data-ttu-id="48e87-125">In ciascuno di questi esempi viene visualizzato "Hello World!"</span><span class="sxs-lookup"><span data-stu-id="48e87-125">Each of these examples will display "Hello World!"</span></span> <span data-ttu-id="48e87-126">nella finestra di output quando l'applicazione viene eseguita nel debugger.</span><span class="sxs-lookup"><span data-stu-id="48e87-126">in the Output window when the application is run in the debugger.</span></span>  
  
 <span data-ttu-id="48e87-127">Ciò consente di eseguire il debug delle applicazioni e ottimizzarne le prestazioni in base al relativo comportamento nell'ambiente di test.</span><span class="sxs-lookup"><span data-stu-id="48e87-127">This enables you to debug your applications and optimize their performance based on their behavior in your test environment.</span></span> <span data-ttu-id="48e87-128">Il debug dell'applicazione può essere eseguito nella build di debug, attivando l'attributo condizionale <xref:System.Diagnostics.Debug> in modo da ricevere tutto l'output di debug.</span><span class="sxs-lookup"><span data-stu-id="48e87-128">You can debug your application in your debug build with the <xref:System.Diagnostics.Debug> conditional attribute turned on so that you receive all debugging output.</span></span> <span data-ttu-id="48e87-129">Quando l'applicazione è pronta per il rilascio, è possibile compilare la build di rilascio senza attivare l'attributo condizionale <xref:System.Diagnostics.Debug>, in modo che tramite il compilatore il codice di debug non venga incluso nell'eseguibile finale.</span><span class="sxs-lookup"><span data-stu-id="48e87-129">When your application is ready for release, you can compile your release build without turning on the <xref:System.Diagnostics.Debug> conditional attribute, so that the compiler will not include your debugging code in the final executable.</span></span> <span data-ttu-id="48e87-130">Per altre informazioni, vedere [Procedura: Compilare in modo condizionale con traccia e debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-130">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="48e87-131">Per altre informazioni sulle diverse configurazioni di compilazione per l'applicazione, vedere [Compilazione e creazione](/visualstudio/ide/compiling-and-building-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="48e87-131">For more information on different build configurations for your application, see [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio).</span></span>  
  
 <span data-ttu-id="48e87-132">È anche possibile tracciare l'esecuzione del codice in un'applicazione installata, usando i metodi della classe <xref:System.Diagnostics.Trace>.</span><span class="sxs-lookup"><span data-stu-id="48e87-132">You can also trace code execution in an installed application, using methods of the <xref:System.Diagnostics.Trace> class.</span></span> <span data-ttu-id="48e87-133">Inserendo [opzioni di traccia](trace-switches.md) nel codice, è possibile controllare l'esecuzione e l'entità della traccia.</span><span class="sxs-lookup"><span data-stu-id="48e87-133">By placing [Trace Switches](trace-switches.md) in your code, you can control whether tracing occurs and how extensive it is.</span></span> <span data-ttu-id="48e87-134">Ciò consente di monitorare lo stato dell'applicazione in un ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="48e87-134">This lets you monitor the status of your application in a production environment.</span></span> <span data-ttu-id="48e87-135">Questo aspetto è particolarmente importante in un'applicazione aziendale che usa più componenti in esecuzione in più computer.</span><span class="sxs-lookup"><span data-stu-id="48e87-135">This is especially important in a business application that uses multiple components running on multiple computers.</span></span> <span data-ttu-id="48e87-136">È possibile controllare la modalità di utilizzo delle opzioni dopo la distribuzione tramite il file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-136">You can control how the switches are used after deployment through the configuration file.</span></span> <span data-ttu-id="48e87-137">Per altre informazioni, vedere [Procedura: Creare, inizializzare e configurare opzioni di traccia](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-137">For more information, see [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
 <span data-ttu-id="48e87-138">Quando si sviluppa un'applicazione per la quale si prevede di usare la traccia, in genere si includono nel codice dell'applicazione sia i messaggi di traccia sia quelli di debug.</span><span class="sxs-lookup"><span data-stu-id="48e87-138">When you are developing an application for which you intend to use tracing, you usually include both tracing and debugging messages in the application code.</span></span> <span data-ttu-id="48e87-139">Quando si è pronti per distribuire l'applicazione, è possibile compilare la build di rilascio senza attivare l'attributo condizionale **Debug**.</span><span class="sxs-lookup"><span data-stu-id="48e87-139">When you are ready to deploy the application, you can compile your release build without turning on the **Debug** conditional attribute.</span></span> <span data-ttu-id="48e87-140">È tuttavia possibile attivare l'attributo condizionale **Trace**, in modo che il compilatore includa il codice di traccia nel file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="48e87-140">However, you can turn on the **Trace** conditional attribute so that the compiler includes your trace code in the executable.</span></span> <span data-ttu-id="48e87-141">Per altre informazioni, vedere [Procedura: Compilare in modo condizionale con traccia e debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-141">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span>  
  
### <a name="phases-of-code-tracing"></a><span data-ttu-id="48e87-142">Fasi di traccia del codice</span><span class="sxs-lookup"><span data-stu-id="48e87-142">Phases of Code Tracing</span></span>  
 <span data-ttu-id="48e87-143">La traccia del codice comprende tre fasi:</span><span class="sxs-lookup"><span data-stu-id="48e87-143">There are three phases of code tracing:</span></span>  
  
1. <span data-ttu-id="48e87-144">**Strumentazione**: il codice di traccia viene aggiunto all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-144">**Instrumentation** — you add trace code to your application.</span></span>  
  
2. <span data-ttu-id="48e87-145">**Traccia**: il codice di traccia scrive le informazioni nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="48e87-145">**Tracing** — the tracing code writes information to the specified target.</span></span>  
  
3. <span data-ttu-id="48e87-146">**Analisi**: le informazioni di traccia vengono valutate per identificare e comprendere i problemi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-146">**Analysis** — you evaluate the tracing information to identify and understand problems in the application.</span></span>  
  
 <span data-ttu-id="48e87-147">Durante lo sviluppo, tutti i metodi di output di traccia e debug scrivono informazioni nella finestra di output di Visual Studio per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="48e87-147">During development, all debug and trace output methods write information to the Output window in Visual Studio by default.</span></span> <span data-ttu-id="48e87-148">In un'applicazione distribuita, i metodi scrivono le informazioni di traccia nelle destinazioni specificate.</span><span class="sxs-lookup"><span data-stu-id="48e87-148">In a deployed application, the methods write tracing information to the targets you specify.</span></span> <span data-ttu-id="48e87-149">Per altre informazioni su come specificare una destinazione di output per la traccia o il debug, vedere [Listener di traccia](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-149">For more information on specifying an output target for tracing or debugging, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="48e87-150">Di seguito è illustrata una panoramica dei passaggi principali eseguiti in genere per usare la traccia per analizzare e correggere i problemi potenziali nelle applicazioni distribuite.</span><span class="sxs-lookup"><span data-stu-id="48e87-150">The following is an overall view of the major steps typically involved in using tracing to analyze and correct potential problems in deployed applications.</span></span> <span data-ttu-id="48e87-151">Per altre informazioni su come eseguire questi passaggi, fare clic sul collegamento appropriato.</span><span class="sxs-lookup"><span data-stu-id="48e87-151">For more information on how to perform these steps, see the appropriate link.</span></span>  
  
##### <a name="to-use-tracing-in-an-application"></a><span data-ttu-id="48e87-152">Per usare la traccia in un'applicazione</span><span class="sxs-lookup"><span data-stu-id="48e87-152">To use tracing in an application</span></span>  
  
1. <span data-ttu-id="48e87-153">Determinare l'output di traccia che si desidera ricevere dopo aver distribuito l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-153">Consider which tracing output you will want to receive onsite after you have deployed the application.</span></span>  
  
2. <span data-ttu-id="48e87-154">Creare un set di opzioni.</span><span class="sxs-lookup"><span data-stu-id="48e87-154">Create a set of switches.</span></span> <span data-ttu-id="48e87-155">Per altre informazioni, vedere [Procedura: Configurare le opzioni di traccia](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-155">For more information, see [How to: Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
3. <span data-ttu-id="48e87-156">Aggiungere istruzioni di traccia al codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-156">Add the trace statements to the application code.</span></span>  
  
4. <span data-ttu-id="48e87-157">Determinare dove si desidera visualizzare l'output di traccia e aggiungere i listener appropriati.</span><span class="sxs-lookup"><span data-stu-id="48e87-157">Determine where you want the tracing output to appear and add the appropriate listeners.</span></span> <span data-ttu-id="48e87-158">Per altre informazioni, vedere [Creazione e inizializzazione di listener di traccia](how-to-create-and-initialize-trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-158">For more information, see [Creating and Initializing Trace Listeners](how-to-create-and-initialize-trace-listeners.md).</span></span>  
  
5. <span data-ttu-id="48e87-159">Eseguire il test e il debug dell'applicazione e del codice di traccia contenuto.</span><span class="sxs-lookup"><span data-stu-id="48e87-159">Test and debug your application and the tracing code it contains.</span></span>  
  
6. <span data-ttu-id="48e87-160">Compilare l'applicazione nel codice eseguibile usando una delle procedure seguenti:</span><span class="sxs-lookup"><span data-stu-id="48e87-160">Compile the application into executable code using one of the following procedures:</span></span>  
  
    - <span data-ttu-id="48e87-161">Usare il menu **Compila** con la pagina **Debug** della finestra di dialogo **Pagine delle proprietà** in **Esplora soluzioni**.</span><span class="sxs-lookup"><span data-stu-id="48e87-161">Use the **Build** menu along with the **Debug** page of the **Property Pages** dialog box in **Solution Explorer**.</span></span> <span data-ttu-id="48e87-162">Usare questa opzione quando si esegue la compilazione in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="48e87-162">Use this when compiling in Visual Studio.</span></span>  
  
         <span data-ttu-id="48e87-163">\- oppure -</span><span class="sxs-lookup"><span data-stu-id="48e87-163">\- or -</span></span>  
  
    - <span data-ttu-id="48e87-164">Usare le direttive del compilatore **Trace** e **Debug** per il metodo di compilazione dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="48e87-164">Use the **Trace** and **Debug** compiler directives for the command-line method of compiling.</span></span> <span data-ttu-id="48e87-165">Per altre informazioni, vedere [Compilazione condizionale con analisi e debug](how-to-compile-conditionally-with-trace-and-debug.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-165">For more information, see [Compiling Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md).</span></span> <span data-ttu-id="48e87-166">Usare questa opzione quando si compila dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="48e87-166">Use this when compiling from the command line.</span></span>  
  
7. <span data-ttu-id="48e87-167">Se si verifica un problema in fase di esecuzione, attivare l'opzione di traccia appropriata.</span><span class="sxs-lookup"><span data-stu-id="48e87-167">If a problem occurs during run time, turn on the appropriate trace switch.</span></span> <span data-ttu-id="48e87-168">Per altre informazioni, vedere [Configurazione delle opzioni di traccia](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-168">For more information, see [Configuring Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span>  
  
     <span data-ttu-id="48e87-169">Il codice di traccia scrive i messaggi di traccia in una destinazione specificata, ad esempio sullo schermo, in un file di testo o in un log eventi.</span><span class="sxs-lookup"><span data-stu-id="48e87-169">The tracing code writes tracing messages to a specified target, for example, a screen, a text file, or an event log.</span></span> <span data-ttu-id="48e87-170">Il tipo di listener incluso nella raccolta **Trace.Listeners** determina la destinazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-170">The type of listener you included in the **Trace.Listeners** collection determines the target.</span></span>  
  
8. <span data-ttu-id="48e87-171">Analizzare i messaggi di traccia per identificare e comprendere il problema nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="48e87-171">Analyze the tracing messages to identify and understand the problem in the application.</span></span>  
  
## <a name="trace-instrumentation-and-distributed-applications"></a><span data-ttu-id="48e87-172">Strumentazione della traccia e applicazioni distribuite</span><span class="sxs-lookup"><span data-stu-id="48e87-172">Trace Instrumentation and Distributed Applications</span></span>  
 <span data-ttu-id="48e87-173">Quando si crea un'applicazione distribuita, può risultare difficile testare l'applicazione nel modo in cui verrà usata.</span><span class="sxs-lookup"><span data-stu-id="48e87-173">When you create a distributed application, you might find it difficult to test the application in the manner in which it will be used.</span></span> <span data-ttu-id="48e87-174">Pochi team di sviluppo sono in grado di verificare tutte le possibili combinazioni di sistemi operativi o Web browser (incluse tutte le opzioni di lingua localizzate) o di simulare l'elevato numero di utenti che accederanno all'applicazione contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="48e87-174">Few development teams have the capability to test all possible combinations of operating systems or Web browsers (including all the localized language options), or to simulate the high number of users that will access the application at the same time.</span></span> <span data-ttu-id="48e87-175">In questi casi, non è possibile verificare in che modo risponderà un'applicazione distribuita in caso di volumi elevati, installazioni diverse e comportamenti univoci degli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="48e87-175">Under these circumstances, you cannot test how a distributed application will respond to high volumes, different setups, and unique end-user behaviors.</span></span> <span data-ttu-id="48e87-176">Numerose parti di un'applicazione distribuita, inoltre, non dispongono di un'interfaccia utente con cui è possibile interagire direttamente o visualizzare l'attività di tali parti.</span><span class="sxs-lookup"><span data-stu-id="48e87-176">Also, many parts of a distributed application have no user interface with which you can interact directly or view the activity of those parts.</span></span>  
  
 <span data-ttu-id="48e87-177">È tuttavia possibile rimediare a questa mancanza consentendo alle applicazioni distribuite di descrivere determinati eventi di interesse per gli amministratori di sistema, in particolare in caso di problemi, tramite *strumentazione* dell'applicazione, ovvero inserendo istruzioni di traccia in posizioni strategiche nel codice.</span><span class="sxs-lookup"><span data-stu-id="48e87-177">However, you can compensate for this by enabling distributed applications to describe certain events of interest to system administrators, especially things that go wrong, by *instrumenting* the application — that is, by placing trace statements at strategic locations in your code.</span></span> <span data-ttu-id="48e87-178">Se quindi si verifica un evento imprevisto in fase di esecuzione (ad esempio tempi di risposta eccessivamente lenti), è possibile determinare la causa più probabile.</span><span class="sxs-lookup"><span data-stu-id="48e87-178">Then if something unexpected occurs at run time (for example, excessively slow response time), you can determine the likely cause.</span></span>  
  
 <span data-ttu-id="48e87-179">Con le istruzioni di traccia, è possibile evitare le complesse attività di analisi del codice sorgente originale, modifica, ricompilazione e tentativo di generare l'errore di run-time all'interno nell'ambiente di debug.</span><span class="sxs-lookup"><span data-stu-id="48e87-179">With trace statements you can avoid the difficult task of examining the original source code, modifying it, recompiling, and attempting to produce the run-time error within the debugging environment.</span></span> <span data-ttu-id="48e87-180">Tenere presente che è possibile instrumentare un'applicazione non solo per visualizzare gli errori, ma anche per monitorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="48e87-180">Remember that you can instrument an application not only to display errors, but also to monitor performance.</span></span>  
  
## <a name="strategic-placement-of-trace-statements"></a><span data-ttu-id="48e87-181">Posizionamento strategico delle istruzioni di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-181">Strategic Placement of Trace Statements</span></span>  
 <span data-ttu-id="48e87-182">È necessario prestare particolare attenzione durante il posizionamento delle istruzioni di traccia da usare in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="48e87-182">You must exercise special care when placing your trace statements for use during run time.</span></span> <span data-ttu-id="48e87-183">È necessario valutare quali informazioni di traccia saranno necessarie in un'applicazione distribuita, in modo da includere tutti gli scenari di traccia probabili.</span><span class="sxs-lookup"><span data-stu-id="48e87-183">You must consider what tracing information is likely to be needed in a deployed application, so that all likely tracing scenarios are adequately covered.</span></span> <span data-ttu-id="48e87-184">Poiché le applicazioni che usano la traccia variano notevolmente, tuttavia, non vi sono linee guida generali per il posizionamento strategico della traccia.</span><span class="sxs-lookup"><span data-stu-id="48e87-184">Because applications that use tracing vary widely, however, there are no general guidelines for strategic placement of tracing.</span></span> <span data-ttu-id="48e87-185">Per ulteriori informazioni sull'inserimento delle istruzioni di traccia, vedere [procedura: Aggiungere istruzioni di traccia al codice dell'applicazione](how-to-add-trace-statements-to-application-code.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-185">For more information on placing trace statements, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md).</span></span>  
  
## <a name="output-from-tracing"></a><span data-ttu-id="48e87-186">Output della traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-186">Output from Tracing</span></span>  
 <span data-ttu-id="48e87-187">L'output di traccia viene raccolto da oggetti denominati *listener*.</span><span class="sxs-lookup"><span data-stu-id="48e87-187">Trace output is collected by objects called *listeners*.</span></span> <span data-ttu-id="48e87-188">Un listener è un oggetto che riceve l'output di traccia e lo scrive in un dispositivo di output (in genere una finestra, un log o un file di testo).</span><span class="sxs-lookup"><span data-stu-id="48e87-188">A listener is an object that receives trace output and writes it to an output device (usually a window, log, or text file).</span></span> <span data-ttu-id="48e87-189">Quando viene creato un listener di traccia, viene in genere aggiunto alla raccolta di proprietà <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType>, in modo che possa ricevere tutti gli output di traccia.</span><span class="sxs-lookup"><span data-stu-id="48e87-189">When a trace listener is created, it is typically added to the <xref:System.Diagnostics.Trace.Listeners%2A?displayProperty=nameWithType> collection, allowing the listener to receive all trace output.</span></span>  
  
 <span data-ttu-id="48e87-190">Le informazioni sulla traccia vengono sempre scritte almeno nella destinazione di output predefinita dell'oggetto <xref:System.Diagnostics.Trace>, cioè <xref:System.Diagnostics.DefaultTraceListener>.</span><span class="sxs-lookup"><span data-stu-id="48e87-190">Tracing information is always written at least to the default <xref:System.Diagnostics.Trace> output target, the <xref:System.Diagnostics.DefaultTraceListener>.</span></span> <span data-ttu-id="48e87-191">Se per qualche ragione è stato eliminato l'oggetto <xref:System.Diagnostics.DefaultTraceListener> senza aggiungere altri listener alla raccolta di proprietà <xref:System.Diagnostics.Trace.Listeners%2A>, non verrà ricevuto alcun messaggio di traccia.</span><span class="sxs-lookup"><span data-stu-id="48e87-191">If for some reason you have deleted the <xref:System.Diagnostics.DefaultTraceListener> without adding any other listeners to the <xref:System.Diagnostics.Trace.Listeners%2A> collection, you will not receive any tracing messages.</span></span> <span data-ttu-id="48e87-192">Per altre informazioni, vedere [Listener di traccia](trace-listeners.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-192">For more information, see [Trace Listeners](trace-listeners.md).</span></span>  
  
 <span data-ttu-id="48e87-193">I sei membri <xref:System.Diagnostics.Debug> e metodi <xref:System.Diagnostics.Trace> tramite i quali vengono scritte informazioni sulla traccia sono elencati nella tabella riportata di seguito.</span><span class="sxs-lookup"><span data-stu-id="48e87-193">The six <xref:System.Diagnostics.Debug> members and <xref:System.Diagnostics.Trace> methods that write tracing information are listed in the following table.</span></span>  
  
|<span data-ttu-id="48e87-194">Metodo</span><span class="sxs-lookup"><span data-stu-id="48e87-194">Method</span></span>|<span data-ttu-id="48e87-195">Output</span><span class="sxs-lookup"><span data-stu-id="48e87-195">Output</span></span>|  
|------------|------------|  
|<span data-ttu-id="48e87-196">**Assert**</span><span class="sxs-lookup"><span data-stu-id="48e87-196">**Assert**</span></span>|<span data-ttu-id="48e87-197">Il testo specificato oppure, se non è specificato, lo stack di chiamate.</span><span class="sxs-lookup"><span data-stu-id="48e87-197">The specified text; or, if none is specified, the Call Stack.</span></span> <span data-ttu-id="48e87-198">L'output viene scritto solo se la condizione specificata come argomento nell'istruzione **Assert** è **false**.</span><span class="sxs-lookup"><span data-stu-id="48e87-198">The output is written only if the condition specified as an argument in the **Assert** statement is **false**.</span></span>|  
|<span data-ttu-id="48e87-199">**Fail**</span><span class="sxs-lookup"><span data-stu-id="48e87-199">**Fail**</span></span>|<span data-ttu-id="48e87-200">Il testo specificato oppure, se non è specificato, lo stack di chiamate.</span><span class="sxs-lookup"><span data-stu-id="48e87-200">The specified text; or, if none is specified, the Call Stack.</span></span>|  
|<span data-ttu-id="48e87-201">**Write**</span><span class="sxs-lookup"><span data-stu-id="48e87-201">**Write**</span></span>|<span data-ttu-id="48e87-202">Il testo specificato.</span><span class="sxs-lookup"><span data-stu-id="48e87-202">The specified text.</span></span>|  
|<span data-ttu-id="48e87-203">**WriteIf**</span><span class="sxs-lookup"><span data-stu-id="48e87-203">**WriteIf**</span></span>|<span data-ttu-id="48e87-204">Il testo specificato, se la condizione specificata come argomento nell'istruzione **WriteIf** viene soddisfatta.</span><span class="sxs-lookup"><span data-stu-id="48e87-204">The specified text, if the condition specified as an argument in the **WriteIf** statement is satisfied.</span></span>|  
|<span data-ttu-id="48e87-205">**WriteLine**</span><span class="sxs-lookup"><span data-stu-id="48e87-205">**WriteLine**</span></span>|<span data-ttu-id="48e87-206">Il testo specificato e un ritorno a capo.</span><span class="sxs-lookup"><span data-stu-id="48e87-206">The specified text and a carriage return.</span></span>|  
|<span data-ttu-id="48e87-207">**WriteLineIf**</span><span class="sxs-lookup"><span data-stu-id="48e87-207">**WriteLineIf**</span></span>|<span data-ttu-id="48e87-208">Il testo specificato e un ritorno a capo, se la condizione specificata come argomento nell'istruzione **WriteLineIf** viene soddisfatta.</span><span class="sxs-lookup"><span data-stu-id="48e87-208">The specified text and a carriage return, if the condition specified as an argument in the **WriteLineIf** statement is satisfied.</span></span>|  
  
 <span data-ttu-id="48e87-209">I messaggi descritti nella tabella precedente vengono ricevuti da tutti i listener nella raccolta di proprietà <xref:System.Diagnostics.Trace.Listeners%2A>, ma le azioni intraprese possono variare in base al tipo di listener che riceve il messaggio.</span><span class="sxs-lookup"><span data-stu-id="48e87-209">All listeners in the <xref:System.Diagnostics.Trace.Listeners%2A> collection receive the messages described in the above table, but the actions taken may vary depending on what kind of listener receives the message.</span></span> <span data-ttu-id="48e87-210">Ad esempio, nell'oggetto <xref:System.Diagnostics.DefaultTraceListener> viene visualizzata una finestra di dialogo di asserzione quando viene ricevuta una notifica **Fail** o **Assert** non riuscita, mentre un oggetto <xref:System.Diagnostics.TextWriterTraceListener> scrive semplicemente l'output nel relativo flusso.</span><span class="sxs-lookup"><span data-stu-id="48e87-210">For example, the <xref:System.Diagnostics.DefaultTraceListener> displays an assertion dialog box when it receives a **Fail** or failed **Assert** notification, but a <xref:System.Diagnostics.TextWriterTraceListener> simply writes the output to its stream.</span></span>  
  
 <span data-ttu-id="48e87-211">È possibile produrre risultati personalizzati implementando un listener personalizzato.</span><span class="sxs-lookup"><span data-stu-id="48e87-211">You can produce custom results by implementing your own listener.</span></span> <span data-ttu-id="48e87-212">Un listener di traccia personalizzato potrebbe, ad esempio, visualizzare i messaggi in una finestra di messaggio o connettersi a un database per aggiungere messaggi a una tabella.</span><span class="sxs-lookup"><span data-stu-id="48e87-212">A custom trace listener might, for example, display the messages to a message box, or connect to a database to add messages to a table.</span></span> <span data-ttu-id="48e87-213">Tutti i listener personalizzati devono supportare i sei metodi indicati in precedenza.</span><span class="sxs-lookup"><span data-stu-id="48e87-213">All custom listeners should support the six methods mentioned above.</span></span> <span data-ttu-id="48e87-214">Per altre informazioni sulla creazione di listener definiti dallo sviluppatore, vedere <xref:System.Diagnostics.TraceListener> negli argomenti di riferimento su .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="48e87-214">For more information on creating developer-defined listeners, see <xref:System.Diagnostics.TraceListener> in the .NET Framework reference.</span></span>  
  
 <span data-ttu-id="48e87-215">I metodi **Write** e **WriteLine** scrivono sempre il testo specificato.</span><span class="sxs-lookup"><span data-stu-id="48e87-215">The **Write** and **WriteLine** methods always write the text that you specify.</span></span> <span data-ttu-id="48e87-216">Per **Assert**, **WriteIf** e **WriteLineIf** è richiesto un argomento booleano tramite cui viene controllato se viene scritto o meno il testo specificato. Questa operazione viene eseguita solo se l'espressione è **true** (per **WriteIf** e **WriteLineIf**) o **false** (per **Assert**).</span><span class="sxs-lookup"><span data-stu-id="48e87-216">**Assert**, **WriteIf**, and **WriteLineIf** require a Boolean argument that controls whether or not they write the specified text; they write the specified text only if the expression is **true** (for **WriteIf** and **WriteLineIf**), or **false** (for **Assert**).</span></span> <span data-ttu-id="48e87-217">Il metodo **Fail** scrive sempre il testo specificato.</span><span class="sxs-lookup"><span data-stu-id="48e87-217">The **Fail** method always writes the specified text.</span></span> <span data-ttu-id="48e87-218">Per altre informazioni, vedere [Procedura: Aggiungere istruzioni di traccia al codice dell'applicazione](how-to-add-trace-statements-to-application-code.md) e il riferimento .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="48e87-218">For more information, see [How to: Add Trace Statements to Application Code](how-to-add-trace-statements-to-application-code.md) and the .NET Framework reference.</span></span>  
  
## <a name="security-concerns"></a><span data-ttu-id="48e87-219">Problemi di sicurezza</span><span class="sxs-lookup"><span data-stu-id="48e87-219">Security Concerns</span></span>  
 <span data-ttu-id="48e87-220">Se non si disabilitano la traccia e il debug prima di distribuire un'applicazione ASP.NET, l'applicazione può rivelare informazioni su se stessa che potrebbero venire sfruttate da un programma dannoso.</span><span class="sxs-lookup"><span data-stu-id="48e87-220">If you do not disable tracing and debugging before deploying an ASP.NET application, your application may reveal information about itself that could be exploited by a malicious program.</span></span> <span data-ttu-id="48e87-221">Per altre informazioni, vedere [Procedura: Compila in modo condizionale con traccia e debug](how-to-compile-conditionally-with-trace-and-debug.md), [compilazione e compilazione](/visualstudio/ide/compiling-and-building-in-visual-studio)e [procedura: Creare, inizializzare e configurare opzioni di traccia](how-to-create-initialize-and-configure-trace-switches.md).</span><span class="sxs-lookup"><span data-stu-id="48e87-221">For more information, see [How to: Compile Conditionally with Trace and Debug](how-to-compile-conditionally-with-trace-and-debug.md), [Compiling and Building](/visualstudio/ide/compiling-and-building-in-visual-studio), and [How to: Create, Initialize and Configure Trace Switches](how-to-create-initialize-and-configure-trace-switches.md).</span></span> <span data-ttu-id="48e87-222">Il debug può essere configurato anche tramite Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="48e87-222">Debugging is also configurable through Internet Information Services (IIS).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="48e87-223">Vedere anche</span><span class="sxs-lookup"><span data-stu-id="48e87-223">See also</span></span>

- <xref:System.Diagnostics.Trace>
- <xref:System.Diagnostics.TraceSource>
- [<span data-ttu-id="48e87-224">Contratti di codice</span><span class="sxs-lookup"><span data-stu-id="48e87-224">Code Contracts</span></span>](code-contracts.md)
- [<span data-ttu-id="48e87-225">Tipi di progetto C#, F# e Visual Basic</span><span class="sxs-lookup"><span data-stu-id="48e87-225">C#, F#, and Visual Basic Project Types</span></span>](/visualstudio/debugger/debugging-preparation-csharp-f-hash-and-visual-basic-project-types)
- [<span data-ttu-id="48e87-226">Procedura: Aggiungere istruzioni di traccia al codice dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="48e87-226">How to: Add Trace Statements to Application Code</span></span>](how-to-add-trace-statements-to-application-code.md)
- [<span data-ttu-id="48e87-227">Procedura: Compilare in modo condizionale con traccia e debug</span><span class="sxs-lookup"><span data-stu-id="48e87-227">How to: Compile Conditionally with Trace and Debug</span></span>](how-to-compile-conditionally-with-trace-and-debug.md)
- [<span data-ttu-id="48e87-228">Procedura: Creare, inizializzare e configurare opzioni di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-228">How to: Create, Initialize and Configure Trace Switches</span></span>](how-to-create-initialize-and-configure-trace-switches.md)
- [<span data-ttu-id="48e87-229">Procedura: Creare e inizializzare origini di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-229">How to: Create and Initialize Trace Sources</span></span>](how-to-create-and-initialize-trace-sources.md)
- [<span data-ttu-id="48e87-230">Procedura: Usare TraceSource e i filtri con i listener di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-230">How to: Use TraceSource and Filters with Trace Listeners</span></span>](how-to-use-tracesource-and-filters-with-trace-listeners.md)
- [<span data-ttu-id="48e87-231">Listener di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-231">Trace Listeners</span></span>](trace-listeners.md)
- [<span data-ttu-id="48e87-232">Opzioni di traccia</span><span class="sxs-lookup"><span data-stu-id="48e87-232">Trace Switches</span></span>](trace-switches.md)
