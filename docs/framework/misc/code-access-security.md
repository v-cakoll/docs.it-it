---
title: Sicurezza dall'accesso di codice
description: Informazioni sul meccanismo di sicurezza dall'accesso di codice in .NET, che consente di proteggere i sistemi informatici da codice mobile dannoso.
ms.date: 03/30/2017
helpviewer_keywords:
- named permission sets, code access security
- call stacks
- malicious code
- stack walk
- security [.NET Framework], code access security
- permissions [.NET Framework], code access security
- trusted code
- mobile code security
- unmanaged code, code access security
- granting permissions, code access security
- user authentication, code access security
- code access security
ms.assetid: 859af632-c80d-4736-8d6f-1e01b09ce127
ms.openlocfilehash: 3c125e6c57ce7da459c03fc7d51fc9311fdc8e3b
ms.sourcegitcommit: 0fa2b7b658bf137e813a7f4d09589d64c148ebf5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/14/2020
ms.locfileid: "86309014"
---
# <a name="code-access-security"></a><span data-ttu-id="f54bc-103">Sicurezza dall'accesso di codice</span><span class="sxs-lookup"><span data-stu-id="f54bc-103">Code Access Security</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="f54bc-104">Gli attuali computer con connessione elevata sono spesso esposti a codice che deriva da origini svariate e magari sconosciute.</span><span class="sxs-lookup"><span data-stu-id="f54bc-104">Today's highly connected computer systems are frequently exposed to code originating from various, possibly unknown sources.</span></span> <span data-ttu-id="f54bc-105">Il codice può essere allegato a un messaggio di posta elettronica, contenuto in documenti o scaricato tramite Internet.</span><span class="sxs-lookup"><span data-stu-id="f54bc-105">Code can be attached to email, contained in documents, or downloaded over the Internet.</span></span> <span data-ttu-id="f54bc-106">Sfortunatamente, molti utenti hanno sperimentato in prima persona gli effetti dei codici mobili dannosi, tra cui virus e worm, che possono danneggiare o eliminare definitivamente i dati e costare tempo e denaro.</span><span class="sxs-lookup"><span data-stu-id="f54bc-106">Unfortunately, many computer users have experienced firsthand the effects of malicious mobile code, including viruses and worms, which can damage or destroy data and cost time and money.</span></span>  
  
 <span data-ttu-id="f54bc-107">La maggior parte dei meccanismi di sicurezza più comuni assegnano diritti agli utenti in base alle credenziali (in genere una password) e limitano le risorse (spesso directory e file) a cui l'utente è autorizzato ad accedere.</span><span class="sxs-lookup"><span data-stu-id="f54bc-107">Most common security mechanisms give rights to users based on their credentials (usually a password) and restrict resources (often directories and files) that the user is allowed to access.</span></span> <span data-ttu-id="f54bc-108">Tuttavia, questo approccio non riesce a risolvere alcuni problemi: gli utenti ottengono il codice da molte origini, alcune delle quali potrebbero non essere affidabili, il codice può contenere bug o vulnerabilità che permettono ai malware di sfruttarlo e a volte il codice esegue operazioni di cui l'utente non è a conoscenza.</span><span class="sxs-lookup"><span data-stu-id="f54bc-108">However, this approach fails to address several issues: users obtain code from many sources, some of which might be unreliable; code can contain bugs or vulnerabilities that enable it to be exploited by malicious code; and code sometimes does things that the user does not know it will do.</span></span> <span data-ttu-id="f54bc-109">Di conseguenza, quando utenti attenti e affidabili eseguono software dannoso o con errori, possono verificarsi danni al sistemi del computer e ai dati privati.</span><span class="sxs-lookup"><span data-stu-id="f54bc-109">As a result, computer systems can be damaged and private data can be leaked when cautious and trustworthy users run malicious or error-filled software.</span></span> <span data-ttu-id="f54bc-110">La maggior parte dei meccanismi di sicurezza del sistema operativo richiede che ogni parte del codice debba essere considerata attendibile per l'esecuzione, tranne che per gli script in una pagina Web.</span><span class="sxs-lookup"><span data-stu-id="f54bc-110">Most operating system security mechanisms require that every piece of code must be trusted in order to run, except perhaps for scripts on a Web page.</span></span> <span data-ttu-id="f54bc-111">Dunque esiste ancora la necessità di un meccanismo di sicurezza applicabile su vasta scala, che consenta di eseguire il codice derivante dal sistema di un computer in modo protetto su un altro sistema, anche quando non esiste alcuna relazione di trust tra i sistemi.</span><span class="sxs-lookup"><span data-stu-id="f54bc-111">Therefore, there is still a need for a widely applicable security mechanism that allows code originating from one computer system to execute with protection on another system, even when there is no trust relationship between the systems.</span></span>  
  
 <span data-ttu-id="f54bc-112">.NET Framework fornisce un meccanismo di sicurezza, detto sicurezza dall'accesso di codice, che permette di proteggere i sistemi dei computer dal codice mobile dannoso, consentendo così di eseguire in modo protetto il codice di origine sconosciuta, e di impedire al codice attendibile di compromettere la sicurezza intenzionalmente o accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="f54bc-112">The .NET Framework provides a security mechanism called code access security to help protect computer systems from malicious mobile code, to allow code from unknown origins to run with protection, and to help prevent trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="f54bc-113">Mediante la sicurezza dall'accesso di codice è possibile considerare il codice come attendibile a vari livelli, a seconda dell'origine del codice e di altri aspetti relativi all'identità del codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-113">Code access security enables code to be trusted to varying degrees depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="f54bc-114">La sicurezza dall'accesso di codice applica anche i diversi livelli di attendibilità al codice, riducendo al minimo la quantità di codice che deve essere completamente attendibile per poter essere eseguito.</span><span class="sxs-lookup"><span data-stu-id="f54bc-114">Code access security also enforces the varying levels of trust on code, which minimizes the amount of code that must be fully trusted in order to run.</span></span> <span data-ttu-id="f54bc-115">L'uso della sicurezza dall'accesso di codice può ridurre la probabilità che il codice venga usato in modo improprio da malware o da codice con errori.</span><span class="sxs-lookup"><span data-stu-id="f54bc-115">Using code access security can reduce the likelihood that your code will be misused by malicious or error-filled code.</span></span> <span data-ttu-id="f54bc-116">Può ridurre la responsabilità dell'utente, perché è possibile specificare il set di operazioni che possono essere eseguite dal codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-116">It can reduce your liability, because you can specify the set of operations your code should be allowed to perform.</span></span> <span data-ttu-id="f54bc-117">La sicurezza dall'accesso di codice permette anche di ridurre al minimo i danni che possono derivare da vulnerabilità di protezione nel codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-117">Code access security can also help minimize the damage that can result from security vulnerabilities in your code.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="f54bc-118">Sono state apportate importanti modifiche alla sicurezza dall'accesso di codice nel .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="f54bc-118">Major changes have been made to code access security in the .NET Framework 4.</span></span> <span data-ttu-id="f54bc-119">La modifica più rilevante è stata la [trasparenza della sicurezza](security-transparent-code.md), ma sono presenti anche altre modifiche significative che influiscono sulla sicurezza dall'accesso di codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-119">The most notable change has been [security transparency](security-transparent-code.md), but there are also other significant changes that affect code access security.</span></span> <span data-ttu-id="f54bc-120">Per informazioni su queste modifiche, vedere [modifiche di sicurezza](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="f54bc-120">For information about these changes, see [Security Changes](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span></span>  
  
 <span data-ttu-id="f54bc-121">La sicurezza dall'accesso di codice influisce principalmente sul codice di libreria e sulle applicazioni parzialmente attendibili.</span><span class="sxs-lookup"><span data-stu-id="f54bc-121">Code access security primarily affects library code and partially trusted applications.</span></span> <span data-ttu-id="f54bc-122">Gli sviluppatori di librerie devono proteggere il codice da accesso non autorizzato da applicazioni parzialmente attendibili.</span><span class="sxs-lookup"><span data-stu-id="f54bc-122">Library developers must protect their code from unauthorized access from partially trusted applications.</span></span> <span data-ttu-id="f54bc-123">Le applicazioni parzialmente attendibili sono applicazioni che vengono caricate da origini esterne, ad esempio da Internet.</span><span class="sxs-lookup"><span data-stu-id="f54bc-123">Partially trusted applications are applications that are loaded from external sources such as the Internet.</span></span> <span data-ttu-id="f54bc-124">Le applicazioni installate nel desktop o nella rete Intranet locale vengono eseguite con attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="f54bc-124">Applications that are installed on your desktop or on the local intranet run in full trust.</span></span> <span data-ttu-id="f54bc-125">Le applicazioni con attendibilità totale non sono interessate dalla sicurezza dall'accesso di codice a meno che non siano contrassegnate come [SecurityTransparent](security-transparent-code.md), perché sono completamente attendibili.</span><span class="sxs-lookup"><span data-stu-id="f54bc-125">Full-trust applications are not affected by code access security unless they are marked as [security-transparent](security-transparent-code.md), because they are fully trusted.</span></span> <span data-ttu-id="f54bc-126">L'unica limitazione per le applicazioni con attendibilità totale è che le applicazioni contrassegnate con l'attributo <xref:System.Security.SecurityTransparentAttribute> non possono chiamare il codice contrassegnato con l'attributo <xref:System.Security.SecurityCriticalAttribute>.</span><span class="sxs-lookup"><span data-stu-id="f54bc-126">The only limitation for full-trust applications is that applications that are marked with the <xref:System.Security.SecurityTransparentAttribute> attribute cannot call code that is marked with the <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span> <span data-ttu-id="f54bc-127">Le applicazioni parzialmente attendibili devono essere eseguite in una sandbox (ad esempio, in Internet Explorer), per poter applicare la sicurezza dall'accesso di codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-127">Partially trusted applications must be run in a sandbox (for example, in Internet Explorer) so that code access security can be applied.</span></span> <span data-ttu-id="f54bc-128">Se si scarica un'applicazione da Internet e si tenta di eseguirla dal desktop, verrà visualizzato un <xref:System.NotSupportedException> messaggio con il messaggio: "tentativo di caricare un assembly da un percorso di rete, che avrebbe causato la sandboxing dell'assembly nelle versioni precedenti del .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f54bc-128">If you download an application from the Internet and try to run it from your desktop, you will get a <xref:System.NotSupportedException> with the message: "An attempt was made to load an assembly from a network location, which would have caused the assembly to be sandboxed in previous versions of the .NET Framework.</span></span> <span data-ttu-id="f54bc-129">In questa versione di .NET Framework i criteri di sicurezza dall'accesso di codice non sono abilitati per impostazione predefinita, pertanto questo tipo di caricamento può risultare pericoloso".</span><span class="sxs-lookup"><span data-stu-id="f54bc-129">This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous."</span></span> <span data-ttu-id="f54bc-130">Se si è certi che l'applicazione può essere attendibile, è possibile abilitarla per l'esecuzione come attendibilità totale usando l' [ \<loadFromRemoteSources> elemento](../configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span><span class="sxs-lookup"><span data-stu-id="f54bc-130">If you are sure that the application can be trusted, you can enable it to be run as full trust by using the [\<loadFromRemoteSources> element](../configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span></span> <span data-ttu-id="f54bc-131">Per informazioni sull'esecuzione di un'applicazione in una sandbox, vedere [procedura: eseguire codice parzialmente attendibile in un oggetto sandbox](how-to-run-partially-trusted-code-in-a-sandbox.md).</span><span class="sxs-lookup"><span data-stu-id="f54bc-131">For information about running an application in a sandbox, see [How to: Run Partially Trusted Code in a Sandbox](how-to-run-partially-trusted-code-in-a-sandbox.md).</span></span>  
  
 <span data-ttu-id="f54bc-132">Tutto il codice gestito destinato a Common Language Runtime sfrutta i vantaggi della sicurezza dall'accesso di codice, anche se tale codice non effettua un'unica chiamata alla sicurezza dall'accesso di codice.</span><span class="sxs-lookup"><span data-stu-id="f54bc-132">All managed code that targets the common language runtime receives the benefits of code access security, even if that code does not make a single code access security call.</span></span> <span data-ttu-id="f54bc-133">Per altre informazioni, vedere [Code Access Security Basics](code-access-security-basics.md) (Nozioni di base sulla sicurezza dell'accesso di codice).</span><span class="sxs-lookup"><span data-stu-id="f54bc-133">For more information, see [Code Access Security Basics](code-access-security-basics.md).</span></span>  
  
<a name="key_functions"></a>
## <a name="key-functions-of-code-access-security"></a><span data-ttu-id="f54bc-134">Funzioni chiave della sicurezza dall'accesso di codice</span><span class="sxs-lookup"><span data-stu-id="f54bc-134">Key Functions of Code Access Security</span></span>  
 <span data-ttu-id="f54bc-135">La sicurezza dall'accesso di codice consente di limitare l'accesso del codice alle risorse e alle operazioni protette.</span><span class="sxs-lookup"><span data-stu-id="f54bc-135">Code access security helps limit the access that code has to protected resources and operations.</span></span> <span data-ttu-id="f54bc-136">In .NET Framework la sicurezza dall'accesso di codice svolge le seguenti funzioni:</span><span class="sxs-lookup"><span data-stu-id="f54bc-136">In the .NET Framework, code access security performs the following functions:</span></span>  
  
- <span data-ttu-id="f54bc-137">Definizione di autorizzazioni e set di autorizzazioni che rappresentano il diritto di accedere a varie risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="f54bc-137">Defines permissions and permission sets that represent the right to access various system resources.</span></span>  
  
- <span data-ttu-id="f54bc-138">Possibilità di esigere dai chiamanti del codice il possesso di autorizzazioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="f54bc-138">Enables code to demand that its callers have specific permissions.</span></span>  
  
- <span data-ttu-id="f54bc-139">Possibilità di esigere dai chiamanti del codice il possesso di una firma digitale, in modo che solo i chiamanti appartenenti a un'organizzazione o a un sito particolare siano autorizzati a chiamare il codice sicuro.</span><span class="sxs-lookup"><span data-stu-id="f54bc-139">Enables code to demand that its callers possess a digital signature, thus allowing only callers from a particular organization or site to call the protected code.</span></span>  
  
- <span data-ttu-id="f54bc-140">Applicazione di restrizioni sul codice in fase di esecuzione confrontando le autorizzazioni concesse a ogni chiamante dello stack di chiamate con le autorizzazioni effettivamente necessarie.</span><span class="sxs-lookup"><span data-stu-id="f54bc-140">Enforces restrictions on code at run time by comparing the granted permissions of every caller on the call stack to the permissions that callers must have.</span></span>  
  
<a name="walking_the_call_stack"></a>
## <a name="walking-the-call-stack"></a><span data-ttu-id="f54bc-141">Analisi dello stack di chiamate</span><span class="sxs-lookup"><span data-stu-id="f54bc-141">Walking the Call Stack</span></span>  
 <span data-ttu-id="f54bc-142">Per determinare se il codice è autorizzato ad accedere a una risorsa o a eseguire un'operazione, il sistema di sicurezza del runtime analizza lo stack di chiamate, confrontando le autorizzazioni concesse di ogni chiamante con l'autorizzazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="f54bc-142">To determine whether code is authorized to access a resource or perform an operation, the runtime's security system walks the call stack, comparing the granted permissions of each caller to the permission being demanded.</span></span> <span data-ttu-id="f54bc-143">Se un qualsiasi chiamante nello stack di chiamate non dispone dell'autorizzazione richiesta, viene generata un'eccezione di sicurezza e l'accesso viene rifiutato.</span><span class="sxs-lookup"><span data-stu-id="f54bc-143">If any caller in the call stack does not have the demanded permission, a security exception is thrown and access is refused.</span></span> <span data-ttu-id="f54bc-144">L'analisi dello stack è progettata per impedire attacchi luring, in cui un codice meno attendibile chiama un codice altamente attendibile e lo usa per eseguire azioni non autorizzate.</span><span class="sxs-lookup"><span data-stu-id="f54bc-144">The stack walk is designed to help prevent luring attacks, in which less-trusted code calls highly trusted code and uses it to perform unauthorized actions.</span></span> <span data-ttu-id="f54bc-145">La richiesta delle autorizzazioni di tutti i chiamanti in fase di esecuzione ha effetto sulle prestazioni, ma è fondamentale per proteggere il codice dagli attacchi luring da parte di codice meno attendibile.</span><span class="sxs-lookup"><span data-stu-id="f54bc-145">Demanding permissions of all callers at run time affects performance, but it is essential to help protect code from luring attacks by less-trusted code.</span></span> <span data-ttu-id="f54bc-146">Per ottimizzare le prestazioni, è possibile fare in modo che il codice esegua meno percorsi dello stack.</span><span class="sxs-lookup"><span data-stu-id="f54bc-146">To optimize performance, you can have your code perform fewer stack walks.</span></span> <span data-ttu-id="f54bc-147">Tuttavia, assicurarsi di non esporre un punto di debolezza della sicurezza ogni volta che si esegue questa operazione.</span><span class="sxs-lookup"><span data-stu-id="f54bc-147">However, be sure that you don't expose a security weakness whenever you do this.</span></span>  
  
 <span data-ttu-id="f54bc-148">La figura seguente mostra il risultato dell'analisi dello stack quando un metodo in Assembly A4 richiede che i chiamanti dispongano dell'autorizzazione P.</span><span class="sxs-lookup"><span data-stu-id="f54bc-148">The following illustration shows the stack walk that results when a method in Assembly A4 demands that its callers have permission P.</span></span>  
  
 <span data-ttu-id="f54bc-149">![Percorso stack di sicurezza dall'accesso di codice](media/slide-10a.gif "slide_10a")</span><span class="sxs-lookup"><span data-stu-id="f54bc-149">![Code access security stack walk](media/slide-10a.gif "slide_10a")</span></span>
  
<a name="related_topics"></a>
## <a name="related-articles"></a><span data-ttu-id="f54bc-150">Articoli correlati</span><span class="sxs-lookup"><span data-stu-id="f54bc-150">Related articles</span></span>
  
|<span data-ttu-id="f54bc-151">Titolo</span><span class="sxs-lookup"><span data-stu-id="f54bc-151">Title</span></span>|<span data-ttu-id="f54bc-152">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f54bc-152">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="f54bc-153">Nozioni fondamentali sulla sicurezza per l’accesso al codice</span><span class="sxs-lookup"><span data-stu-id="f54bc-153">Code Access Security Basics</span></span>](code-access-security-basics.md)|<span data-ttu-id="f54bc-154">Descrive la sicurezza dall'accesso di codice e gli usi più comuni.</span><span class="sxs-lookup"><span data-stu-id="f54bc-154">Describes code access security and its most common uses.</span></span>|  
|[<span data-ttu-id="f54bc-155">Codice SecurityTransparent, livello 2</span><span class="sxs-lookup"><span data-stu-id="f54bc-155">Security-Transparent Code, Level 2</span></span>](security-transparent-code-level-2.md)|<span data-ttu-id="f54bc-156">Viene descritto il modello di trasparenza della sicurezza nel .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="f54bc-156">Describes the security transparency model in the .NET Framework 4.</span></span>|  
|[<span data-ttu-id="f54bc-157">Uso di librerie da codice parzialmente attendibile</span><span class="sxs-lookup"><span data-stu-id="f54bc-157">Using Libraries from Partially Trusted Code</span></span>](using-libraries-from-partially-trusted-code.md)|<span data-ttu-id="f54bc-158">Descrive come abilitare le librerie per usarle con codice non gestito e come usare le librerie provenienti da codice non gestito.</span><span class="sxs-lookup"><span data-stu-id="f54bc-158">Describes how to enable libraries for use with unmanaged code and how to use libraries from unmanaged code.</span></span>|  
|[<span data-ttu-id="f54bc-159">Concetti principali sulla sicurezza</span><span class="sxs-lookup"><span data-stu-id="f54bc-159">Key Security Concepts</span></span>](../../standard/security/key-security-concepts.md)|<span data-ttu-id="f54bc-160">Fornisce una panoramica di diversi termini e concetti chiave usati nel sistema di sicurezza di .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f54bc-160">Provides an overview of many of the key terms and concepts used in the .NET Framework security system.</span></span>|  
|[<span data-ttu-id="f54bc-161">Sicurezza basata sui ruoli</span><span class="sxs-lookup"><span data-stu-id="f54bc-161">Role-Based Security</span></span>](../../standard/security/role-based-security.md)|<span data-ttu-id="f54bc-162">Descrive come incorporare la sicurezza basata sui ruoli.</span><span class="sxs-lookup"><span data-stu-id="f54bc-162">Describes how to incorporate security based on roles.</span></span>|  
|[<span data-ttu-id="f54bc-163">servizi crittografici</span><span class="sxs-lookup"><span data-stu-id="f54bc-163">Cryptographic Services</span></span>](../../standard/security/cryptographic-services.md)|<span data-ttu-id="f54bc-164">Descrive come incorporare la crittografia nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="f54bc-164">Describes how to incorporate cryptography into your applications.</span></span>|
