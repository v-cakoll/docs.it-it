---
title: Considerazioni sulla sicurezza in relazione alla reflection
description: Informazioni sulle considerazioni relative alla sicurezza per la reflection in .NET. Il recupero di informazioni su tipi e membri è consentito, ma l'accesso ai membri presenta restrizioni.
ms.date: 03/30/2017
helpviewer_keywords:
- permissions [.NET Framework], reflection
- MethodInfo parameters
- reflection, security
- partial trust,reflection
- nonpublic members
- reflection,partial trust
- link demands
ms.assetid: 42d9dc2a-8fcc-4ff3-b002-4ff260ef3dc5
ms.openlocfilehash: 0465cbd5ceb7d4f44bb6d10865fcbd17b8ed7af6
ms.sourcegitcommit: 3d84eac0818099c9949035feb96bbe0346358504
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 07/21/2020
ms.locfileid: "86865255"
---
# <a name="security-considerations-for-reflection"></a><span data-ttu-id="020b2-104">Considerazioni sulla sicurezza in relazione alla reflection</span><span class="sxs-lookup"><span data-stu-id="020b2-104">Security Considerations for Reflection</span></span>

<span data-ttu-id="020b2-105">La reflection consente di ottenere informazioni su tipi e membri e di accedere ai membri, vale a dire chiamare metodi e costruttori, ottenere e impostare valori di proprietà, aggiungere e rimuovere gestori eventi e così via.</span><span class="sxs-lookup"><span data-stu-id="020b2-105">Reflection provides the ability to obtain information about types and members, and to access members (that is, to call methods and constructors, to get and set property values, to add and remove event handlers, and so on).</span></span> <span data-ttu-id="020b2-106">L'uso della reflection per ottenere informazioni su tipi e membri non presenta limitazioni.</span><span class="sxs-lookup"><span data-stu-id="020b2-106">The use of reflection to obtain information about types and members is not restricted.</span></span> <span data-ttu-id="020b2-107">L'intero codice può usare la reflection per eseguire le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="020b2-107">All code can use reflection to perform the following tasks:</span></span>

- <span data-ttu-id="020b2-108">Enumerare tipi e membri ed esaminare i rispettivi metadati.</span><span class="sxs-lookup"><span data-stu-id="020b2-108">Enumerate types and members, and examine their metadata.</span></span>

- <span data-ttu-id="020b2-109">Enumerare ed esaminare assembly e moduli.</span><span class="sxs-lookup"><span data-stu-id="020b2-109">Enumerate and examine assemblies and modules.</span></span>

<span data-ttu-id="020b2-110">L'uso della reflection per accedere ai membri, per contro, è soggetto a limitazioni.</span><span class="sxs-lookup"><span data-stu-id="020b2-110">Using reflection to access members, by contrast, is subject to restrictions.</span></span> <span data-ttu-id="020b2-111">A partire da .NET Framework 4, è possibile usare la reflection per accedere ai membri critici per la sicurezza solo tramite il codice attendibile.</span><span class="sxs-lookup"><span data-stu-id="020b2-111">Beginning with the .NET Framework 4, only trusted code can use reflection to access security-critical members.</span></span> <span data-ttu-id="020b2-112">Inoltre, solo un codice affidabile può usare la reflection per accedere a membri non pubblici che non sarebbero altrimenti accessibili direttamente dal codice compilato.</span><span class="sxs-lookup"><span data-stu-id="020b2-112">Furthermore, only trusted code can use reflection to access nonpublic members that would not be directly accessible to compiled code.</span></span> <span data-ttu-id="020b2-113">Infine, al codice in cui viene usata la reflection per accedere a un membro critico per la sicurezza devono essere associate le autorizzazioni richieste dal membro critico per la sicurezza, come nel codice compilato.</span><span class="sxs-lookup"><span data-stu-id="020b2-113">Finally, code that uses reflection to access a safe-critical member must have whatever permissions the safe-critical member demands, just as with compiled code.</span></span>

<span data-ttu-id="020b2-114">Fatte salve le autorizzazioni necessarie, il codice può usare la reflection per eseguire i tipi di accesso seguenti:</span><span class="sxs-lookup"><span data-stu-id="020b2-114">Subject to necessary permissions, code can use reflection to perform the following kinds of access:</span></span>

- <span data-ttu-id="020b2-115">Accesso a membri pubblici non critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-115">Access public members that are not security-critical.</span></span>

- <span data-ttu-id="020b2-116">Accesso a membri non pubblici ai quali il codice compilato potrebbe accedere, se non critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-116">Access nonpublic members that would be accessible to compiled code, if those members are not security-critical.</span></span> <span data-ttu-id="020b2-117">Gli esempi di tali membri non pubblici includono:</span><span class="sxs-lookup"><span data-stu-id="020b2-117">Examples of such nonpublic members include:</span></span>

  - <span data-ttu-id="020b2-118">Membri protetti delle classi base del codice chiamante.</span><span class="sxs-lookup"><span data-stu-id="020b2-118">Protected members of the calling code's base classes.</span></span> <span data-ttu-id="020b2-119">Nella reflection viene fatto riferimento a questa operazione con il termine accesso a livello di famiglia.</span><span class="sxs-lookup"><span data-stu-id="020b2-119">(In reflection, this is referred to as family-level access.)</span></span>

  - <span data-ttu-id="020b2-120">Membri `internal` (membri `Friend` in Visual Basic) nell'assembly del codice chiamante.</span><span class="sxs-lookup"><span data-stu-id="020b2-120">`internal` members (`Friend` members in Visual Basic) in the calling code's assembly.</span></span> <span data-ttu-id="020b2-121">Nella reflection viene fatto riferimento a questa operazione con il termine accesso a livello di assembly.</span><span class="sxs-lookup"><span data-stu-id="020b2-121">(In reflection, this is referred to as assembly-level access.)</span></span>

  - <span data-ttu-id="020b2-122">Membri privati di altre istanze della classe che contiene il codice chiamante.</span><span class="sxs-lookup"><span data-stu-id="020b2-122">Private members of other instances of the class that contains the calling code.</span></span>

<span data-ttu-id="020b2-123">Ad esempio, il codice eseguito in un dominio applicazione in modalità sandbox è limitato all'accesso descritto in questo elenco, a meno che il dominio dell'applicazione non conceda altre autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="020b2-123">For example, code that is run in a sandboxed application domain is limited to the access described in this list, unless the application domain grants additional permissions.</span></span>

<span data-ttu-id="020b2-124">A partire da .NET Framework 2.0 Service Pack 1, il tentativo di accedere a membri generalmente non accessibili genera una richiesta del set di concessioni dell'oggetto di destinazione più <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="020b2-124">Starting with the .NET Framework 2.0 Service Pack 1, attempting to access members that are normally inaccessible generates a demand for the grant set of the target object plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="020b2-125">Il codice eseguito con attendibilità totale (ad esempio il codice in un'applicazione avviata dalla riga di comando) è sempre in grado di soddisfare queste autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="020b2-125">Code that is running with full trust (for example, code in an application that is launched from the command line) can always satisfy these permissions.</span></span> <span data-ttu-id="020b2-126">Tale codice è soggetto a limitazioni per quanto concerne l'accesso a membri critici per la sicurezza, come descritto più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="020b2-126">(This is subject to limitations in accessing security-critical members, as described later in this article.)</span></span>

<span data-ttu-id="020b2-127">Facoltativamente, un dominio di applicazioni sandbox può concedere <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>, come descritto nella sezione [Accesso a membri generalmente non accessibili](#accessingNormallyInaccessible) più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="020b2-127">Optionally, a sandboxed application domain can grant <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag, as described in the section [Accessing Members That Are Normally Inaccessible](#accessingNormallyInaccessible), later in this article.</span></span>

<a name="accessingSecurityCritical"></a>

## <a name="accessing-security-critical-members"></a><span data-ttu-id="020b2-128">Accesso ai membri critici per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="020b2-128">Accessing Security-Critical Members</span></span>

<span data-ttu-id="020b2-129">Un membro è critico per la sicurezza se possiede l'attributo <xref:System.Security.SecurityCriticalAttribute>, se appartiene a un tipo che possiede l'attributo <xref:System.Security.SecurityCriticalAttribute> o se è contenuto in un assembly critico per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-129">A member is security-critical if it has the <xref:System.Security.SecurityCriticalAttribute>, if it belongs to a type that has the <xref:System.Security.SecurityCriticalAttribute>, or if it is in a security-critical assembly.</span></span> <span data-ttu-id="020b2-130">A partire da .NET Framework 4, per l'accesso ai membri critici per la sicurezza valgono le regole seguenti:</span><span class="sxs-lookup"><span data-stu-id="020b2-130">Beginning with the .NET Framework 4, the rules for accessing security-critical members are as follows:</span></span>

- <span data-ttu-id="020b2-131">Il codice Transparent non può usare la reflection per accedere a membri critici per la sicurezza, sebbene sia completamente attendibile.</span><span class="sxs-lookup"><span data-stu-id="020b2-131">Transparent code cannot use reflection to access security-critical members, even if the code is fully trusted.</span></span> <span data-ttu-id="020b2-132">Viene generata un'eccezione <xref:System.MethodAccessException>, <xref:System.FieldAccessException> o <xref:System.TypeAccessException>.</span><span class="sxs-lookup"><span data-stu-id="020b2-132">A <xref:System.MethodAccessException>, <xref:System.FieldAccessException>, or <xref:System.TypeAccessException> is thrown.</span></span>

- <span data-ttu-id="020b2-133">Il codice eseguito con attendibilità parziale è considerato Transparent.</span><span class="sxs-lookup"><span data-stu-id="020b2-133">Code that is running with partial trust is treated as transparent.</span></span>

<span data-ttu-id="020b2-134">Queste regole valgono sempre, indipendentemente dal fatto che l'accesso al membro critico per la sicurezza venga eseguito direttamente dal codice compilato o tramite reflection.</span><span class="sxs-lookup"><span data-stu-id="020b2-134">These rules are the same whether a security-critical member is accessed directly by compiled code, or accessed by using reflection.</span></span>

<span data-ttu-id="020b2-135">Il codice dell'applicazione eseguito dalla riga di comando viene eseguito con attendibilità totale.</span><span class="sxs-lookup"><span data-stu-id="020b2-135">Application code that is run from the command line runs with full trust.</span></span> <span data-ttu-id="020b2-136">A condizione che non sia contrassegnato come Transparent, può usare la reflection per accedere a membri critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-136">As long as it is not marked as transparent, it can use reflection to access security-critical members.</span></span> <span data-ttu-id="020b2-137">Quando lo stesso codice viene eseguito con attendibilità parziale, ad esempio in un dominio applicazione in modalità sandbox, il livello di attendibilità dell'assembly determina se può accedere o meno a codice critico per la sicurezza: se l'assembly è dotato di un nome sicuro ed è installato nella Global Assembly Cache, si tratta di un assembly attendibile e può chiamare membri critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-137">When the same code is run with partial trust (for example, in a sandboxed application domain) the assembly's trust level determines whether it can access security-critical code: If the assembly has a strong name and is installed in the global assembly cache, it is a trusted assembly and can call security-critical members.</span></span> <span data-ttu-id="020b2-138">Nel caso non sia attendibile, diventa Transparent anche se non è stato contrassegnato come tale e non può accedere a membri critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-138">If it is not trusted, it becomes transparent even though it was not marked as transparent, and it cannot access security-critical members.</span></span>

<span data-ttu-id="020b2-139">Per altre informazioni sul modello di sicurezza in .NET Framework 4.5, vedere [Modifiche della sicurezza](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="020b2-139">For more information about the security model in the .NET Framework 4, see [Security Changes](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span></span>

## <a name="reflection-and-transparency"></a><span data-ttu-id="020b2-140">Reflection e trasparenza</span><span class="sxs-lookup"><span data-stu-id="020b2-140">Reflection and Transparency</span></span>

<span data-ttu-id="020b2-141">A partire da .NET Framework 4, Common Language Runtime determina il livello di trasparenza di un tipo o di un membro sulla base di diversi fattori, tra cui i livelli di attendibilità dell'assembly e del dominio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="020b2-141">Beginning with the .NET Framework 4, the common language runtime determines the transparency level of a type or member from several factors, including the trust level of the assembly and the trust level of the application domain.</span></span> <span data-ttu-id="020b2-142">La reflection fornisce le proprietà <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A> e <xref:System.Type.IsSecurityTransparent%2A>, che consentono di individuare il livello di trasparenza di un tipo.</span><span class="sxs-lookup"><span data-stu-id="020b2-142">Reflection provides the <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A>, and <xref:System.Type.IsSecurityTransparent%2A> properties to enable you to discover the transparency level of a type.</span></span> <span data-ttu-id="020b2-143">La tabella seguente illustra le combinazioni valide di queste proprietà.</span><span class="sxs-lookup"><span data-stu-id="020b2-143">The following table shows the valid combinations of these properties.</span></span>

|<span data-ttu-id="020b2-144">Livello di sicurezza</span><span class="sxs-lookup"><span data-stu-id="020b2-144">Security level</span></span>|<span data-ttu-id="020b2-145">IsSecurityCritical</span><span class="sxs-lookup"><span data-stu-id="020b2-145">IsSecurityCritical</span></span>|<span data-ttu-id="020b2-146">IsSecuritySafeCritical</span><span class="sxs-lookup"><span data-stu-id="020b2-146">IsSecuritySafeCritical</span></span>|<span data-ttu-id="020b2-147">IsSecurityTransparent</span><span class="sxs-lookup"><span data-stu-id="020b2-147">IsSecurityTransparent</span></span>|
|--------------------|------------------------|----------------------------|---------------------------|
|<span data-ttu-id="020b2-148">Critico</span><span class="sxs-lookup"><span data-stu-id="020b2-148">Critical</span></span>|`true`|`false`|`false`|
|<span data-ttu-id="020b2-149">Critico per la sicurezza</span><span class="sxs-lookup"><span data-stu-id="020b2-149">Safe-critical</span></span>|`true`|`true`|`false`|
|<span data-ttu-id="020b2-150">Modalità trasparente</span><span class="sxs-lookup"><span data-stu-id="020b2-150">Transparent</span></span>|`false`|`false`|`true`|

<span data-ttu-id="020b2-151">Usare queste proprietà è molto più semplice che non esaminare le annotazioni di sicurezza di un assembly e dei suoi tipi, controllare il livello di attendibilità corrente e tentare di duplicare le regole del runtime.</span><span class="sxs-lookup"><span data-stu-id="020b2-151">Using these properties is much simpler than examining the security annotations of an assembly and its types, checking the current trust level, and attempting to duplicate the runtime's rules.</span></span> <span data-ttu-id="020b2-152">Lo stesso tipo, ad esempio, può essere critico per la sicurezza quando viene eseguito dalla riga di comando, oppure trasparente per la sicurezza quando viene eseguito in un dominio applicazione in modalità sandbox.</span><span class="sxs-lookup"><span data-stu-id="020b2-152">For example, the same type can be security-critical when it is run from the command line, or security-transparent when it is run in a sandboxed application domain.</span></span>

<span data-ttu-id="020b2-153">Proprietà simili sono presenti nelle classi <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder> e <xref:System.Reflection.Emit.DynamicMethod>.</span><span class="sxs-lookup"><span data-stu-id="020b2-153">There are similar properties on the <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder>, and <xref:System.Reflection.Emit.DynamicMethod> classes.</span></span> <span data-ttu-id="020b2-154">Per le altre astrazioni di reflection e reflection emit, gli attributi di sicurezza vengono applicati ai metodi associati; nel caso delle proprietà, ad esempio, vengono applicati alle relative funzioni di accesso.</span><span class="sxs-lookup"><span data-stu-id="020b2-154">(For other reflection and reflection emit abstractions, security attributes are applied to the associated methods; for example, in the case of properties they are applied to the property accessors.)</span></span>

<a name="accessingNormallyInaccessible"></a>

## <a name="accessing-members-that-are-normally-inaccessible"></a><span data-ttu-id="020b2-155">Accesso a membri generalmente non accessibili</span><span class="sxs-lookup"><span data-stu-id="020b2-155">Accessing Members That Are Normally Inaccessible</span></span>

<span data-ttu-id="020b2-156">Per usare la reflection per richiamare membri non accessibili secondo le regole di accessibilità di Common Language Runtime, è necessario concedere al codice una delle due autorizzazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="020b2-156">To use reflection to invoke members that are inaccessible according to the accessibility rules of the common language runtime, your code must be granted one of two permissions:</span></span>

- <span data-ttu-id="020b2-157">Per consentire al codice di richiamare qualsiasi membro non pubblico, è necessario concedere al codice l'autorizzazione <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="020b2-157">To allow code to invoke any nonpublic member:Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>

  > [!NOTE]
  > <span data-ttu-id="020b2-158">Per impostazione predefinita, i criteri di sicurezza negano questa autorizzazione al codice proveniente da Internet.</span><span class="sxs-lookup"><span data-stu-id="020b2-158">By default, security policy denies this permission to code that originates from the Internet.</span></span> <span data-ttu-id="020b2-159">L'autorizzazione, infatti, non dovrebbe mai essere concessa a codice proveniente da Internet.</span><span class="sxs-lookup"><span data-stu-id="020b2-159">This permission should never be granted to code that originates from the Internet.</span></span>

- <span data-ttu-id="020b2-160">Per consentire al codice di richiamare qualsiasi membro non pubblico, a condizione che il set di concessioni dell'assembly contenente il membro richiamato sia uguale o sia un sottoinsieme del set di concessioni dell'assembly contenente il codice chiamante: è necessario concedere al codice l'autorizzazione <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="020b2-160">To allow code to invoke any nonpublic member, as long as the grant set of the assembly that contains the invoked member is the same as, or a subset of, the grant set of the assembly that contains the invoking code: Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>

<span data-ttu-id="020b2-161">Ad esempio, si supponga di concedere a un dominio applicazione autorizzazioni Internet più <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>, quindi di eseguire un'applicazione Internet con due assembly, A e B.</span><span class="sxs-lookup"><span data-stu-id="020b2-161">For example, suppose you grant an application domain Internet permissions plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and then run an Internet application with two assemblies, A and B.</span></span>

- <span data-ttu-id="020b2-162">L''assembly A può usare la reflection per accedere ai membri privati dell'assembly B, in quanto il set di concessioni dell'assembly B non include autorizzazioni che non siano state concesse anche ad A.</span><span class="sxs-lookup"><span data-stu-id="020b2-162">Assembly A can use reflection to access private members of assembly B, because the grant set of assembly B does not include any permissions that A has not been granted.</span></span>

- <span data-ttu-id="020b2-163">L'assembly A non può usare la reflection per accedere ai membri privati degli assembly di .NET Framework, ad esempio mscorlib.dll, poiché mscorlib.dll è completamente attendibile e pertanto ha autorizzazioni che non sono state concesse all'assembly A. Viene generata una <xref:System.MemberAccessException> quando la sicurezza dall'accesso di codice esamina lo stack in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="020b2-163">Assembly A cannot use reflection to access private members of .NET Framework assemblies such as mscorlib.dll, because mscorlib.dll is fully trusted and therefore has permissions that have not been granted to assembly A. A <xref:System.MemberAccessException> is thrown when code access security walks the stack at run time.</span></span>

## <a name="serialization"></a><span data-ttu-id="020b2-164">Serializzazione</span><span class="sxs-lookup"><span data-stu-id="020b2-164">Serialization</span></span>

<span data-ttu-id="020b2-165">Per la serializzazione, <xref:System.Security.Permissions.SecurityPermission> con il flag <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> consente di ottenere e impostare membri di tipi serializzabili, indipendentemente dall'accessibilità.</span><span class="sxs-lookup"><span data-stu-id="020b2-165">For serialization, <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> flag provides the ability to get and set members of serializable types, regardless of accessibility.</span></span> <span data-ttu-id="020b2-166">Questa autorizzazione consente di individuare e modificare lo stato privato di un'istanza tramite codice.</span><span class="sxs-lookup"><span data-stu-id="020b2-166">This permission enables code to discover and change the private state of an instance.</span></span> <span data-ttu-id="020b2-167">Oltre a disporre delle autorizzazioni appropriate, il tipo deve essere [contrassegnato](../../standard/attributes/applying-attributes.md) come serializzabile nei metadati.</span><span class="sxs-lookup"><span data-stu-id="020b2-167">(In addition to being granted the appropriate permissions, the type must be [marked](../../standard/attributes/applying-attributes.md) as serializable in metadata.)</span></span>

## <a name="parameters-of-type-methodinfo"></a><span data-ttu-id="020b2-168">Parametri di tipo MethodInfo</span><span class="sxs-lookup"><span data-stu-id="020b2-168">Parameters of Type MethodInfo</span></span>

<span data-ttu-id="020b2-169">È consigliabile evitare di scrivere membri pubblici che accettano parametri <xref:System.Reflection.MethodInfo>, specialmente per codice attendibile.</span><span class="sxs-lookup"><span data-stu-id="020b2-169">Avoid writing public members that take <xref:System.Reflection.MethodInfo> parameters, especially for trusted code.</span></span> <span data-ttu-id="020b2-170">Tali membri potrebbero risultare più vulnerabili al codice dannoso.</span><span class="sxs-lookup"><span data-stu-id="020b2-170">Such members might be more vulnerable to malicious code.</span></span> <span data-ttu-id="020b2-171">Si consideri ad esempio un membro pubblico in codice a elevata attendibilità che accetta un parametro <xref:System.Reflection.MethodInfo>.</span><span class="sxs-lookup"><span data-stu-id="020b2-171">For example, consider a public member in highly trusted code that takes a <xref:System.Reflection.MethodInfo> parameter.</span></span> <span data-ttu-id="020b2-172">Si supponga che il membro pubblico chiami indirettamente il metodo <xref:System.Reflection.MethodBase.Invoke%2A> sul parametro specificato.</span><span class="sxs-lookup"><span data-stu-id="020b2-172">Assume that the public member indirectly calls the <xref:System.Reflection.MethodBase.Invoke%2A> method on the supplied parameter.</span></span> <span data-ttu-id="020b2-173">Se il membro pubblico non esegue i controlli di autorizzazione necessari, la chiamata al metodo <xref:System.Reflection.MethodBase.Invoke%2A> riuscirà sempre, poiché il sistema di sicurezza determina l'elevata attendibilità del chiamante.</span><span class="sxs-lookup"><span data-stu-id="020b2-173">If the public member does not perform the necessary permission checks, the call to the <xref:System.Reflection.MethodBase.Invoke%2A> method will always succeed, because the security system determines that the caller is highly trusted.</span></span> <span data-ttu-id="020b2-174">Anche se il codice dannoso non dispone dell'autorizzazione per richiamare direttamente il metodo, potrà chiamarlo indirettamente tramite una chiamata al membro pubblico.</span><span class="sxs-lookup"><span data-stu-id="020b2-174">Even if malicious code does not have the permission to directly invoke the method, it can still do so indirectly by calling the public member.</span></span>

## <a name="version-information"></a><span data-ttu-id="020b2-175">Informazioni sulla versione</span><span class="sxs-lookup"><span data-stu-id="020b2-175">Version Information</span></span>

- <span data-ttu-id="020b2-176">A partire da .NET Framework 4, il codice Transparent non può usare la reflection per accedere ai membri critici per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="020b2-176">Beginning with the .NET Framework 4, transparent code cannot use reflection to access security-critical members.</span></span>

- <span data-ttu-id="020b2-177">Il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> è stato introdotto in .NET Framework 2.0 Service Pack 1.</span><span class="sxs-lookup"><span data-stu-id="020b2-177">The <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag is introduced in the .NET Framework 2.0 Service Pack 1.</span></span> <span data-ttu-id="020b2-178">Le versioni precedenti di .NET Framework richiedono il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> per il codice che usa la reflection per accedere ai membri non pubblici.</span><span class="sxs-lookup"><span data-stu-id="020b2-178">Earlier versions of the .NET Framework require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for code that uses reflection to access nonpublic members.</span></span> <span data-ttu-id="020b2-179">Questa autorizzazione non dovrebbe mai essere concessa al codice parzialmente attendibile.</span><span class="sxs-lookup"><span data-stu-id="020b2-179">This is a permission that should never be granted to partially trusted code.</span></span>

- <span data-ttu-id="020b2-180">A partire da .NET Framework 2.0, l'uso della reflection per ottenere informazioni su tipi e membri non pubblici non richiede alcuna autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="020b2-180">Beginning with the .NET Framework 2.0, using reflection to obtain information about nonpublic types and members does not require any permissions.</span></span> <span data-ttu-id="020b2-181">Nelle versioni precedenti è necessario usare <xref:System.Security.Permissions.ReflectionPermission> con il flag <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="020b2-181">In earlier versions, <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag is required.</span></span>

## <a name="see-also"></a><span data-ttu-id="020b2-182">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="020b2-182">See also</span></span>

- <xref:System.Security.Permissions.ReflectionPermissionFlag>
- <xref:System.Security.Permissions.ReflectionPermission>
- <xref:System.Security.Permissions.SecurityPermission>
- [<span data-ttu-id="020b2-183">Modifiche della sicurezza</span><span class="sxs-lookup"><span data-stu-id="020b2-183">Security Changes</span></span>](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes)
- [<span data-ttu-id="020b2-184">Sicurezza dall'accesso di codice</span><span class="sxs-lookup"><span data-stu-id="020b2-184">Code Access Security</span></span>](../misc/code-access-security.md)
- [<span data-ttu-id="020b2-185">Problemi di sicurezza nella reflection emit</span><span class="sxs-lookup"><span data-stu-id="020b2-185">Security Issues in Reflection Emit</span></span>](security-issues-in-reflection-emit.md)
- [<span data-ttu-id="020b2-186">Visualizzazione delle informazioni sul tipo</span><span class="sxs-lookup"><span data-stu-id="020b2-186">Viewing Type Information</span></span>](viewing-type-information.md)
- [<span data-ttu-id="020b2-187">Applicazione di attributi</span><span class="sxs-lookup"><span data-stu-id="020b2-187">Applying Attributes</span></span>](../../standard/attributes/applying-attributes.md)
- [<span data-ttu-id="020b2-188">Accesso ad attributi personalizzati</span><span class="sxs-lookup"><span data-stu-id="020b2-188">Accessing Custom Attributes</span></span>](accessing-custom-attributes.md)
