---
title: 'Esercitazione: Classificare le violazioni di integrità con Model BuilderTutorial: Classify health violations with Model Builder'
description: Questa esercitazione illustra come creare un modello di classificazione multiclasse usando ML.NET Model Builder per classificare la gravità della violazione dell'integrità del ristorante a San Francisco.This tutorial illustrates how to build a multiclass classification model using ML.NET Model Builder to classify restaurant health violation severity in San Francisco.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc,mlnet-tooling
ms.openlocfilehash: e94313277a025d482105a6d78b6608d4df442c43
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185853"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="dffd6-103">Esercitazione: Classificare la gravità delle violazioni di integrità del ristorante con Model BuilderTutorial: Classify the severity of restaurant health violations with Model Builder</span><span class="sxs-lookup"><span data-stu-id="dffd6-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="dffd6-104">Informazioni su come creare un modello di classificazione multiclasse utilizzando Model Builder per classificare il livello di rischio delle violazioni dei ristoranti rilevate durante le ispezioni sanitarie.</span><span class="sxs-lookup"><span data-stu-id="dffd6-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="dffd6-105">In questa esercitazione verranno illustrate le procedure per:</span><span class="sxs-lookup"><span data-stu-id="dffd6-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="dffd6-106">Preparare e identificare i dati</span><span class="sxs-lookup"><span data-stu-id="dffd6-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="dffd6-107">Scegliere uno scenario</span><span class="sxs-lookup"><span data-stu-id="dffd6-107">Choose a scenario</span></span>
> - <span data-ttu-id="dffd6-108">Caricare dati da un databaseLoad data from a database</span><span class="sxs-lookup"><span data-stu-id="dffd6-108">Load data from a database</span></span>
> - <span data-ttu-id="dffd6-109">Eseguire il training del modello</span><span class="sxs-lookup"><span data-stu-id="dffd6-109">Train the model</span></span>
> - <span data-ttu-id="dffd6-110">Valutare il modello</span><span class="sxs-lookup"><span data-stu-id="dffd6-110">Evaluate the model</span></span>
> - <span data-ttu-id="dffd6-111">Usare il modello per le stime</span><span class="sxs-lookup"><span data-stu-id="dffd6-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="dffd6-112">Il generatore di modelli è attualmente in anteprima.</span><span class="sxs-lookup"><span data-stu-id="dffd6-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="dffd6-113">Prerequisites</span><span class="sxs-lookup"><span data-stu-id="dffd6-113">Prerequisites</span></span>

<span data-ttu-id="dffd6-114">Per un elenco dei prerequisiti e delle istruzioni di installazione, visitare la [guida all'installazione](../how-to-guides/install-model-builder.md)di Model Builder .</span><span class="sxs-lookup"><span data-stu-id="dffd6-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="dffd6-115">Panoramica della classificazione multiclasse di Model Builder</span><span class="sxs-lookup"><span data-stu-id="dffd6-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="dffd6-116">In questo esempio viene creata un'applicazione console di .NET Core di C. che classifica il rischio di violazioni dell'integrità usando un modello di apprendimento automatico compilato con Model Builder.This sample creates a C.NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="dffd6-117">È possibile trovare il codice sorgente per questa esercitazione nel repository [GitHub dotnet/machinelearning-samples.](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations)</span><span class="sxs-lookup"><span data-stu-id="dffd6-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="dffd6-118">Creare un'applicazione console</span><span class="sxs-lookup"><span data-stu-id="dffd6-118">Create a console application</span></span>

1. <span data-ttu-id="dffd6-119">Creare **un'applicazione console di C .NET Core** denominata "RestaurantViolations".</span><span class="sxs-lookup"><span data-stu-id="dffd6-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="dffd6-120">Assicurarsi che **l'opzione Inserisci soluzione e progetto nella stessa directory** sia **deselezionata** (VS 2019) o **l'opzione Crea directory per soluzione** sia **selezionata** (VS 2017).</span><span class="sxs-lookup"><span data-stu-id="dffd6-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="dffd6-121">Preparare e identificare i dati</span><span class="sxs-lookup"><span data-stu-id="dffd6-121">Prepare and understand the data</span></span>

> <span data-ttu-id="dffd6-122">Il set di dati utilizzato per addestrare e valutare il modello di apprendimento automatico è originariamente del Dipartimento di San Francisco dei punteggi di sicurezza del [ristorante della sanità pubblica.](https://www.sfdph.org/dph/EH/Food/score/default.asp)</span><span class="sxs-lookup"><span data-stu-id="dffd6-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="dffd6-123">Per comodità, il set di dati è stato condensato per includere solo le colonne rilevanti per eseguire il training del modello ed eseguire stime.</span><span class="sxs-lookup"><span data-stu-id="dffd6-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="dffd6-124">Visitare il seguente sito Web per ulteriori informazioni sul [set di dati](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span><span class="sxs-lookup"><span data-stu-id="dffd6-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="dffd6-125">[Scaricare il set](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) di dati Restaurant Safety Scores e decomprimerlo.</span><span class="sxs-lookup"><span data-stu-id="dffd6-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="dffd6-126">Ogni riga del set di dati contiene informazioni relative alle violazioni osservate durante un'ispezione da parte del Dipartimento della salute e una valutazione del rischio della minaccia che tali violazioni presentano alla salute e alla sicurezza pubblica.</span><span class="sxs-lookup"><span data-stu-id="dffd6-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="dffd6-127">IspezioneTipo</span><span class="sxs-lookup"><span data-stu-id="dffd6-127">InspectionType</span></span> | <span data-ttu-id="dffd6-128">ViolazioneDescrizione</span><span class="sxs-lookup"><span data-stu-id="dffd6-128">ViolationDescription</span></span> | <span data-ttu-id="dffd6-129">Categoria Rischio</span><span class="sxs-lookup"><span data-stu-id="dffd6-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="dffd6-130">Routine - Non pianificato</span><span class="sxs-lookup"><span data-stu-id="dffd6-130">Routine - Unscheduled</span></span> | <span data-ttu-id="dffd6-131">Superfici di contatto degli alimenti non adeguatamente pulite o igienizzate</span><span class="sxs-lookup"><span data-stu-id="dffd6-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="dffd6-132">Rischio moderato</span><span class="sxs-lookup"><span data-stu-id="dffd6-132">Moderate Risk</span></span> |
| <span data-ttu-id="dffd6-133">Nuova proprietà</span><span class="sxs-lookup"><span data-stu-id="dffd6-133">New Ownership</span></span> | <span data-ttu-id="dffd6-134">Infestazione di parassiti ad alto rischio</span><span class="sxs-lookup"><span data-stu-id="dffd6-134">High risk vermin infestation</span></span> | <span data-ttu-id="dffd6-135">Alto rischio</span><span class="sxs-lookup"><span data-stu-id="dffd6-135">High Risk</span></span> |
| <span data-ttu-id="dffd6-136">Routine - Non pianificato</span><span class="sxs-lookup"><span data-stu-id="dffd6-136">Routine - Unscheduled</span></span> | <span data-ttu-id="dffd6-137">Pulire i tessuti non puliti o correttamente conservati o disinadeguato</span><span class="sxs-lookup"><span data-stu-id="dffd6-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="dffd6-138">Basso rischio</span><span class="sxs-lookup"><span data-stu-id="dffd6-138">Low Risk</span></span> |

- <span data-ttu-id="dffd6-139">**InspectionType**: il tipo di ispezione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="dffd6-140">Questa può essere un'ispezione per la prima volta per un nuovo stabilimento, un'ispezione di routine, un'ispezione dei reclami e molti altri tipi.</span><span class="sxs-lookup"><span data-stu-id="dffd6-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="dffd6-141">**ViolationDescription**: una descrizione della violazione rilevata durante l'ispezione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="dffd6-142">**RiskCategory**: la gravità del rischio che una violazione pone alla salute e alla sicurezza pubblica.</span><span class="sxs-lookup"><span data-stu-id="dffd6-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="dffd6-143">`label` è la colonna sulla quale eseguire le stime.</span><span class="sxs-lookup"><span data-stu-id="dffd6-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="dffd6-144">Quando si esegue un'attività di classificazione, l'obiettivo è assegnare una categoria (testo o numerica).</span><span class="sxs-lookup"><span data-stu-id="dffd6-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="dffd6-145">In questo scenario di classificazione, alla gravità della violazione viene assegnato il valore di rischio basso, moderato o elevato.</span><span class="sxs-lookup"><span data-stu-id="dffd6-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="dffd6-146">Pertanto, il **RiskCategory** è l'etichetta.</span><span class="sxs-lookup"><span data-stu-id="dffd6-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="dffd6-147">Gli `features` input vengono dati al modello `label`per stimare il file .</span><span class="sxs-lookup"><span data-stu-id="dffd6-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="dffd6-148">In questo caso, **InspectionType** e **ViolationDescription** vengono utilizzati come feature o input per stimare **RiskCategory**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="dffd6-149">Scegliere uno scenario</span><span class="sxs-lookup"><span data-stu-id="dffd6-149">Choose a scenario</span></span>

![Creazione guidata Generatore di modelli in Visual StudioModel Builder wizard in Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="dffd6-151">Per eseguire il training del modello, selezionare dall'elenco degli scenari di apprendimento automatico disponibili fornito da Model Builder.To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="dffd6-152">In questo caso, lo scenario è *Classificazione dei problemi*.</span><span class="sxs-lookup"><span data-stu-id="dffd6-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="dffd6-153">In **Esplora soluzioni**fare clic con il pulsante destro del mouse sul progetto *RestaurantViolations* e scegliere **Aggiungi** > **Machine Learning**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="dffd6-154">Per questo esempio, lo scenario è la classificazione multiclasse.</span><span class="sxs-lookup"><span data-stu-id="dffd6-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="dffd6-155">Nel passaggio *Scenario* di Model Builder selezionare lo scenario **Di classificazione dei problemi.**</span><span class="sxs-lookup"><span data-stu-id="dffd6-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="dffd6-156">Caricare i dati</span><span class="sxs-lookup"><span data-stu-id="dffd6-156">Load the data</span></span>

<span data-ttu-id="dffd6-157">Model Builder accetta dati da un database di `csv` `tsv` SQL ServerSQL Server o da un file locale in formato o in formato.</span><span class="sxs-lookup"><span data-stu-id="dffd6-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="dffd6-158">Nel passaggio dati dello strumento Generatore di modelli selezionare **SQL Server** dall'elenco a discesa dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="dffd6-159">Selezionare il pulsante accanto alla casella di testo **Connetti al database sql Server.**</span><span class="sxs-lookup"><span data-stu-id="dffd6-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="dffd6-160">Nella finestra di dialogo **Scegli dati** selezionare File di database di Microsoft **SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="dffd6-161">Deselezionare la casella di controllo **Usa sempre questa selezione** e selezionare **Continua**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="dffd6-162">Nella finestra di dialogo **Proprietà connessione** selezionare **Sfoglia** e selezionare il file *RestaurantScores.mdf* scaricato.</span><span class="sxs-lookup"><span data-stu-id="dffd6-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="dffd6-163">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-163">Select **OK**.</span></span>
1. <span data-ttu-id="dffd6-164">Scegliere **Violazioni** dall'elenco a discesa **Nome tabella.**</span><span class="sxs-lookup"><span data-stu-id="dffd6-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="dffd6-165">Scegliere **RiskCategory** nell'elenco a discesa **Colonna da stimare (etichetta).**</span><span class="sxs-lookup"><span data-stu-id="dffd6-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="dffd6-166">Lasciare selezionata la selezione predefinita delle colonne, **InspectionType** e **ViolationDescription**, selezionata nell'elenco a discesa **Colonne di input (funzionalità).**</span><span class="sxs-lookup"><span data-stu-id="dffd6-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="dffd6-167">Selezionare il collegamento **Allenatore** per passare al passaggio successivo in Generatore di modelli.</span><span class="sxs-lookup"><span data-stu-id="dffd6-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="dffd6-168">Eseguire il training del modello</span><span class="sxs-lookup"><span data-stu-id="dffd6-168">Train the model</span></span>

<span data-ttu-id="dffd6-169">L'attività di apprendimento automatico usata per eseguire il training del modello di classificazione dei problemi in questa esercitazione è la classificazione multiclasse.</span><span class="sxs-lookup"><span data-stu-id="dffd6-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="dffd6-170">Durante il processo di training del modello, Model Builder esegue il training di modelli separati utilizzando algoritmi e impostazioni di classificazione multiclasse diversi per trovare il modello con le prestazioni migliori per il set di dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="dffd6-171">Il tempo necessario per il training del modello è proporzionale alla quantità di dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="dffd6-172">Model Builder seleziona automaticamente un valore predefinito per **Time to train (seconds)** in base alle dimensioni dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="dffd6-173">Anche se Model Builder imposta il valore di **Time to train (secondi)** su 10 secondi, aumentarlo a 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="dffd6-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="dffd6-174">Il training per un periodo di tempo più lungo consente a Model Builder di esplorare un numero maggiore di algoritmi e una combinazione di parametri alla ricerca del modello migliore.</span><span class="sxs-lookup"><span data-stu-id="dffd6-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="dffd6-175">Selezionare **Start Training** (Avvia training).</span><span class="sxs-lookup"><span data-stu-id="dffd6-175">Select **Start Training**.</span></span>

    <span data-ttu-id="dffd6-176">Durante il processo di training i dati dell'avanzamento vengono visualizzati nella sezione `Progress` del passaggio relativo al training.</span><span class="sxs-lookup"><span data-stu-id="dffd6-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="dffd6-177">**Stato** visualizza lo stato di completamento del processo di formazione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="dffd6-178">**La migliore precisione** mostra la precisione del modello con le migliori prestazioni trovato finora da Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="dffd6-179">Precisione maggiore indica il modello stimato più correttamente con i dati di test.</span><span class="sxs-lookup"><span data-stu-id="dffd6-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="dffd6-180">**L'algoritmo migliore** visualizza il nome dell'algoritmo con le prestazioni migliori trovato finora da Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="dffd6-181">**L'ultimo algoritmo** visualizza il nome dell'algoritmo utilizzato più di recente da Model Builder per eseguire il training del modello.</span><span class="sxs-lookup"><span data-stu-id="dffd6-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="dffd6-182">Una volta completato l'allenamento, selezionare il collegamento **Valuta** per passare al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="dffd6-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="dffd6-183">Valutare il modello</span><span class="sxs-lookup"><span data-stu-id="dffd6-183">Evaluate the model</span></span>

<span data-ttu-id="dffd6-184">Il risultato del passaggio di training è l'unico modello che ha prestazioni migliori.</span><span class="sxs-lookup"><span data-stu-id="dffd6-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="dffd6-185">Nel passaggio di valutazione di Model Builder, la sezione di output contiene l'algoritmo utilizzato dal modello con le migliori prestazioni nella voce **Best Model** insieme alle metriche in Best **Model Accuracy**.</span><span class="sxs-lookup"><span data-stu-id="dffd6-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="dffd6-186">Inoltre, viene visualizzata una tabella di riepilogo contenente fino a cinque modelli esplorati e le relative metriche.</span><span class="sxs-lookup"><span data-stu-id="dffd6-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="dffd6-187">Se non si è soddisfatti delle metriche di accuratezza, alcuni modi semplici per cercare di migliorare l'accuratezza del modello sono per aumentare la quantità di tempo per eseguire il training del modello o usare più dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="dffd6-188">In caso contrario, selezionare il collegamento al **codice** per passare al passaggio finale in Model Builder.Otherwise, select the code link to move to the final step in Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="dffd6-189">Aggiungere il codice per eseguire stime</span><span class="sxs-lookup"><span data-stu-id="dffd6-189">Add the code to make predictions</span></span>

<span data-ttu-id="dffd6-190">Due progetti sono stati creati come risultato del processo di formazione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="dffd6-191">RestaurantViolationsML.ConsoleApp: un'applicazione console di .NET Core di C.NET che contiene il training del modello e il codice di consumo di esempio.</span><span class="sxs-lookup"><span data-stu-id="dffd6-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="dffd6-192">RestaurantViolationsML.Model: libreria di classi .NET Standard contenente i modelli di dati che definiscono lo schema dei dati del `ConsumeModel` modello di input e di output, la versione salvata del modello con le prestazioni migliori durante il training e una classe helper chiamata per eseguire stime.</span><span class="sxs-lookup"><span data-stu-id="dffd6-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="dffd6-193">Nel passaggio di codice di Generatore di modelli selezionare **Aggiungi progetti** per aggiungere i progetti generati automaticamente alla soluzione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="dffd6-194">Aprire il file *Program.cs* nel progetto *RestaurantViolations.*</span><span class="sxs-lookup"><span data-stu-id="dffd6-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="dffd6-195">Aggiungere la seguente istruzione using per fare riferimento al progetto *RestaurantViolationsML.Model:*</span><span class="sxs-lookup"><span data-stu-id="dffd6-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="dffd6-196">Per eseguire una stima dei nuovi dati usando il `ModelInput` modello, `Main` creare una nuova istanza della classe all'interno del metodo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="dffd6-197">Si noti che la categoria di rischio non fa parte dell'input.</span><span class="sxs-lookup"><span data-stu-id="dffd6-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="dffd6-198">Ciò è dovuto al fatto che il modello genera la stima per tale modello.</span><span class="sxs-lookup"><span data-stu-id="dffd6-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="dffd6-199">Utilizzare `Predict` il metodo `ConsumeModel` della classe .</span><span class="sxs-lookup"><span data-stu-id="dffd6-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="dffd6-200">Il `Predict` metodo carica il modello [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) sottoposto a training, crea un per il modello e lo usa per eseguire stime sui nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="dffd6-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="dffd6-201">Eseguire l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="dffd6-201">Run the application.</span></span>

    <span data-ttu-id="dffd6-202">L'output generato dal programma dovrebbe essere simile al frammento di codice seguente:</span><span class="sxs-lookup"><span data-stu-id="dffd6-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="dffd6-203">Se in un secondo momento è necessario fare riferimento ai progetti generati all'interno di un'altra soluzione, è possibile trovarli all'interno della directory `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools`.</span><span class="sxs-lookup"><span data-stu-id="dffd6-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="dffd6-204">Congratulazioni!</span><span class="sxs-lookup"><span data-stu-id="dffd6-204">Congratulations!</span></span> <span data-ttu-id="dffd6-205">È stato creato correttamente un modello di apprendimento automatico per classificare il rischio di violazioni di integrità tramite Model Builder.You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span><span class="sxs-lookup"><span data-stu-id="dffd6-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="dffd6-206">È possibile trovare il codice sorgente per questa esercitazione nel repository [GitHub dotnet/machinelearning-samples.](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations)</span><span class="sxs-lookup"><span data-stu-id="dffd6-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="dffd6-207">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="dffd6-207">Additional resources</span></span>

<span data-ttu-id="dffd6-208">Per altre informazioni sugli argomenti presentati in questa esercitazione, vedere le risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="dffd6-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="dffd6-209">Scenari del generatore di modelli</span><span class="sxs-lookup"><span data-stu-id="dffd6-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="dffd6-210">Classificazione multiclasse</span><span class="sxs-lookup"><span data-stu-id="dffd6-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="dffd6-211">Metriche del modello di classificazione multiclasseMulticlass Classification Model Metrics</span><span class="sxs-lookup"><span data-stu-id="dffd6-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
